(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var id={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function z1(){if(ey)return ll;ey=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var ny;function L1(){return ny||(ny=1,id.exports=z1()),id.exports}var Ot=L1(),ad={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function P1(){if(ry)return Qt;ry=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function T(q){return q===null||typeof q!="object"?null:(q=E&&q[E]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function R(q,H,K){this.props=q,this.context=H,this.refs=S,this.updater=K||v}R.prototype.isReactComponent={},R.prototype.setState=function(q,H){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,H,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function x(){}x.prototype=R.prototype;function M(q,H,K){this.props=q,this.context=H,this.refs=S,this.updater=K||v}var L=M.prototype=new x;L.constructor=M,C(L,R.prototype),L.isPureReactComponent=!0;var Q=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function z(q,H,K,ot,dt,_t){return K=_t.ref,{$$typeof:i,type:q,key:H,ref:K!==void 0?K:null,props:_t}}function k(q,H){return z(q.type,H,void 0,void 0,void 0,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===i}function P(q){var H={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return H[K]})}var F=/\/+/g;function I(q,H){return typeof q=="object"&&q!==null&&q.key!=null?P(""+q.key):H.toString(36)}function V(){}function D(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(V,V):(q.status="pending",q.then(function(H){q.status==="pending"&&(q.status="fulfilled",q.value=H)},function(H){q.status==="pending"&&(q.status="rejected",q.reason=H)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ct(q,H,K,ot,dt){var _t=typeof q;(_t==="undefined"||_t==="boolean")&&(q=null);var Dt=!1;if(q===null)Dt=!0;else switch(_t){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(q.$$typeof){case i:case t:Dt=!0;break;case y:return Dt=q._init,ct(Dt(q._payload),H,K,ot,dt)}}if(Dt)return dt=dt(q),Dt=ot===""?"."+I(q,0):ot,Q(dt)?(K="",Dt!=null&&(K=Dt.replace(F,"$&/")+"/"),ct(dt,H,K,"",function(Gt){return Gt})):dt!=null&&(O(dt)&&(dt=k(dt,K+(dt.key==null||q&&q.key===dt.key?"":(""+dt.key).replace(F,"$&/")+"/")+Dt)),H.push(dt)),1;Dt=0;var Jt=ot===""?".":ot+":";if(Q(q))for(var Vt=0;Vt<q.length;Vt++)ot=q[Vt],_t=Jt+I(ot,Vt),Dt+=ct(ot,H,K,_t,dt);else if(Vt=T(q),typeof Vt=="function")for(q=Vt.call(q),Vt=0;!(ot=q.next()).done;)ot=ot.value,_t=Jt+I(ot,Vt++),Dt+=ct(ot,H,K,_t,dt);else if(_t==="object"){if(typeof q.then=="function")return ct(D(q),H,K,ot,dt);throw H=String(q),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function tt(q,H,K){if(q==null)return q;var ot=[],dt=0;return ct(q,ot,"","",function(_t){return H.call(K,_t,dt++)}),ot}function W(q){if(q._status===-1){var H=q._result;H=H(),H.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=H)}if(q._status===1)return q._result.default;throw q._result}var wt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ft(){}return Qt.Children={map:tt,forEach:function(q,H,K){tt(q,function(){H.apply(this,arguments)},K)},count:function(q){var H=0;return tt(q,function(){H++}),H},toArray:function(q){return tt(q,function(H){return H})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Qt.Component=R,Qt.Fragment=n,Qt.Profiler=o,Qt.PureComponent=M,Qt.StrictMode=a,Qt.Suspense=m,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return Y.H.useMemoCache(q)}},Qt.cache=function(q){return function(){return q.apply(null,arguments)}},Qt.cloneElement=function(q,H,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ot=C({},q.props),dt=q.key,_t=void 0;if(H!=null)for(Dt in H.ref!==void 0&&(_t=void 0),H.key!==void 0&&(dt=""+H.key),H)!rt.call(H,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&H.ref===void 0||(ot[Dt]=H[Dt]);var Dt=arguments.length-2;if(Dt===1)ot.children=K;else if(1<Dt){for(var Jt=Array(Dt),Vt=0;Vt<Dt;Vt++)Jt[Vt]=arguments[Vt+2];ot.children=Jt}return z(q.type,dt,void 0,void 0,_t,ot)},Qt.createContext=function(q){return q={$$typeof:h,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},Qt.createElement=function(q,H,K){var ot,dt={},_t=null;if(H!=null)for(ot in H.key!==void 0&&(_t=""+H.key),H)rt.call(H,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(dt[ot]=H[ot]);var Dt=arguments.length-2;if(Dt===1)dt.children=K;else if(1<Dt){for(var Jt=Array(Dt),Vt=0;Vt<Dt;Vt++)Jt[Vt]=arguments[Vt+2];dt.children=Jt}if(q&&q.defaultProps)for(ot in Dt=q.defaultProps,Dt)dt[ot]===void 0&&(dt[ot]=Dt[ot]);return z(q,_t,void 0,void 0,null,dt)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(q){return{$$typeof:d,render:q}},Qt.isValidElement=O,Qt.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:W}},Qt.memo=function(q,H){return{$$typeof:g,type:q,compare:H===void 0?null:H}},Qt.startTransition=function(q){var H=Y.T,K={};Y.T=K;try{var ot=q(),dt=Y.S;dt!==null&&dt(K,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(ft,wt)}catch(_t){wt(_t)}finally{Y.T=H}},Qt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Qt.use=function(q){return Y.H.use(q)},Qt.useActionState=function(q,H,K){return Y.H.useActionState(q,H,K)},Qt.useCallback=function(q,H){return Y.H.useCallback(q,H)},Qt.useContext=function(q){return Y.H.useContext(q)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(q,H){return Y.H.useDeferredValue(q,H)},Qt.useEffect=function(q,H,K){var ot=Y.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(q,H)},Qt.useId=function(){return Y.H.useId()},Qt.useImperativeHandle=function(q,H,K){return Y.H.useImperativeHandle(q,H,K)},Qt.useInsertionEffect=function(q,H){return Y.H.useInsertionEffect(q,H)},Qt.useLayoutEffect=function(q,H){return Y.H.useLayoutEffect(q,H)},Qt.useMemo=function(q,H){return Y.H.useMemo(q,H)},Qt.useOptimistic=function(q,H){return Y.H.useOptimistic(q,H)},Qt.useReducer=function(q,H,K){return Y.H.useReducer(q,H,K)},Qt.useRef=function(q){return Y.H.useRef(q)},Qt.useState=function(q){return Y.H.useState(q)},Qt.useSyncExternalStore=function(q,H,K){return Y.H.useSyncExternalStore(q,H,K)},Qt.useTransition=function(){return Y.H.useTransition()},Qt.version="19.1.0",Qt}var iy;function Zd(){return iy||(iy=1,ad.exports=P1()),ad.exports}var mt=Zd();const B1=Xd(mt);var sd={exports:{}},ul={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function j1(){return ay||(ay=1,function(i){function t(tt,W){var wt=tt.length;tt.push(W);t:for(;0<wt;){var ft=wt-1>>>1,q=tt[ft];if(0<o(q,W))tt[ft]=W,tt[wt]=q,wt=ft;else break t}}function n(tt){return tt.length===0?null:tt[0]}function a(tt){if(tt.length===0)return null;var W=tt[0],wt=tt.pop();if(wt!==W){tt[0]=wt;t:for(var ft=0,q=tt.length,H=q>>>1;ft<H;){var K=2*(ft+1)-1,ot=tt[K],dt=K+1,_t=tt[dt];if(0>o(ot,wt))dt<q&&0>o(_t,ot)?(tt[ft]=_t,tt[dt]=wt,ft=dt):(tt[ft]=ot,tt[K]=wt,ft=K);else if(dt<q&&0>o(_t,wt))tt[ft]=_t,tt[dt]=wt,ft=dt;else break t}}return W}function o(tt,W){var wt=tt.sortIndex-W.sortIndex;return wt!==0?wt:tt.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],g=[],y=1,E=null,T=3,v=!1,C=!1,S=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Q(tt){for(var W=n(g);W!==null;){if(W.callback===null)a(g);else if(W.startTime<=tt)a(g),W.sortIndex=W.expirationTime,t(m,W);else break;W=n(g)}}function Y(tt){if(S=!1,Q(tt),!C)if(n(m)!==null)C=!0,rt||(rt=!0,I());else{var W=n(g);W!==null&&ct(Y,W.startTime-tt)}}var rt=!1,z=-1,k=5,O=-1;function P(){return R?!0:!(i.unstable_now()-O<k)}function F(){if(R=!1,rt){var tt=i.unstable_now();O=tt;var W=!0;try{t:{C=!1,S&&(S=!1,M(z),z=-1),v=!0;var wt=T;try{e:{for(Q(tt),E=n(m);E!==null&&!(E.expirationTime>tt&&P());){var ft=E.callback;if(typeof ft=="function"){E.callback=null,T=E.priorityLevel;var q=ft(E.expirationTime<=tt);if(tt=i.unstable_now(),typeof q=="function"){E.callback=q,Q(tt),W=!0;break e}E===n(m)&&a(m),Q(tt)}else a(m);E=n(m)}if(E!==null)W=!0;else{var H=n(g);H!==null&&ct(Y,H.startTime-tt),W=!1}}break t}finally{E=null,T=wt,v=!1}W=void 0}}finally{W?I():rt=!1}}}var I;if(typeof L=="function")I=function(){L(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,D=V.port2;V.port1.onmessage=F,I=function(){D.postMessage(null)}}else I=function(){x(F,0)};function ct(tt,W){z=x(function(){tt(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(tt){tt.callback=null},i.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<tt?Math.floor(1e3/tt):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(tt){switch(T){case 1:case 2:case 3:var W=3;break;default:W=T}var wt=T;T=W;try{return tt()}finally{T=wt}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(tt,W){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var wt=T;T=tt;try{return W()}finally{T=wt}},i.unstable_scheduleCallback=function(tt,W,wt){var ft=i.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?ft+wt:ft):wt=ft,tt){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=wt+q,tt={id:y++,callback:W,priorityLevel:tt,startTime:wt,expirationTime:q,sortIndex:-1},wt>ft?(tt.sortIndex=wt,t(g,tt),n(m)===null&&tt===n(g)&&(S?(M(z),z=-1):S=!0,ct(Y,wt-ft))):(tt.sortIndex=q,t(m,tt),C||v||(C=!0,rt||(rt=!0,I()))),tt},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(tt){var W=T;return function(){var wt=T;T=W;try{return tt.apply(this,arguments)}finally{T=wt}}}}(ld)),ld}var sy;function q1(){return sy||(sy=1,od.exports=j1()),od.exports}var ud={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function H1(){if(oy)return dn;oy=1;var i=Zd();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},dn.flushSync=function(m){var g=h.T,y=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=y,a.d.f()}},dn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},dn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},dn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,v=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:v}):y==="script"&&a.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:v,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},dn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);a.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},dn.requestFormReset=function(m){a.d.r(m)},dn.unstable_batchedUpdates=function(m,g){return m(g)},dn.useFormState=function(m,g,y){return h.H.useFormState(m,g,y)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var ly;function F1(){if(ly)return ud.exports;ly=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ud.exports=H1(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function G1(){if(uy)return ul;uy=1;var i=q1(),t=Zd(),n=F1();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(a(188))}function m(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,l=r;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),e;if(p===l)return d(f),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var w=!1,N=f.child;N;){if(N===s){w=!0,s=f,l=p;break}if(N===l){w=!0,l=f,s=p;break}N=N.sibling}if(!w){for(N=p.child;N;){if(N===s){w=!0,s=p,l=f;break}if(N===l){w=!0,l=p,s=f;break}N=N.sibling}if(!w)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function D(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case Y:return"Suspense";case rt:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case L:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case Q:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return r=e.displayName||null,r!==null?r:D(e.type)||"Memo";case k:r=e._payload,e=e._init;try{return D(e(r))}catch{}}return null}var ct=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},ft=[],q=-1;function H(e){return{current:e}}function K(e){0>q||(e.current=ft[q],ft[q]=null,q--)}function ot(e,r){q++,ft[q]=e.current,e.current=r}var dt=H(null),_t=H(null),Dt=H(null),Jt=H(null);function Vt(e,r){switch(ot(Dt,r),ot(_t,e),ot(dt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?D_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=D_(r),e=I_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(dt),ot(dt,e)}function Gt(){K(dt),K(_t),K(Dt)}function ye(e){e.memoizedState!==null&&ot(Jt,e);var r=dt.current,s=I_(r,e.type);r!==s&&(ot(_t,e),ot(dt,s))}function se(e){_t.current===e&&(K(dt),K(_t)),Jt.current===e&&(K(Jt),rl._currentValue=wt)}var Xe=Object.prototype.hasOwnProperty,je=i.unstable_scheduleCallback,A=i.unstable_cancelCallback,pt=i.unstable_shouldYield,ut=i.unstable_requestPaint,j=i.unstable_now,B=i.unstable_getCurrentPriorityLevel,Z=i.unstable_ImmediatePriority,vt=i.unstable_UserBlockingPriority,Tt=i.unstable_NormalPriority,it=i.unstable_LowPriority,At=i.unstable_IdlePriority,xt=i.log,St=i.unstable_setDisableYieldValue,Ct=null,Ut=null;function jt(e){if(typeof xt=="function"&&St(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Ct,e)}catch{}}var ce=Math.clz32?Math.clz32:In,ur=Math.log,An=Math.LN2;function In(e){return e>>>=0,e===0?32:31-(ur(e)/An|0)|0}var he=256,Bn=4194304;function _n(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hn(e,r,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,p=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var N=l&134217727;return N!==0?(l=N&~p,l!==0?f=_n(l):(w&=N,w!==0?f=_n(w):s||(s=N&~e,s!==0&&(f=_n(s))))):(N=l&~p,N!==0?f=_n(N):w!==0?f=_n(w):s||(s=l&~e,s!==0&&(f=_n(s)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:f}function cr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function na(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ra(){var e=he;return he<<=1,(he&4194048)===0&&(he=256),e}function ia(){var e=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),e}function jn(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function yn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hr(e,r,s,l,f,p){var w=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var N=e.entanglements,G=e.expirationTimes,nt=e.hiddenUpdates;for(s=w&~s;0<s;){var ht=31-ce(s),yt=1<<ht;N[ht]=0,G[ht]=-1;var at=nt[ht];if(at!==null)for(nt[ht]=null,ht=0;ht<at.length;ht++){var st=at[ht];st!==null&&(st.lane&=-536870913)}s&=~yt}l!==0&&fr(e,l,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(w&~r))}function fr(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-ce(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function so(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-ce(s),f=1<<l;f&r|e[l]&r&&(e[l]|=r),s&=~f}}function di(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mi(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:X_(e.type))}function jl(e,r){var s=W.p;try{return W.p=e,r()}finally{W.p=s}}var we=Math.random().toString(36).slice(2),qe="__reactFiber$"+we,Me="__reactProps$"+we,qn="__reactContainer$"+we,oo="__reactEvents$"+we,sh="__reactListeners$"+we,pi="__reactHandles$"+we,ql="__reactResources$"+we,aa="__reactMarker$"+we;function gi(e){delete e[qe],delete e[Me],delete e[oo],delete e[sh],delete e[pi]}function Ur(e){var r=e[qe];if(r)return r;for(var s=e.parentNode;s;){if(r=s[qn]||s[qe]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=V_(e);e!==null;){if(s=e[qe])return s;e=V_(e)}return r}e=s,s=e.parentNode}return null}function dr(e){if(e=e[qe]||e[qn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function mr(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function vn(e){var r=e[ql];return r||(r=e[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Oe(e){e[aa]=!0}var lo=new Set,Ka={};function nr(e,r){zr(e,r),zr(e+"Capture",r)}function zr(e,r){for(Ka[e]=r,e=0;e<r.length;e++)lo.add(r[e])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},sa={};function Gl(e){return Xe.call(sa,e)?!0:Xe.call(Fl,e)?!1:Hl.test(e)?sa[e]=!0:(Fl[e]=!0,!1)}function _i(e,r,s){if(Gl(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function pr(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function nn(e,r,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+l)}}var oa,Ql;function Lr(e){if(oa===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);oa=r&&r[1]||"",Ql=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+Ql}var Xa=!1;function Za(e,r){if(!e||Xa)return"";Xa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(st){var at=st}Reflect.construct(e,[],yt)}else{try{yt.call()}catch(st){at=st}e.call(yt.prototype)}}else{try{throw Error()}catch(st){at=st}(yt=e())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(st){if(st&&at&&typeof st.stack=="string")return[st.stack,at.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],N=p[1];if(w&&N){var G=w.split(`
`),nt=N.split(`
`);for(f=l=0;l<G.length&&!G[l].includes("DetermineComponentFrameRoot");)l++;for(;f<nt.length&&!nt[f].includes("DetermineComponentFrameRoot");)f++;if(l===G.length||f===nt.length)for(l=G.length-1,f=nt.length-1;1<=l&&0<=f&&G[l]!==nt[f];)f--;for(;1<=l&&0<=f;l--,f--)if(G[l]!==nt[f]){if(l!==1||f!==1)do if(l--,f--,0>f||G[l]!==nt[f]){var ht=`
`+G[l].replace(" at new "," at ");return e.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",e.displayName)),ht}while(1<=l&&0<=f);break}}}finally{Xa=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Lr(s):""}function uo(e){switch(e.tag){case 26:case 27:case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return Za(e.type,!1);case 11:return Za(e.type.render,!1);case 1:return Za(e.type,!0);case 31:return Lr("Activity");default:return""}}function $a(e){try{var r="";do r+=uo(e),e=e.return;while(e);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function co(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oh(e){var r=co(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Wa(e){e._valueTracker||(e._valueTracker=oh(e))}function ho(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=co(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lh=/[\n"\\]/g;function Ue(e){return e.replace(lh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function On(e,r,s,l,f,p,w,N){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),r!=null?w==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+En(r)):e.value!==""+En(r)&&(e.value=""+En(r)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),r!=null?yi(e,w,En(r)):s!=null?yi(e,w,En(s)):l!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+En(N):e.removeAttribute("name")}function ua(e,r,s,l,f,p,w,N){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;s=s!=null?""+En(s):"",r=r!=null?""+En(r):s,N||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function yi(e,r,s){r==="number"&&la(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Pr(e,r,s,l){if(e=e.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=r.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+En(s),r=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function me(e,r,s){if(r!=null&&(r=""+En(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+En(s):""}function ca(e,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ct(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=En(r),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Hn(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(e,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,s):typeof s!="number"||s===0||ha.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function fo(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&Yl(e,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Yl(e,p,r[p])}function mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(e){return ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Br=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,qr=null;function po(e){var r=dr(e);if(r&&(e=r.stateNode)){var s=e[Me]||null;t:switch(e=r.stateNode,r.type){case"input":if(On(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ue(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var f=l[Me]||null;if(!f)throw Error(a(90));On(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===e.form&&ho(l)}break t;case"textarea":me(e,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Pr(e,!!s.multiple,r,!1)}}}var gr=!1;function Kl(e,r,s){if(gr)return e(r,s);gr=!0;try{var l=e(r);return l}finally{if(gr=!1,(jr!==null||qr!==null)&&(ju(),jr&&(r=jr,e=qr,qr=jr=null,po(r),e)))for(r=0;r<e.length;r++)po(e[r])}}function fa(e,r){var s=e.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(rr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Gn=!1}var _r=null,vi=null,Hr=null;function go(){if(Hr)return Hr;var e,r=vi,s=r.length,l,f="value"in _r?_r.value:_r.textContent,p=f.length;for(e=0;e<s&&r[e]===f[e];e++);var w=s-e;for(l=1;l<=w&&r[s-l]===f[p-l];l++);return Hr=f.slice(e,1<l?1-l:void 0)}function yr(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function vr(){return!0}function _o(){return!1}function Ze(e){function r(s,l,f,p,w){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(s=e[N],this[N]=s?s(p):p[N]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?vr:_o,this.isPropagationStopped=_o,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),r}var le={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Ze(le),ma=y({},le,{view:0,detail:0}),Xl=Ze(ma),es,ns,Er,pa=y({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(es=e.screenX-Er.screenX,ns=e.screenY-Er.screenY):ns=es=0,Er=e),es)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),Qn=Ze(pa),Zl=y({},pa,{dataTransfer:0}),hh=Ze(Zl),ga=y({},ma,{relatedTarget:0}),rs=Ze(ga),yo=y({},le,{animationName:0,elapsedTime:0,pseudoElement:0}),is=Ze(yo),$l=y({},le,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),as=Ze($l),fh=y({},le,{data:0}),vo=Ze(fh),_a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Jl[e])?!!r[e]:!1}function ya(){return Eo}var tu=y({},ma,{key:function(e){if(e.key){var r=_a[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=Ze(tu),eu=y({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Ze(eu),Fr=y({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),nu=Ze(Fr),ru=y({},le,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=Ze(ru),au=y({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),os=Ze(au),bn=y({},le,{newState:0,oldState:0}),su=Ze(bn),ou=[9,13,27,32],br=rr&&"CompositionEvent"in window,c=null;rr&&"documentMode"in document&&(c=document.documentMode);var _=rr&&"TextEvent"in window&&!c,b=rr&&(!br||c&&8<c&&11>=c),U=" ",J=!1;function lt(e,r){switch(e){case"keyup":return ou.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var te=!1;function He(e,r){switch(e){case"compositionend":return Rt(r);case"keypress":return r.which!==32?null:(J=!0,U);case"textInput":return e=r.data,e===U&&J?null:e;default:return null}}function ee(e,r){if(te)return e==="compositionend"||!br&&lt(e,r)?(e=go(),Hr=vi=_r=null,te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$e[e.type]:r==="textarea"}function Gr(e,r,s,l){jr?qr?qr.push(l):qr=[l]:jr=l,r=Yu(r,"onChange"),0<r.length&&(s=new ts("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var rn=null,Tr=null;function To(e){A_(e,0)}function lu(e){var r=mr(e);if(ho(r))return e}function Gm(e,r){if(e==="change")return r}var Qm=!1;if(rr){var dh;if(rr){var mh="oninput"in document;if(!mh){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),mh=typeof Ym.oninput=="function"}dh=mh}else dh=!1;Qm=dh&&(!document.documentMode||9<document.documentMode)}function Km(){rn&&(rn.detachEvent("onpropertychange",Xm),Tr=rn=null)}function Xm(e){if(e.propertyName==="value"&&lu(Tr)){var r=[];Gr(r,Tr,e,Fn(e)),Kl(To,r)}}function db(e,r,s){e==="focusin"?(Km(),rn=r,Tr=s,rn.attachEvent("onpropertychange",Xm)):e==="focusout"&&Km()}function mb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(Tr)}function pb(e,r){if(e==="click")return lu(r)}function gb(e,r){if(e==="input"||e==="change")return lu(r)}function _b(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Nn=typeof Object.is=="function"?Object.is:_b;function wo(e,r){if(Nn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Xe.call(r,f)||!Nn(e[f],r[f]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,r){var s=Zm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Zm(s)}}function Wm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Wm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=la(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=la(e.document)}return r}function ph(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var yb=rr&&"documentMode"in document&&11>=document.documentMode,ls=null,gh=null,Ao=null,_h=!1;function tp(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_h||ls==null||ls!==la(l)||(l=ls,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ao&&wo(Ao,l)||(Ao=l,l=Yu(gh,"onSelect"),0<l.length&&(r=new ts("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=ls)))}function va(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var us={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},yh={},ep={};rr&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Ea(e){if(yh[e])return yh[e];if(!us[e])return e;var r=us[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in ep)return yh[e]=r[s];return e}var np=Ea("animationend"),rp=Ea("animationiteration"),ip=Ea("animationstart"),vb=Ea("transitionrun"),Eb=Ea("transitionstart"),bb=Ea("transitioncancel"),ap=Ea("transitionend"),sp=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function ir(e,r){sp.set(e,r),nr(r,[e])}var op=new WeakMap;function Yn(e,r){if(typeof e=="object"&&e!==null){var s=op.get(e);return s!==void 0?s:(r={value:e,source:r,stack:$a(r)},op.set(e,r),r)}return{value:e,source:r,stack:$a(r)}}var Kn=[],cs=0,Eh=0;function uu(){for(var e=cs,r=Eh=cs=0;r<e;){var s=Kn[r];Kn[r++]=null;var l=Kn[r];Kn[r++]=null;var f=Kn[r];Kn[r++]=null;var p=Kn[r];if(Kn[r++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}p!==0&&lp(s,f,p)}}function cu(e,r,s,l){Kn[cs++]=e,Kn[cs++]=r,Kn[cs++]=s,Kn[cs++]=l,Eh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bh(e,r,s,l){return cu(e,r,s,l),hu(e)}function hs(e,r){return cu(e,null,null,r),hu(e)}function lp(e,r,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=e.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&r!==null&&(f=31-ce(s),e=p.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=s|536870912),p):null}function hu(e){if(50<Xo)throw Xo=0,xf=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var fs={};function Tb(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,r,s,l){return new Tb(e,r,s,l)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qr(e,r){var s=e.alternate;return s===null?(s=kn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function up(e,r){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function fu(e,r,s,l,f,p){var w=0;if(l=e,typeof e=="function")Th(e)&&(w=1);else if(typeof e=="string")w=A1(e,s,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case O:return e=kn(31,s,r,f),e.elementType=O,e.lanes=p,e;case C:return ba(s.children,f,p,r);case S:w=8,f|=24;break;case R:return e=kn(12,s,r,f|2),e.elementType=R,e.lanes=p,e;case Y:return e=kn(13,s,r,f),e.elementType=Y,e.lanes=p,e;case rt:return e=kn(19,s,r,f),e.elementType=rt,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:case L:w=10;break t;case M:w=9;break t;case Q:w=11;break t;case z:w=14;break t;case k:w=16,l=null;break t}w=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return r=kn(w,s,r,f),r.elementType=e,r.type=l,r.lanes=p,r}function ba(e,r,s,l){return e=kn(7,e,l,r),e.lanes=s,e}function wh(e,r,s){return e=kn(6,e,null,r),e.lanes=s,e}function Ah(e,r,s){return r=kn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var ds=[],ms=0,du=null,mu=0,Xn=[],Zn=0,Ta=null,Yr=1,Kr="";function wa(e,r){ds[ms++]=mu,ds[ms++]=du,du=e,mu=r}function cp(e,r,s){Xn[Zn++]=Yr,Xn[Zn++]=Kr,Xn[Zn++]=Ta,Ta=e;var l=Yr;e=Kr;var f=32-ce(l)-1;l&=~(1<<f),s+=1;var p=32-ce(r)+f;if(30<p){var w=f-f%5;p=(l&(1<<w)-1).toString(32),l>>=w,f-=w,Yr=1<<32-ce(r)+f|s<<f|l,Kr=p+e}else Yr=1<<p|s<<f|l,Kr=e}function Sh(e){e.return!==null&&(wa(e,1),cp(e,1,0))}function Rh(e){for(;e===du;)du=ds[--ms],ds[ms]=null,mu=ds[--ms],ds[ms]=null;for(;e===Ta;)Ta=Xn[--Zn],Xn[Zn]=null,Kr=Xn[--Zn],Xn[Zn]=null,Yr=Xn[--Zn],Xn[Zn]=null}var Tn=null,De=null,oe=!1,Aa=null,wr=!1,Ch=Error(a(519));function Sa(e){var r=Error(a(418,""));throw Co(Yn(r,e)),Ch}function hp(e){var r=e.stateNode,s=e.type,l=e.memoizedProps;switch(r[qe]=e,r[Me]=l,s){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(s=0;s<$o.length;s++)$t($o[s],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":$t("invalid",r),ua(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wa(r);break;case"select":$t("invalid",r);break;case"textarea":$t("invalid",r),ca(r,l.value,l.defaultValue,l.children),Wa(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||x_(r.textContent,s)?(l.popover!=null&&($t("beforetoggle",r),$t("toggle",r)),l.onScroll!=null&&$t("scroll",r),l.onScrollEnd!=null&&$t("scrollend",r),l.onClick!=null&&(r.onclick=Ku),r=!0):r=!1,r||Sa(e)}function fp(e){for(Tn=e.return;Tn;)switch(Tn.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:Tn=Tn.return}}function So(e){if(e!==Tn)return!1;if(!oe)return fp(e),oe=!0,!1;var r=e.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ff(e.type,e.memoizedProps)),s=!s),s&&De&&Sa(e),fp(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(r===0){De=sr(e.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;e=e.nextSibling}De=null}}else r===27?(r=De,Mi(e.type)?(e=Kf,Kf=null,De=e):De=r):De=Tn?sr(e.stateNode.nextSibling):null;return!0}function Ro(){De=Tn=null,oe=!1}function dp(){var e=Aa;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),Aa=null),e}function Co(e){Aa===null?Aa=[e]:Aa.push(e)}var xh=H(null),Ra=null,Xr=null;function Ei(e,r,s){ot(xh,r._currentValue),r._currentValue=s}function Zr(e){e._currentValue=xh.current,K(xh)}function Dh(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function Ih(e,r,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var w=f.child;p=p.firstContext;t:for(;p!==null;){var N=p;p=f;for(var G=0;G<r.length;G++)if(N.context===r[G]){p.lanes|=s,N=p.alternate,N!==null&&(N.lanes|=s),Dh(p.return,s,e),l||(w=null);break t}p=N.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(a(341));w.lanes|=s,p=w.alternate,p!==null&&(p.lanes|=s),Dh(w,s,e),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===e){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function xo(e,r,s,l){e=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var N=f.type;Nn(f.pendingProps.value,w.value)||(e!==null?e.push(N):e=[N])}}else if(f===Jt.current){if(w=f.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}f=f.return}e!==null&&Ih(r,e,s,l),r.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){Ra=e,Xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return mp(Ra,e)}function gu(e,r){return Ra===null&&Ca(e),mp(e,r)}function mp(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Xr===null){if(e===null)throw Error(a(308));Xr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Xr=Xr.next=r;return s}var wb=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},Ab=i.unstable_scheduleCallback,Sb=i.unstable_NormalPriority,Ge={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new wb,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&Ab(Sb,function(){e.controller.abort()})}var Io=null,Nh=0,ps=0,gs=null;function Rb(e,r){if(Io===null){var s=Io=[];Nh=0,ps=Mf(),gs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Nh++,r.then(pp,pp),r}function pp(){if(--Nh===0&&Io!==null){gs!==null&&(gs.status="fulfilled");var e=Io;Io=null,ps=0,gs=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Cb(e,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var gp=tt.S;tt.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Rb(e,r),gp!==null&&gp(e,r)};var xa=H(null);function kh(){var e=xa.current;return e!==null?e:Ee.pooledCache}function _u(e,r){r===null?ot(xa,xa.current):ot(xa,r.pool)}function _p(){var e=kh();return e===null?null:{parent:Ge._currentValue,pool:e}}var Oo=Error(a(460)),yp=Error(a(474)),yu=Error(a(542)),Vh={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vu(){}function Ep(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(vu,vu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Tp(e),e;default:if(typeof r.status=="string")r.then(vu,vu);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Tp(e),e}throw No=r,Oo}}var No=null;function bp(){if(No===null)throw Error(a(459));var e=No;return No=null,e}function Tp(e){if(e===Oo||e===yu)throw Error(a(483))}var bi=!1;function Mh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(fe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=hu(e),lp(e,null,s),r}return cu(e,l,r,s),hu(e)}function ko(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,so(e,s)}}function zh(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=w:p=p.next=w,s=s.next}while(s!==null);p===null?f=p=r:p=p.next=r}else f=p=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Lh=!1;function Vo(){if(Lh){var e=gs;if(e!==null)throw e}}function Mo(e,r,s,l){Lh=!1;var f=e.updateQueue;bi=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var G=N,nt=G.next;G.next=null,w===null?p=nt:w.next=nt,w=G;var ht=e.alternate;ht!==null&&(ht=ht.updateQueue,N=ht.lastBaseUpdate,N!==w&&(N===null?ht.firstBaseUpdate=nt:N.next=nt,ht.lastBaseUpdate=G))}if(p!==null){var yt=f.baseState;w=0,ht=nt=G=null,N=p;do{var at=N.lane&-536870913,st=at!==N.lane;if(st?(ne&at)===at:(l&at)===at){at!==0&&at===ps&&(Lh=!0),ht!==null&&(ht=ht.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var qt=e,Lt=N;at=r;var _e=s;switch(Lt.tag){case 1:if(qt=Lt.payload,typeof qt=="function"){yt=qt.call(_e,yt,at);break t}yt=qt;break t;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Lt.payload,at=typeof qt=="function"?qt.call(_e,yt,at):qt,at==null)break t;yt=y({},yt,at);break t;case 2:bi=!0}}at=N.callback,at!==null&&(e.flags|=64,st&&(e.flags|=8192),st=f.callbacks,st===null?f.callbacks=[at]:st.push(at))}else st={lane:at,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ht===null?(nt=ht=st,G=yt):ht=ht.next=st,w|=at;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;st=N,N=st.next,st.next=null,f.lastBaseUpdate=st,f.shared.pending=null}}while(!0);ht===null&&(G=yt),f.baseState=G,f.firstBaseUpdate=nt,f.lastBaseUpdate=ht,p===null&&(f.shared.lanes=0),Oi|=w,e.lanes=w,e.memoizedState=yt}}function wp(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function Ap(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)wp(s[e],r)}var _s=H(null),Eu=H(0);function Sp(e,r){e=ri,ot(Eu,e),ot(_s,r),ri=e|r.baseLanes}function Ph(){ot(Eu,ri),ot(_s,_s.current)}function Bh(){ri=Eu.current,K(_s),K(Eu)}var Ai=0,Yt=null,pe=null,ze=null,bu=!1,ys=!1,Da=!1,Tu=0,Uo=0,vs=null,xb=0;function Ne(){throw Error(a(321))}function jh(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Nn(e[s],r[s]))return!1;return!0}function qh(e,r,s,l,f,p){return Ai=p,Yt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=e===null||e.memoizedState===null?lg:ug,Da=!1,p=s(l,f),Da=!1,ys&&(p=Cp(r,s,l,f)),Rp(e),p}function Rp(e){tt.H=xu;var r=pe!==null&&pe.next!==null;if(Ai=0,ze=pe=Yt=null,bu=!1,Uo=0,vs=null,r)throw Error(a(300));e===null||We||(e=e.dependencies,e!==null&&pu(e)&&(We=!0))}function Cp(e,r,s,l){Yt=e;var f=0;do{if(ys&&(vs=null),Uo=0,ys=!1,25<=f)throw Error(a(301));if(f+=1,ze=pe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}tt.H=Mb,p=r(s,l)}while(ys);return p}function Db(){var e=tt.H,r=e.useState()[0];return r=typeof r.then=="function"?zo(r):r,e=e.useState()[0],(pe!==null?pe.memoizedState:null)!==e&&(Yt.flags|=1024),r}function Hh(){var e=Tu!==0;return Tu=0,e}function Fh(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Gh(e){if(bu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}bu=!1}Ai=0,ze=pe=Yt=null,ys=!1,Uo=Tu=0,vs=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Yt.memoizedState=ze=e:ze=ze.next=e,ze}function Le(){if(pe===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var r=ze===null?Yt.memoizedState:ze.next;if(r!==null)ze=r,pe=e;else{if(e===null)throw Yt.alternate===null?Error(a(467)):Error(a(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ze===null?Yt.memoizedState=ze=e:ze=ze.next=e}return ze}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var r=Uo;return Uo+=1,vs===null&&(vs=[]),e=Ep(vs,e,r),r=Yt,(ze===null?r.memoizedState:ze.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?lg:ug),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===L)return fn(e)}throw Error(a(438,String(e)))}function Yh(e){var r=null,s=Yt.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Qh(),Yt.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),l=0;l<e;l++)s[l]=P;return r.index++,s}function $r(e,r){return typeof r=="function"?r(e):r}function Au(e){var r=Le();return Kh(r,pe,e)}function Kh(e,r,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=e.baseQueue,p=l.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}r.baseQueue=f=p,l.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{r=f.next;var N=w=null,G=null,nt=r,ht=!1;do{var yt=nt.lane&-536870913;if(yt!==nt.lane?(ne&yt)===yt:(Ai&yt)===yt){var at=nt.revertLane;if(at===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),yt===ps&&(ht=!0);else if((Ai&at)===at){nt=nt.next,at===ps&&(ht=!0);continue}else yt={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},G===null?(N=G=yt,w=p):G=G.next=yt,Yt.lanes|=at,Oi|=at;yt=nt.action,Da&&s(p,yt),p=nt.hasEagerState?nt.eagerState:s(p,yt)}else at={lane:yt,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},G===null?(N=G=at,w=p):G=G.next=at,Yt.lanes|=yt,Oi|=yt;nt=nt.next}while(nt!==null&&nt!==r);if(G===null?w=p:G.next=N,!Nn(p,e.memoizedState)&&(We=!0,ht&&(s=gs,s!==null)))throw s;e.memoizedState=p,e.baseState=w,e.baseQueue=G,l.lastRenderedState=p}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Xh(e){var r=Le(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,p=r.memoizedState;if(f!==null){s.pending=null;var w=f=f.next;do p=e(p,w.action),w=w.next;while(w!==f);Nn(p,r.memoizedState)||(We=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function xp(e,r,s){var l=Yt,f=Le(),p=oe;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var w=!Nn((pe||f).memoizedState,s);w&&(f.memoizedState=s,We=!0),f=f.queue;var N=Op.bind(null,l,f,e);if(Lo(2048,8,N,[e]),f.getSnapshot!==r||w||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,Es(9,Su(),Ip.bind(null,l,f,s,r),null),Ee===null)throw Error(a(349));p||(Ai&124)!==0||Dp(l,r,s)}return s}function Dp(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Yt.updateQueue,r===null?(r=Qh(),Yt.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Ip(e,r,s,l){r.value=s,r.getSnapshot=l,Np(r)&&kp(e)}function Op(e,r,s){return s(function(){Np(r)&&kp(e)})}function Np(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Nn(e,s)}catch{return!0}}function kp(e){var r=hs(e,2);r!==null&&Ln(r,e,2)}function Zh(e){var r=Sn();if(typeof e=="function"){var s=e;if(e=s(),Da){jt(!0);try{s()}finally{jt(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},r}function Vp(e,r,s,l){return e.baseState=s,Kh(e,pe,typeof l=="function"?l:$r)}function Ib(e,r,s,l,f){if(Cu(e))throw Error(a(485));if(e=r.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};tt.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Mp(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Mp(e,r){var s=r.action,l=r.payload,f=e.state;if(r.isTransition){var p=tt.T,w={};tt.T=w;try{var N=s(f,l),G=tt.S;G!==null&&G(w,N),Up(e,r,N)}catch(nt){$h(e,r,nt)}finally{tt.T=p}}else try{p=s(f,l),Up(e,r,p)}catch(nt){$h(e,r,nt)}}function Up(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){zp(e,r,l)},function(l){return $h(e,r,l)}):zp(e,r,s)}function zp(e,r,s){r.status="fulfilled",r.value=s,Lp(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,Mp(e,s)))}function $h(e,r,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Lp(r),r=r.next;while(r!==l)}e.action=null}function Lp(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Pp(e,r){return r}function Bp(e,r){if(oe){var s=Ee.formState;if(s!==null){t:{var l=Yt;if(oe){if(De){e:{for(var f=De,p=wr;f.nodeType!==8;){if(!p){f=null;break e}if(f=sr(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){De=sr(f.nextSibling),l=f.data==="F!";break t}}Sa(l)}l=!1}l&&(r=s[0])}}return s=Sn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:r},s.queue=l,s=ag.bind(null,Yt,l),l.dispatch=s,l=Zh(!1),p=nf.bind(null,Yt,!1,l.queue),l=Sn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,s=Ib.bind(null,Yt,f,p,s),f.dispatch=s,l.memoizedState=e,[r,s,!1]}function jp(e){var r=Le();return qp(r,pe,e)}function qp(e,r,s){if(r=Kh(e,r,Pp)[0],e=Au($r)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=zo(r)}catch(w){throw w===Oo?yu:w}else l=r;r=Le();var f=r.queue,p=f.dispatch;return s!==r.memoizedState&&(Yt.flags|=2048,Es(9,Su(),Ob.bind(null,f,s),null)),[l,p,e]}function Ob(e,r){e.action=r}function Hp(e){var r=Le(),s=pe;if(s!==null)return qp(r,s,e);Le(),r=r.memoizedState,s=Le();var l=s.queue.dispatch;return s.memoizedState=e,[r,l,!1]}function Es(e,r,s,l){return e={tag:e,create:s,deps:l,inst:r,next:null},r=Yt.updateQueue,r===null&&(r=Qh(),Yt.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e),e}function Su(){return{destroy:void 0,resource:void 0}}function Fp(){return Le().memoizedState}function Ru(e,r,s,l){var f=Sn();l=l===void 0?null:l,Yt.flags|=e,f.memoizedState=Es(1|r,Su(),s,l)}function Lo(e,r,s,l){var f=Le();l=l===void 0?null:l;var p=f.memoizedState.inst;pe!==null&&l!==null&&jh(l,pe.memoizedState.deps)?f.memoizedState=Es(r,p,s,l):(Yt.flags|=e,f.memoizedState=Es(1|r,p,s,l))}function Gp(e,r){Ru(8390656,8,e,r)}function Qp(e,r){Lo(2048,8,e,r)}function Yp(e,r){return Lo(4,2,e,r)}function Kp(e,r){return Lo(4,4,e,r)}function Xp(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Zp(e,r,s){s=s!=null?s.concat([e]):null,Lo(4,4,Xp.bind(null,r,e),s)}function Wh(){}function $p(e,r){var s=Le();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&jh(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function Wp(e,r){var s=Le();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&jh(r,l[1]))return l[0];if(l=e(),Da){jt(!0);try{e()}finally{jt(!1)}}return s.memoizedState=[l,r],l}function Jh(e,r,s){return s===void 0||(Ai&1073741824)!==0?e.memoizedState=r:(e.memoizedState=s,e=e_(),Yt.lanes|=e,Oi|=e,s)}function Jp(e,r,s,l){return Nn(s,r)?s:_s.current!==null?(e=Jh(e,s,l),Nn(e,r)||(We=!0),e):(Ai&42)===0?(We=!0,e.memoizedState=s):(e=e_(),Yt.lanes|=e,Oi|=e,r)}function tg(e,r,s,l,f){var p=W.p;W.p=p!==0&&8>p?p:8;var w=tt.T,N={};tt.T=N,nf(e,!1,r,s);try{var G=f(),nt=tt.S;if(nt!==null&&nt(N,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ht=Cb(G,l);Po(e,r,ht,zn(e))}else Po(e,r,l,zn(e))}catch(yt){Po(e,r,{then:function(){},status:"rejected",reason:yt},zn())}finally{W.p=p,tt.T=w}}function Nb(){}function tf(e,r,s,l){if(e.tag!==5)throw Error(a(476));var f=eg(e).queue;tg(e,f,r,wt,s===null?Nb:function(){return ng(e),s(l)})}function eg(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:wt},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function ng(e){var r=eg(e).next.queue;Po(e,r,{},zn())}function ef(){return fn(rl)}function rg(){return Le().memoizedState}function ig(){return Le().memoizedState}function kb(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=zn();e=Ti(s);var l=wi(r,e,s);l!==null&&(Ln(l,r,s),ko(l,r,s)),r={cache:Oh()},e.payload=r;return}r=r.return}}function Vb(e,r,s){var l=zn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Cu(e)?sg(r,s):(s=bh(e,r,s,l),s!==null&&(Ln(s,e,l),og(s,r,l)))}function ag(e,r,s){var l=zn();Po(e,r,s,l)}function Po(e,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))sg(r,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var w=r.lastRenderedState,N=p(w,s);if(f.hasEagerState=!0,f.eagerState=N,Nn(N,w))return cu(e,r,f,0),Ee===null&&uu(),!1}catch{}finally{}if(s=bh(e,r,f,l),s!==null)return Ln(s,e,l),og(s,r,l),!0}return!1}function nf(e,r,s,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(r)throw Error(a(479))}else r=bh(e,s,l,2),r!==null&&Ln(r,e,2)}function Cu(e){var r=e.alternate;return e===Yt||r!==null&&r===Yt}function sg(e,r){ys=bu=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function og(e,r,s){if((s&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,so(e,s)}}var xu={readContext:fn,use:wu,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne},lg={readContext:fn,use:wu,useCallback:function(e,r){return Sn().memoizedState=[e,r===void 0?null:r],e},useContext:fn,useEffect:Gp,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,Ru(4194308,4,Xp.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Ru(4194308,4,e,r)},useInsertionEffect:function(e,r){Ru(4,2,e,r)},useMemo:function(e,r){var s=Sn();r=r===void 0?null:r;var l=e();if(Da){jt(!0);try{e()}finally{jt(!1)}}return s.memoizedState=[l,r],l},useReducer:function(e,r,s){var l=Sn();if(s!==void 0){var f=s(r);if(Da){jt(!0);try{s(r)}finally{jt(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Vb.bind(null,Yt,e),[l.memoizedState,e]},useRef:function(e){var r=Sn();return e={current:e},r.memoizedState=e},useState:function(e){e=Zh(e);var r=e.queue,s=ag.bind(null,Yt,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:Wh,useDeferredValue:function(e,r){var s=Sn();return Jh(s,e,r)},useTransition:function(){var e=Zh(!1);return e=tg.bind(null,Yt,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var l=Yt,f=Sn();if(oe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Ee===null)throw Error(a(349));(ne&124)!==0||Dp(l,r,s)}f.memoizedState=s;var p={value:s,getSnapshot:r};return f.queue=p,Gp(Op.bind(null,l,p,e),[e]),l.flags|=2048,Es(9,Su(),Ip.bind(null,l,p,s,r),null),s},useId:function(){var e=Sn(),r=Ee.identifierPrefix;if(oe){var s=Kr,l=Yr;s=(l&~(1<<32-ce(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=Tu++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=xb++,r="«"+r+"r"+s.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:ef,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var r=Sn();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=nf.bind(null,Yt,!0,s),s.dispatch=r,[e,r]},useMemoCache:Yh,useCacheRefresh:function(){return Sn().memoizedState=kb.bind(null,Yt)}},ug={readContext:fn,use:wu,useCallback:$p,useContext:fn,useEffect:Qp,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Wp,useReducer:Au,useRef:Fp,useState:function(){return Au($r)},useDebugValue:Wh,useDeferredValue:function(e,r){var s=Le();return Jp(s,pe.memoizedState,e,r)},useTransition:function(){var e=Au($r)[0],r=Le().memoizedState;return[typeof e=="boolean"?e:zo(e),r]},useSyncExternalStore:xp,useId:rg,useHostTransitionStatus:ef,useFormState:jp,useActionState:jp,useOptimistic:function(e,r){var s=Le();return Vp(s,pe,e,r)},useMemoCache:Yh,useCacheRefresh:ig},Mb={readContext:fn,use:wu,useCallback:$p,useContext:fn,useEffect:Qp,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Wp,useReducer:Xh,useRef:Fp,useState:function(){return Xh($r)},useDebugValue:Wh,useDeferredValue:function(e,r){var s=Le();return pe===null?Jh(s,e,r):Jp(s,pe.memoizedState,e,r)},useTransition:function(){var e=Xh($r)[0],r=Le().memoizedState;return[typeof e=="boolean"?e:zo(e),r]},useSyncExternalStore:xp,useId:rg,useHostTransitionStatus:ef,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,r){var s=Le();return pe!==null?Vp(s,pe,e,r):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:ig},bs=null,Bo=0;function Du(e){var r=Bo;return Bo+=1,bs===null&&(bs=[]),Ep(bs,e,r)}function jo(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Iu(e,r){throw r.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function cg(e){var r=e._init;return r(e._payload)}function hg(e){function r($,X){if(e){var et=$.deletions;et===null?($.deletions=[X],$.flags|=16):et.push(X)}}function s($,X){if(!e)return null;for(;X!==null;)r($,X),X=X.sibling;return null}function l($){for(var X=new Map;$!==null;)$.key!==null?X.set($.key,$):X.set($.index,$),$=$.sibling;return X}function f($,X){return $=Qr($,X),$.index=0,$.sibling=null,$}function p($,X,et){return $.index=et,e?(et=$.alternate,et!==null?(et=et.index,et<X?($.flags|=67108866,X):et):($.flags|=67108866,X)):($.flags|=1048576,X)}function w($){return e&&$.alternate===null&&($.flags|=67108866),$}function N($,X,et,gt){return X===null||X.tag!==6?(X=wh(et,$.mode,gt),X.return=$,X):(X=f(X,et),X.return=$,X)}function G($,X,et,gt){var kt=et.type;return kt===C?ht($,X,et.props.children,gt,et.key):X!==null&&(X.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===k&&cg(kt)===X.type)?(X=f(X,et.props),jo(X,et),X.return=$,X):(X=fu(et.type,et.key,et.props,null,$.mode,gt),jo(X,et),X.return=$,X)}function nt($,X,et,gt){return X===null||X.tag!==4||X.stateNode.containerInfo!==et.containerInfo||X.stateNode.implementation!==et.implementation?(X=Ah(et,$.mode,gt),X.return=$,X):(X=f(X,et.children||[]),X.return=$,X)}function ht($,X,et,gt,kt){return X===null||X.tag!==7?(X=ba(et,$.mode,gt,kt),X.return=$,X):(X=f(X,et),X.return=$,X)}function yt($,X,et){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=wh(""+X,$.mode,et),X.return=$,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return et=fu(X.type,X.key,X.props,null,$.mode,et),jo(et,X),et.return=$,et;case v:return X=Ah(X,$.mode,et),X.return=$,X;case k:var gt=X._init;return X=gt(X._payload),yt($,X,et)}if(ct(X)||I(X))return X=ba(X,$.mode,et,null),X.return=$,X;if(typeof X.then=="function")return yt($,Du(X),et);if(X.$$typeof===L)return yt($,gu($,X),et);Iu($,X)}return null}function at($,X,et,gt){var kt=X!==null?X.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return kt!==null?null:N($,X,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case T:return et.key===kt?G($,X,et,gt):null;case v:return et.key===kt?nt($,X,et,gt):null;case k:return kt=et._init,et=kt(et._payload),at($,X,et,gt)}if(ct(et)||I(et))return kt!==null?null:ht($,X,et,gt,null);if(typeof et.then=="function")return at($,X,Du(et),gt);if(et.$$typeof===L)return at($,X,gu($,et),gt);Iu($,et)}return null}function st($,X,et,gt,kt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return $=$.get(et)||null,N(X,$,""+gt,kt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case T:return $=$.get(gt.key===null?et:gt.key)||null,G(X,$,gt,kt);case v:return $=$.get(gt.key===null?et:gt.key)||null,nt(X,$,gt,kt);case k:var Xt=gt._init;return gt=Xt(gt._payload),st($,X,et,gt,kt)}if(ct(gt)||I(gt))return $=$.get(et)||null,ht(X,$,gt,kt,null);if(typeof gt.then=="function")return st($,X,et,Du(gt),kt);if(gt.$$typeof===L)return st($,X,et,gu(X,gt),kt);Iu(X,gt)}return null}function qt($,X,et,gt){for(var kt=null,Xt=null,Mt=X,Pt=X=0,tn=null;Mt!==null&&Pt<et.length;Pt++){Mt.index>Pt?(tn=Mt,Mt=null):tn=Mt.sibling;var ae=at($,Mt,et[Pt],gt);if(ae===null){Mt===null&&(Mt=tn);break}e&&Mt&&ae.alternate===null&&r($,Mt),X=p(ae,X,Pt),Xt===null?kt=ae:Xt.sibling=ae,Xt=ae,Mt=tn}if(Pt===et.length)return s($,Mt),oe&&wa($,Pt),kt;if(Mt===null){for(;Pt<et.length;Pt++)Mt=yt($,et[Pt],gt),Mt!==null&&(X=p(Mt,X,Pt),Xt===null?kt=Mt:Xt.sibling=Mt,Xt=Mt);return oe&&wa($,Pt),kt}for(Mt=l(Mt);Pt<et.length;Pt++)tn=st(Mt,$,Pt,et[Pt],gt),tn!==null&&(e&&tn.alternate!==null&&Mt.delete(tn.key===null?Pt:tn.key),X=p(tn,X,Pt),Xt===null?kt=tn:Xt.sibling=tn,Xt=tn);return e&&Mt.forEach(function(Bi){return r($,Bi)}),oe&&wa($,Pt),kt}function Lt($,X,et,gt){if(et==null)throw Error(a(151));for(var kt=null,Xt=null,Mt=X,Pt=X=0,tn=null,ae=et.next();Mt!==null&&!ae.done;Pt++,ae=et.next()){Mt.index>Pt?(tn=Mt,Mt=null):tn=Mt.sibling;var Bi=at($,Mt,ae.value,gt);if(Bi===null){Mt===null&&(Mt=tn);break}e&&Mt&&Bi.alternate===null&&r($,Mt),X=p(Bi,X,Pt),Xt===null?kt=Bi:Xt.sibling=Bi,Xt=Bi,Mt=tn}if(ae.done)return s($,Mt),oe&&wa($,Pt),kt;if(Mt===null){for(;!ae.done;Pt++,ae=et.next())ae=yt($,ae.value,gt),ae!==null&&(X=p(ae,X,Pt),Xt===null?kt=ae:Xt.sibling=ae,Xt=ae);return oe&&wa($,Pt),kt}for(Mt=l(Mt);!ae.done;Pt++,ae=et.next())ae=st(Mt,$,Pt,ae.value,gt),ae!==null&&(e&&ae.alternate!==null&&Mt.delete(ae.key===null?Pt:ae.key),X=p(ae,X,Pt),Xt===null?kt=ae:Xt.sibling=ae,Xt=ae);return e&&Mt.forEach(function(U1){return r($,U1)}),oe&&wa($,Pt),kt}function _e($,X,et,gt){if(typeof et=="object"&&et!==null&&et.type===C&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case T:t:{for(var kt=et.key;X!==null;){if(X.key===kt){if(kt=et.type,kt===C){if(X.tag===7){s($,X.sibling),gt=f(X,et.props.children),gt.return=$,$=gt;break t}}else if(X.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===k&&cg(kt)===X.type){s($,X.sibling),gt=f(X,et.props),jo(gt,et),gt.return=$,$=gt;break t}s($,X);break}else r($,X);X=X.sibling}et.type===C?(gt=ba(et.props.children,$.mode,gt,et.key),gt.return=$,$=gt):(gt=fu(et.type,et.key,et.props,null,$.mode,gt),jo(gt,et),gt.return=$,$=gt)}return w($);case v:t:{for(kt=et.key;X!==null;){if(X.key===kt)if(X.tag===4&&X.stateNode.containerInfo===et.containerInfo&&X.stateNode.implementation===et.implementation){s($,X.sibling),gt=f(X,et.children||[]),gt.return=$,$=gt;break t}else{s($,X);break}else r($,X);X=X.sibling}gt=Ah(et,$.mode,gt),gt.return=$,$=gt}return w($);case k:return kt=et._init,et=kt(et._payload),_e($,X,et,gt)}if(ct(et))return qt($,X,et,gt);if(I(et)){if(kt=I(et),typeof kt!="function")throw Error(a(150));return et=kt.call(et),Lt($,X,et,gt)}if(typeof et.then=="function")return _e($,X,Du(et),gt);if(et.$$typeof===L)return _e($,X,gu($,et),gt);Iu($,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,X!==null&&X.tag===6?(s($,X.sibling),gt=f(X,et),gt.return=$,$=gt):(s($,X),gt=wh(et,$.mode,gt),gt.return=$,$=gt),w($)):s($,X)}return function($,X,et,gt){try{Bo=0;var kt=_e($,X,et,gt);return bs=null,kt}catch(Mt){if(Mt===Oo||Mt===yu)throw Mt;var Xt=kn(29,Mt,null,$.mode);return Xt.lanes=gt,Xt.return=$,Xt}finally{}}}var Ts=hg(!0),fg=hg(!1),$n=H(null),Ar=null;function Si(e){var r=e.alternate;ot(Qe,Qe.current&1),ot($n,e),Ar===null&&(r===null||_s.current!==null||r.memoizedState!==null)&&(Ar=e)}function dg(e){if(e.tag===22){if(ot(Qe,Qe.current),ot($n,e),Ar===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Ar=e)}}else Ri()}function Ri(){ot(Qe,Qe.current),ot($n,$n.current)}function Wr(e){K($n),Ar===e&&(Ar=null),K(Qe)}var Qe=H(0);function Ou(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Yf(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function rf(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:y({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var af={enqueueSetState:function(e,r,s){e=e._reactInternals;var l=zn(),f=Ti(l);f.payload=r,s!=null&&(f.callback=s),r=wi(e,f,l),r!==null&&(Ln(r,e,l),ko(r,e,l))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=zn(),f=Ti(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=wi(e,f,l),r!==null&&(Ln(r,e,l),ko(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=zn(),l=Ti(s);l.tag=2,r!=null&&(l.callback=r),r=wi(e,l,s),r!==null&&(Ln(r,e,s),ko(r,e,s))}};function mg(e,r,s,l,f,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,w):r.prototype&&r.prototype.isPureReactComponent?!wo(s,l)||!wo(f,p):!0}function pg(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&af.enqueueReplaceState(r,r.state,null)}function Ia(e,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(e=e.defaultProps){s===r&&(s=y({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gg(e){Nu(e)}function _g(e){console.error(e)}function yg(e){Nu(e)}function ku(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function vg(e,r,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sf(e,r,s){return s=Ti(s),s.tag=3,s.payload={element:null},s.callback=function(){ku(e,r)},s}function Eg(e){return e=Ti(e),e.tag=3,e}function bg(e,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;e.payload=function(){return f(p)},e.callback=function(){vg(r,s,l)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){vg(r,s,l),typeof f!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Ub(e,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&xo(r,s,f,!0),s=$n.current,s!==null){switch(s.tag){case 13:return Ar===null?If():s.alternate===null&&Ie===0&&(Ie=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Vh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Nf(e,l,f)),!1;case 22:return s.flags|=65536,l===Vh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Nf(e,l,f)),!1}throw Error(a(435,s.tag))}return Nf(e,l,f),If(),!1}if(oe)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ch&&(e=Error(a(422),{cause:l}),Co(Yn(e,s)))):(l!==Ch&&(r=Error(a(423),{cause:l}),Co(Yn(r,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Yn(l,s),f=sf(e.stateNode,l,f),zh(e,f),Ie!==4&&(Ie=2)),!1;var p=Error(a(520),{cause:l});if(p=Yn(p,s),Ko===null?Ko=[p]:Ko.push(p),Ie!==4&&(Ie=2),r===null)return!0;l=Yn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=sf(s.stateNode,l,e),zh(s,e),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ni===null||!Ni.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Eg(f),bg(f,e,s,l),zh(s,f),!1}s=s.return}while(s!==null);return!1}var Tg=Error(a(461)),We=!1;function an(e,r,s,l){r.child=e===null?fg(r,null,s,l):Ts(r,e.child,s,l)}function wg(e,r,s,l,f){s=s.render;var p=r.ref;if("ref"in l){var w={};for(var N in l)N!=="ref"&&(w[N]=l[N])}else w=l;return Ca(r),l=qh(e,r,s,w,p,f),N=Hh(),e!==null&&!We?(Fh(e,r,f),Jr(e,r,f)):(oe&&N&&Sh(r),r.flags|=1,an(e,r,l,f),r.child)}function Ag(e,r,s,l,f){if(e===null){var p=s.type;return typeof p=="function"&&!Th(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,Sg(e,r,p,l,f)):(e=fu(s.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,!mf(e,f)){var w=p.memoizedProps;if(s=s.compare,s=s!==null?s:wo,s(w,l)&&e.ref===r.ref)return Jr(e,r,f)}return r.flags|=1,e=Qr(p,l),e.ref=r.ref,e.return=r,r.child=e}function Sg(e,r,s,l,f){if(e!==null){var p=e.memoizedProps;if(wo(p,l)&&e.ref===r.ref)if(We=!1,r.pendingProps=l=p,mf(e,f))(e.flags&131072)!==0&&(We=!0);else return r.lanes=e.lanes,Jr(e,r,f)}return of(e,r,s,l,f)}function Rg(e,r,s){var l=r.pendingProps,f=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,e!==null){for(f=r.child=e.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return Cg(e,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(r,p!==null?p.cachePool:null),p!==null?Sp(r,p):Ph(),dg(r);else return r.lanes=r.childLanes=536870912,Cg(e,r,p!==null?p.baseLanes|s:s,s)}else p!==null?(_u(r,p.cachePool),Sp(r,p),Ri(),r.memoizedState=null):(e!==null&&_u(r,null),Ph(),Ri());return an(e,r,f,s),r.child}function Cg(e,r,s,l){var f=kh();return f=f===null?null:{parent:Ge._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},e!==null&&_u(r,null),Ph(),dg(r),e!==null&&xo(e,r,l,!0),null}function Vu(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=4194816)}}function of(e,r,s,l,f){return Ca(r),s=qh(e,r,s,l,void 0,f),l=Hh(),e!==null&&!We?(Fh(e,r,f),Jr(e,r,f)):(oe&&l&&Sh(r),r.flags|=1,an(e,r,s,f),r.child)}function xg(e,r,s,l,f,p){return Ca(r),r.updateQueue=null,s=Cp(r,l,s,f),Rp(e),l=Hh(),e!==null&&!We?(Fh(e,r,p),Jr(e,r,p)):(oe&&l&&Sh(r),r.flags|=1,an(e,r,s,p),r.child)}function Dg(e,r,s,l,f){if(Ca(r),r.stateNode===null){var p=fs,w=s.contextType;typeof w=="object"&&w!==null&&(p=fn(w)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=af,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Mh(r),w=s.contextType,p.context=typeof w=="object"&&w!==null?fn(w):fs,p.state=r.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(rf(r,s,w,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&af.enqueueReplaceState(p,p.state,null),Mo(r,l,p,f),Vo(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){p=r.stateNode;var N=r.memoizedProps,G=Ia(s,N);p.props=G;var nt=p.context,ht=s.contextType;w=fs,typeof ht=="object"&&ht!==null&&(w=fn(ht));var yt=s.getDerivedStateFromProps;ht=typeof yt=="function"||typeof p.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ht||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(N||nt!==w)&&pg(r,p,l,w),bi=!1;var at=r.memoizedState;p.state=at,Mo(r,l,p,f),Vo(),nt=r.memoizedState,N||at!==nt||bi?(typeof yt=="function"&&(rf(r,s,yt,l),nt=r.memoizedState),(G=bi||mg(r,s,G,l,at,nt,w))?(ht||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=nt),p.props=l,p.state=nt,p.context=w,l=G):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Uh(e,r),w=r.memoizedProps,ht=Ia(s,w),p.props=ht,yt=r.pendingProps,at=p.context,nt=s.contextType,G=fs,typeof nt=="object"&&nt!==null&&(G=fn(nt)),N=s.getDerivedStateFromProps,(nt=typeof N=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==yt||at!==G)&&pg(r,p,l,G),bi=!1,at=r.memoizedState,p.state=at,Mo(r,l,p,f),Vo();var st=r.memoizedState;w!==yt||at!==st||bi||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof N=="function"&&(rf(r,s,N,l),st=r.memoizedState),(ht=bi||mg(r,s,ht,l,at,st,G)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(nt||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,st,G),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,st,G)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&at===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&at===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=st),p.props=l,p.state=st,p.context=G,l=ht):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&at===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&at===e.memoizedState||(r.flags|=1024),l=!1)}return p=l,Vu(e,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,e!==null&&l?(r.child=Ts(r,e.child,null,f),r.child=Ts(r,null,s,f)):an(e,r,s,f),r.memoizedState=p.state,e=r.child):e=Jr(e,r,f),e}function Ig(e,r,s,l){return Ro(),r.flags|=256,an(e,r,s,l),r.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:_p()}}function cf(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=Wn),e}function Og(e,r,s){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,e===null){if(oe){if(f?Si(r):Ri(),oe){var N=De,G;if(G=N){t:{for(G=N,N=wr;G.nodeType!==8;){if(!N){N=null;break t}if(G=sr(G.nextSibling),G===null){N=null;break t}}N=G}N!==null?(r.memoizedState={dehydrated:N,treeContext:Ta!==null?{id:Yr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},G=kn(18,null,null,0),G.stateNode=N,G.return=r,r.child=G,Tn=r,De=null,G=!0):G=!1}G||Sa(r)}if(N=r.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Yf(N)?r.lanes=32:r.lanes=536870912,null;Wr(r)}return N=l.children,l=l.fallback,f?(Ri(),f=r.mode,N=Mu({mode:"hidden",children:N},f),l=ba(l,f,s,null),N.return=r,l.return=r,N.sibling=l,r.child=N,f=r.child,f.memoizedState=uf(s),f.childLanes=cf(e,w,s),r.memoizedState=lf,l):(Si(r),hf(r,N))}if(G=e.memoizedState,G!==null&&(N=G.dehydrated,N!==null)){if(p)r.flags&256?(Si(r),r.flags&=-257,r=ff(e,r,s)):r.memoizedState!==null?(Ri(),r.child=e.child,r.flags|=128,r=null):(Ri(),f=l.fallback,N=r.mode,l=Mu({mode:"visible",children:l.children},N),f=ba(f,N,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ts(r,e.child,null,s),l=r.child,l.memoizedState=uf(s),l.childLanes=cf(e,w,s),r.memoizedState=lf,r=f);else if(Si(r),Yf(N)){if(w=N.nextSibling&&N.nextSibling.dataset,w)var nt=w.dgst;w=nt,l=Error(a(419)),l.stack="",l.digest=w,Co({value:l,source:null,stack:null}),r=ff(e,r,s)}else if(We||xo(e,r,s,!1),w=(s&e.childLanes)!==0,We||w){if(w=Ee,w!==null&&(l=s&-s,l=(l&42)!==0?1:di(l),l=(l&(w.suspendedLanes|s))!==0?0:l,l!==0&&l!==G.retryLane))throw G.retryLane=l,hs(e,l),Ln(w,e,l),Tg;N.data==="$?"||If(),r=ff(e,r,s)}else N.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=G.treeContext,De=sr(N.nextSibling),Tn=r,oe=!0,Aa=null,wr=!1,e!==null&&(Xn[Zn++]=Yr,Xn[Zn++]=Kr,Xn[Zn++]=Ta,Yr=e.id,Kr=e.overflow,Ta=r),r=hf(r,l.children),r.flags|=4096);return r}return f?(Ri(),f=l.fallback,N=r.mode,G=e.child,nt=G.sibling,l=Qr(G,{mode:"hidden",children:l.children}),l.subtreeFlags=G.subtreeFlags&65011712,nt!==null?f=Qr(nt,f):(f=ba(f,N,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,N=e.child.memoizedState,N===null?N=uf(s):(G=N.cachePool,G!==null?(nt=Ge._currentValue,G=G.parent!==nt?{parent:nt,pool:nt}:G):G=_p(),N={baseLanes:N.baseLanes|s,cachePool:G}),f.memoizedState=N,f.childLanes=cf(e,w,s),r.memoizedState=lf,l):(Si(r),s=e.child,e=s.sibling,s=Qr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,e!==null&&(w=r.deletions,w===null?(r.deletions=[e],r.flags|=16):w.push(e)),r.child=s,r.memoizedState=null,s)}function hf(e,r){return r=Mu({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Mu(e,r){return e=kn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ff(e,r,s){return Ts(r,e.child,null,s),e=hf(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ng(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Dh(e.return,r,s)}function df(e,r,s,l,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function kg(e,r,s){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(an(e,r,l.children,s),l=Qe.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ng(e,s,r);else if(e.tag===19)Ng(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ot(Qe,l),f){case"forwards":for(s=r.child,f=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),df(r,!1,f,s,p);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&Ou(e)===null){r.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}df(r,!0,s,null,p);break;case"together":df(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Jr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Oi|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(xo(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=Qr(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Qr(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function mf(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function zb(e,r,s){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Ei(r,Ge,e.memoizedState.cache),Ro();break;case 27:case 5:ye(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Ei(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Og(e,r,s):(Si(r),e=Jr(e,r,s),e!==null?e.sibling:null);Si(r);break;case 19:var f=(e.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(xo(e,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return kg(e,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(Qe,Qe.current),l)break;return null;case 22:case 23:return r.lanes=0,Rg(e,r,s);case 24:Ei(r,Ge,e.memoizedState.cache)}return Jr(e,r,s)}function Vg(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)We=!0;else{if(!mf(e,s)&&(r.flags&128)===0)return We=!1,zb(e,r,s);We=(e.flags&131072)!==0}else We=!1,oe&&(r.flags&1048576)!==0&&cp(r,mu,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Th(l)?(e=Ia(l,e),r.tag=1,r=Dg(null,r,l,e,s)):(r.tag=0,r=of(null,r,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===Q){r.tag=11,r=wg(null,r,l,e,s);break t}else if(f===z){r.tag=14,r=Ag(null,r,l,e,s);break t}}throw r=D(l)||l,Error(a(306,r,""))}}return r;case 0:return of(e,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Ia(l,r.pendingProps),Dg(e,r,l,f,s);case 3:t:{if(Vt(r,r.stateNode.containerInfo),e===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,Uh(e,r),Mo(r,l,null,s);var w=r.memoizedState;if(l=w.cache,Ei(r,Ge,l),l!==p.cache&&Ih(r,[Ge],s,!0),Vo(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Ig(e,r,l,s);break t}else if(l!==f){f=Yn(Error(a(424)),r),Co(f),r=Ig(e,r,l,s);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=sr(e.firstChild),Tn=r,oe=!0,Aa=null,wr=!0,s=fg(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ro(),l===f){r=Jr(e,r,s);break t}an(e,r,l,s)}r=r.child}return r;case 26:return Vu(e,r),e===null?(s=L_(r.type,null,r.pendingProps,null))?r.memoizedState=s:oe||(s=r.type,e=r.pendingProps,l=Xu(Dt.current).createElement(s),l[qe]=r,l[Me]=e,on(l,s,e),Oe(l),r.stateNode=l):r.memoizedState=L_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return ye(r),e===null&&oe&&(l=r.stateNode=M_(r.type,r.pendingProps,Dt.current),Tn=r,wr=!0,f=De,Mi(r.type)?(Kf=f,De=sr(l.firstChild)):De=f),an(e,r,r.pendingProps.children,s),Vu(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&oe&&((f=l=De)&&(l=h1(l,r.type,r.pendingProps,wr),l!==null?(r.stateNode=l,Tn=r,De=sr(l.firstChild),wr=!1,f=!0):f=!1),f||Sa(r)),ye(r),f=r.type,p=r.pendingProps,w=e!==null?e.memoizedProps:null,l=p.children,Ff(f,p)?l=null:w!==null&&Ff(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=qh(e,r,Db,null,null,s),rl._currentValue=f),Vu(e,r),an(e,r,l,s),r.child;case 6:return e===null&&oe&&((e=s=De)&&(s=f1(s,r.pendingProps,wr),s!==null?(r.stateNode=s,Tn=r,De=null,e=!0):e=!1),e||Sa(r)),null;case 13:return Og(e,r,s);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ts(r,null,l,s):an(e,r,l,s),r.child;case 11:return wg(e,r,r.type,r.pendingProps,s);case 7:return an(e,r,r.pendingProps,s),r.child;case 8:return an(e,r,r.pendingProps.children,s),r.child;case 12:return an(e,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ei(r,r.type,l.value),an(e,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ca(r),f=fn(f),l=l(f),r.flags|=1,an(e,r,l,s),r.child;case 14:return Ag(e,r,r.type,r.pendingProps,s);case 15:return Sg(e,r,r.type,r.pendingProps,s);case 19:return kg(e,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},e===null?(s=Mu(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Qr(e.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Rg(e,r,s);case 24:return Ca(r),l=fn(Ge),e===null?(f=kh(),f===null&&(f=Ee,p=Oh(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),r.memoizedState={parent:l,cache:f},Mh(r),Ei(r,Ge,f)):((e.lanes&s)!==0&&(Uh(e,r),Mo(r,null,null,s),Vo()),f=e.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ei(r,Ge,l)):(l=p.cache,Ei(r,Ge,l),l!==f.cache&&Ih(r,[Ge],s,!0))),an(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ti(e){e.flags|=4}function Mg(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(r)){if(r=$n.current,r!==null&&((ne&4194048)===ne?Ar!==null:(ne&62914560)!==ne&&(ne&536870912)===0||r!==Ar))throw No=Vh,yp;e.flags|=8192}}function Uu(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?ia():536870912,e.lanes|=r,Rs|=r)}function qo(e,r){if(!oe)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Se(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function Lb(e,r,s){var l=r.pendingProps;switch(Rh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(r),null;case 1:return Se(r),null;case 3:return s=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zr(Ge),Gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(So(r)?ti(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dp())),Se(r),null;case 26:return s=r.memoizedState,e===null?(ti(r),s!==null?(Se(r),Mg(r,s)):(Se(r),r.flags&=-16777217)):s?s!==e.memoizedState?(ti(r),Se(r),Mg(r,s)):(Se(r),r.flags&=-16777217):(e.memoizedProps!==l&&ti(r),Se(r),r.flags&=-16777217),null;case 27:se(r),s=Dt.current;var f=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&ti(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Se(r),null}e=dt.current,So(r)?hp(r):(e=M_(f,l,s),r.stateNode=e,ti(r))}return Se(r),null;case 5:if(se(r),s=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&ti(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Se(r),null}if(e=dt.current,So(r))hp(r);else{switch(f=Xu(Dt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[qe]=r,e[Me]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=e;t:switch(on(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ti(r)}}return Se(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&ti(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(e=Dt.current,So(r)){if(e=r.stateNode,s=r.memoizedProps,l=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[qe]=r,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||x_(e.nodeValue,s)),e||Sa(r)}else e=Xu(e).createTextNode(l),e[qe]=r,r.stateNode=e}return Se(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=So(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[qe]=r}else Ro(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Se(r),f=!1}else f=dp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wr(r),r):(Wr(r),null)}if(Wr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==e&&s&&(r.child.flags|=8192),Uu(r,r.updateQueue),Se(r),null;case 4:return Gt(),e===null&&Pf(r.stateNode.containerInfo),Se(r),null;case 10:return Zr(r.type),Se(r),null;case 19:if(K(Qe),f=r.memoizedState,f===null)return Se(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)qo(f,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(p=Ou(e),p!==null){for(r.flags|=128,qo(f,!1),e=p.updateQueue,r.updateQueue=e,Uu(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)up(s,e),s=s.sibling;return ot(Qe,Qe.current&1|2),r.child}e=e.sibling}f.tail!==null&&j()>Pu&&(r.flags|=128,l=!0,qo(f,!1),r.lanes=4194304)}else{if(!l)if(e=Ou(p),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,Uu(r,e),qo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!oe)return Se(r),null}else 2*j()-f.renderingStartTime>Pu&&s!==536870912&&(r.flags|=128,l=!0,qo(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(e=f.last,e!==null?e.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=j(),r.sibling=null,e=Qe.current,ot(Qe,l?e&1|2:e&1),r):(Se(r),null);case 22:case 23:return Wr(r),Bh(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Se(r),r.subtreeFlags&6&&(r.flags|=8192)):Se(r),s=r.updateQueue,s!==null&&Uu(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),e!==null&&K(xa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Zr(Ge),Se(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Pb(e,r){switch(Rh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Zr(Ge),Gt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return se(r),null;case 13:if(Wr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ro()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return K(Qe),null;case 4:return Gt(),null;case 10:return Zr(r.type),null;case 22:case 23:return Wr(r),Bh(),e!==null&&K(xa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Zr(Ge),null;case 25:return null;default:return null}}function Ug(e,r){switch(Rh(r),r.tag){case 3:Zr(Ge),Gt();break;case 26:case 27:case 5:se(r);break;case 4:Gt();break;case 13:Wr(r);break;case 19:K(Qe);break;case 10:Zr(r.type);break;case 22:case 23:Wr(r),Bh(),e!==null&&K(xa);break;case 24:Zr(Ge)}}function Ho(e,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var p=s.create,w=s.inst;l=p(),w.destroy=l}s=s.next}while(s!==f)}}catch(N){ve(r,r.return,N)}}function Ci(e,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&e)===e){var w=l.inst,N=w.destroy;if(N!==void 0){w.destroy=void 0,f=r;var G=s,nt=N;try{nt()}catch(ht){ve(f,G,ht)}}}l=l.next}while(l!==p)}}catch(ht){ve(r,r.return,ht)}}function zg(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{Ap(r,s)}catch(l){ve(e,e.return,l)}}}function Lg(e,r,s){s.props=Ia(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ve(e,r,l)}}function Fo(e,r){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){ve(e,r,f)}}function Sr(e,r){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ve(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ve(e,r,f)}else s.current=null}function Pg(e){var r=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ve(e,e.return,f)}}function pf(e,r,s){try{var l=e.stateNode;s1(l,e.type,s,r),l[Me]=r}catch(f){ve(e,e.return,f)}}function Bg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mi(e.type)||e.tag===4}function gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(e),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ku));else if(l!==4&&(l===27&&Mi(e.type)&&(s=e.stateNode,r=null),e=e.child,e!==null))for(_f(e,r,s),e=e.sibling;e!==null;)_f(e,r,s),e=e.sibling}function zu(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&(l===27&&Mi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(zu(e,r,s),e=e.sibling;e!==null;)zu(e,r,s),e=e.sibling}function jg(e){var r=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);on(r,l,s),r[qe]=e,r[Me]=s}catch(p){ve(e,e.return,p)}}var ei=!1,ke=!1,yf=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Bb(e,r){if(e=e.containerInfo,qf=ec,e=Jm(e),ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var w=0,N=-1,G=-1,nt=0,ht=0,yt=e,at=null;e:for(;;){for(var st;yt!==s||f!==0&&yt.nodeType!==3||(N=w+f),yt!==p||l!==0&&yt.nodeType!==3||(G=w+l),yt.nodeType===3&&(w+=yt.nodeValue.length),(st=yt.firstChild)!==null;)at=yt,yt=st;for(;;){if(yt===e)break e;if(at===s&&++nt===f&&(N=w),at===p&&++ht===l&&(G=w),(st=yt.nextSibling)!==null)break;yt=at,at=yt.parentNode}yt=st}s=N===-1||G===-1?null:{start:N,end:G}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:e,selectionRange:s},ec=!1,Je=r;Je!==null;)if(r=Je,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Je=e;else for(;Je!==null;){switch(r=Je,p=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,s=r,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var qt=Ia(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(qt,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(Lt){ve(s,s.return,Lt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Qf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,Je=e;break}Je=r.return}}function Hg(e,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:xi(e,s),l&4&&Ho(5,s);break;case 1:if(xi(e,s),l&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(w){ve(s,s.return,w)}else{var f=Ia(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(w){ve(s,s.return,w)}}l&64&&zg(s),l&512&&Fo(s,s.return);break;case 3:if(xi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ap(e,r)}catch(w){ve(s,s.return,w)}}break;case 27:r===null&&l&4&&jg(s);case 26:case 5:xi(e,s),r===null&&l&4&&Pg(s),l&512&&Fo(s,s.return);break;case 12:xi(e,s);break;case 13:xi(e,s),l&4&&Qg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Xb.bind(null,s),d1(e,s))));break;case 22:if(l=s.memoizedState!==null||ei,!l){r=r!==null&&r.memoizedState!==null||ke,f=ei;var p=ke;ei=l,(ke=r)&&!p?Di(e,s,(s.subtreeFlags&8772)!==0):xi(e,s),ei=f,ke=p}break;case 30:break;default:xi(e,s)}}function Fg(e){var r=e.alternate;r!==null&&(e.alternate=null,Fg(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&gi(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,Rn=!1;function ni(e,r,s){for(s=s.child;s!==null;)Gg(e,r,s),s=s.sibling}function Gg(e,r,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ct,s)}catch{}switch(s.tag){case 26:ke||Sr(s,r),ni(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||Sr(s,r);var l=Ae,f=Rn;Mi(s.type)&&(Ae=s.stateNode,Rn=!1),ni(e,r,s),Jo(s.stateNode),Ae=l,Rn=f;break;case 5:ke||Sr(s,r);case 6:if(l=Ae,f=Rn,Ae=null,ni(e,r,s),Ae=l,Rn=f,Ae!==null)if(Rn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(s.stateNode)}catch(p){ve(s,r,p)}else try{Ae.removeChild(s.stateNode)}catch(p){ve(s,r,p)}break;case 18:Ae!==null&&(Rn?(e=Ae,k_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ol(e)):k_(Ae,s.stateNode));break;case 4:l=Ae,f=Rn,Ae=s.stateNode.containerInfo,Rn=!0,ni(e,r,s),Ae=l,Rn=f;break;case 0:case 11:case 14:case 15:ke||Ci(2,s,r),ke||Ci(4,s,r),ni(e,r,s);break;case 1:ke||(Sr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Lg(s,r,l)),ni(e,r,s);break;case 21:ni(e,r,s);break;case 22:ke=(l=ke)||s.memoizedState!==null,ni(e,r,s),ke=l;break;default:ni(e,r,s)}}function Qg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(s){ve(r,r.return,s)}}function jb(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new qg),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new qg),r;default:throw Error(a(435,e.tag))}}function vf(e,r){var s=jb(e);r.forEach(function(l){var f=Zb.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function Vn(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=e,w=r,N=w;t:for(;N!==null;){switch(N.tag){case 27:if(Mi(N.type)){Ae=N.stateNode,Rn=!1;break t}break;case 5:Ae=N.stateNode,Rn=!1;break t;case 3:case 4:Ae=N.stateNode.containerInfo,Rn=!0;break t}N=N.return}if(Ae===null)throw Error(a(160));Gg(p,w,f),Ae=null,Rn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Yg(r,e),r=r.sibling}var ar=null;function Yg(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vn(r,e),Mn(e),l&4&&(Ci(3,e,e.return),Ho(3,e),Ci(5,e,e.return));break;case 1:Vn(r,e),Mn(e),l&512&&(ke||s===null||Sr(s,s.return)),l&64&&ei&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ar;if(Vn(r,e),Mn(e),l&512&&(ke||s===null||Sr(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[aa]||p[qe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),on(p,l,s),p[qe]=e,Oe(p),l=p;break t;case"link":var w=j_("link","href",f).get(l+(s.href||""));if(w){for(var N=0;N<w.length;N++)if(p=w[N],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(N,1);break e}}p=f.createElement(l),on(p,l,s),f.head.appendChild(p);break;case"meta":if(w=j_("meta","content",f).get(l+(s.content||""))){for(N=0;N<w.length;N++)if(p=w[N],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(N,1);break e}}p=f.createElement(l),on(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[qe]=e,Oe(p),l=p}e.stateNode=l}else q_(f,e.type,e.stateNode);else e.stateNode=B_(f,l,e.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?q_(f,e.type,e.stateNode):B_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Vn(r,e),Mn(e),l&512&&(ke||s===null||Sr(s,s.return)),s!==null&&l&4&&pf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Vn(r,e),Mn(e),l&512&&(ke||s===null||Sr(s,s.return)),e.flags&32){f=e.stateNode;try{Hn(f,"")}catch(st){ve(e,e.return,st)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,pf(e,f,s!==null?s.memoizedProps:f)),l&1024&&(yf=!0);break;case 6:if(Vn(r,e),Mn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(st){ve(e,e.return,st)}}break;case 3:if(Wu=null,f=ar,ar=Zu(r.containerInfo),Vn(r,e),ar=f,Mn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ol(r.containerInfo)}catch(st){ve(e,e.return,st)}yf&&(yf=!1,Kg(e));break;case 4:l=ar,ar=Zu(e.stateNode.containerInfo),Vn(r,e),Mn(e),ar=l;break;case 12:Vn(r,e),Mn(e);break;case 13:Vn(r,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Sf=j()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vf(e,l)));break;case 22:f=e.memoizedState!==null;var G=s!==null&&s.memoizedState!==null,nt=ei,ht=ke;if(ei=nt||f,ke=ht||G,Vn(r,e),ke=ht,ei=nt,Mn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||G||ei||ke||Oa(e)),s=null,r=e;;){if(r.tag===5||r.tag===26){if(s===null){G=s=r;try{if(p=G.stateNode,f)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{N=G.stateNode;var yt=G.memoizedProps.style,at=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;N.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(st){ve(G,G.return,st)}}}else if(r.tag===6){if(s===null){G=r;try{G.stateNode.nodeValue=f?"":G.memoizedProps}catch(st){ve(G,G.return,st)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,vf(e,s))));break;case 19:Vn(r,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vf(e,l)));break;case 30:break;case 21:break;default:Vn(r,e),Mn(e)}}function Mn(e){var r=e.flags;if(r&2){try{for(var s,l=e.return;l!==null;){if(Bg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=gf(e);zu(e,p,f);break;case 5:var w=s.stateNode;s.flags&32&&(Hn(w,""),s.flags&=-33);var N=gf(e);zu(e,N,w);break;case 3:case 4:var G=s.stateNode.containerInfo,nt=gf(e);_f(e,nt,G);break;default:throw Error(a(161))}}catch(ht){ve(e,e.return,ht)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Kg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function xi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hg(e,r.alternate,r),r=r.sibling}function Oa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),Oa(r);break;case 1:Sr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Lg(r,r.return,s),Oa(r);break;case 27:Jo(r.stateNode);case 26:case 5:Sr(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}e=e.sibling}}function Di(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,p=r,w=p.flags;switch(p.tag){case 0:case 11:case 15:Di(f,p,s),Ho(4,p);break;case 1:if(Di(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(nt){ve(l,l.return,nt)}if(l=p,f=l.updateQueue,f!==null){var N=l.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)wp(G[f],N)}catch(nt){ve(l,l.return,nt)}}s&&w&64&&zg(p),Fo(p,p.return);break;case 27:jg(p);case 26:case 5:Di(f,p,s),s&&l===null&&w&4&&Pg(p),Fo(p,p.return);break;case 12:Di(f,p,s);break;case 13:Di(f,p,s),s&&w&4&&Qg(f,p);break;case 22:p.memoizedState===null&&Di(f,p,s),Fo(p,p.return);break;case 30:break;default:Di(f,p,s)}r=r.sibling}}function Ef(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Do(s))}function bf(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e))}function Rr(e,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xg(e,r,s,l),r=r.sibling}function Xg(e,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Rr(e,r,s,l),f&2048&&Ho(9,r);break;case 1:Rr(e,r,s,l);break;case 3:Rr(e,r,s,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e)));break;case 12:if(f&2048){Rr(e,r,s,l),e=r.stateNode;try{var p=r.memoizedProps,w=p.id,N=p.onPostCommit;typeof N=="function"&&N(w,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){ve(r,r.return,G)}}else Rr(e,r,s,l);break;case 13:Rr(e,r,s,l);break;case 23:break;case 22:p=r.stateNode,w=r.alternate,r.memoizedState!==null?p._visibility&2?Rr(e,r,s,l):Go(e,r):p._visibility&2?Rr(e,r,s,l):(p._visibility|=2,ws(e,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&Ef(w,r);break;case 24:Rr(e,r,s,l),f&2048&&bf(r.alternate,r);break;default:Rr(e,r,s,l)}}function ws(e,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=e,w=r,N=s,G=l,nt=w.flags;switch(w.tag){case 0:case 11:case 15:ws(p,w,N,G,f),Ho(8,w);break;case 23:break;case 22:var ht=w.stateNode;w.memoizedState!==null?ht._visibility&2?ws(p,w,N,G,f):Go(p,w):(ht._visibility|=2,ws(p,w,N,G,f)),f&&nt&2048&&Ef(w.alternate,w);break;case 24:ws(p,w,N,G,f),f&&nt&2048&&bf(w.alternate,w);break;default:ws(p,w,N,G,f)}r=r.sibling}}function Go(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,l=r,f=l.flags;switch(l.tag){case 22:Go(s,l),f&2048&&Ef(l.alternate,l);break;case 24:Go(s,l),f&2048&&bf(l.alternate,l);break;default:Go(s,l)}r=r.sibling}}var Qo=8192;function As(e){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 26:As(e),e.flags&Qo&&e.memoizedState!==null&&R1(ar,e.memoizedState,e.memoizedProps);break;case 5:As(e);break;case 3:case 4:var r=ar;ar=Zu(e.stateNode.containerInfo),As(e),ar=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Qo,Qo=16777216,As(e),Qo=r):As(e));break;default:As(e)}}function $g(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Yo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Je=l,Jg(l,e)}$g(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wg(e),e=e.sibling}function Wg(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&Ci(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Lu(e)):Yo(e);break;default:Yo(e)}}function Lu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Je=l,Jg(l,e)}$g(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),Lu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Lu(r));break;default:Lu(r)}e=e.sibling}}function Jg(e,r){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:Ci(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Do(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Je=l;else t:for(s=e;Je!==null;){l=Je;var f=l.sibling,p=l.return;if(Fg(l),l===s){Je=null;break t}if(f!==null){f.return=p,Je=f;break t}Je=p}}}var qb={getCacheForType:function(e){var r=fn(Ge),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s}},Hb=typeof WeakMap=="function"?WeakMap:Map,fe=0,Ee=null,Zt=null,ne=0,de=0,Un=null,Ii=!1,Ss=!1,Tf=!1,ri=0,Ie=0,Oi=0,Na=0,wf=0,Wn=0,Rs=0,Ko=null,Cn=null,Af=!1,Sf=0,Pu=1/0,Bu=null,Ni=null,sn=0,ki=null,Cs=null,xs=0,Rf=0,Cf=null,t_=null,Xo=0,xf=null;function zn(){if((fe&2)!==0&&ne!==0)return ne&-ne;if(tt.T!==null){var e=ps;return e!==0?e:Mf()}return mi()}function e_(){Wn===0&&(Wn=(ne&536870912)===0||oe?ra():536870912);var e=$n.current;return e!==null&&(e.flags|=32),Wn}function Ln(e,r,s){(e===Ee&&(de===2||de===9)||e.cancelPendingCommit!==null)&&(Ds(e,0),Vi(e,ne,Wn,!1)),yn(e,s),((fe&2)===0||e!==Ee)&&(e===Ee&&((fe&2)===0&&(Na|=s),Ie===4&&Vi(e,ne,Wn,!1)),Cr(e))}function n_(e,r,s){if((fe&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&e.expiredLanes)===0||cr(e,r),f=l?Qb(e,r):Of(e,r,!0),p=l;do{if(f===0){Ss&&!l&&Vi(e,r,0,!1);break}else{if(s=e.current.alternate,p&&!Fb(s)){f=Of(e,r,!1),p=!1;continue}if(f===2){if(p=r,e.errorRecoveryDisabledLanes&p)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;t:{var N=e;f=Ko;var G=N.current.memoizedState.isDehydrated;if(G&&(Ds(N,w).flags|=256),w=Of(N,w,!1),w!==2){if(Tf&&!G){N.errorRecoveryDisabledLanes|=p,Na|=p,f=4;break t}p=Cn,Cn=f,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}f=w}if(p=!1,f!==2)continue}}if(f===1){Ds(e,0),Vi(e,r,0,!0);break}t:{switch(l=e,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Vi(l,r,Wn,!Ii);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Sf+300-j(),10<f)){if(Vi(l,r,Wn,!Ii),hn(l,0,!0)!==0)break t;l.timeoutHandle=O_(r_.bind(null,l,s,Cn,Bu,Af,r,Wn,Na,Rs,Ii,p,2,-0,0),f);break t}r_(l,s,Cn,Bu,Af,r,Wn,Na,Rs,Ii,p,0,-0,0)}}break}while(!0);Cr(e)}function r_(e,r,s,l,f,p,w,N,G,nt,ht,yt,at,st){if(e.timeoutHandle=-1,yt=r.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:S1},Zg(r),yt=C1(),yt!==null)){e.cancelPendingCommit=yt(c_.bind(null,e,r,p,s,l,f,w,N,G,ht,1,at,st)),Vi(e,p,w,!nt);return}c_(e,r,p,s,l,f,w,N,G)}function Fb(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Nn(p(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vi(e,r,s,l){r&=~wf,r&=~Na,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var p=31-ce(f),w=1<<p;l[p]=-1,f&=~w}s!==0&&fr(e,s,r)}function ju(){return(fe&6)===0?(Zo(0),!1):!0}function Df(){if(Zt!==null){if(de===0)var e=Zt.return;else e=Zt,Xr=Ra=null,Gh(e),bs=null,Bo=0,e=Zt;for(;e!==null;)Ug(e.alternate,e),e=e.return;Zt=null}}function Ds(e,r){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,l1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Df(),Ee=e,Zt=s=Qr(e.current,null),ne=r,de=0,Un=null,Ii=!1,Ss=cr(e,r),Tf=!1,Rs=Wn=wf=Na=Oi=Ie=0,Cn=Ko=null,Af=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-ce(l),p=1<<f;r|=e[f],l&=~p}return ri=r,uu(),s}function i_(e,r){Yt=null,tt.H=xu,r===Oo||r===yu?(r=bp(),de=3):r===yp?(r=bp(),de=4):de=r===Tg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Zt===null&&(Ie=1,ku(e,Yn(r,e.current)))}function a_(){var e=tt.H;return tt.H=xu,e===null?xu:e}function s_(){var e=tt.A;return tt.A=qb,e}function If(){Ie=4,Ii||(ne&4194048)!==ne&&$n.current!==null||(Ss=!0),(Oi&134217727)===0&&(Na&134217727)===0||Ee===null||Vi(Ee,ne,Wn,!1)}function Of(e,r,s){var l=fe;fe|=2;var f=a_(),p=s_();(Ee!==e||ne!==r)&&(Bu=null,Ds(e,r)),r=!1;var w=Ie;t:do try{if(de!==0&&Zt!==null){var N=Zt,G=Un;switch(de){case 8:Df(),w=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var nt=de;if(de=0,Un=null,Is(e,N,G,nt),s&&Ss){w=0;break t}break;default:nt=de,de=0,Un=null,Is(e,N,G,nt)}}Gb(),w=Ie;break}catch(ht){i_(e,ht)}while(!0);return r&&e.shellSuspendCounter++,Xr=Ra=null,fe=l,tt.H=f,tt.A=p,Zt===null&&(Ee=null,ne=0,uu()),w}function Gb(){for(;Zt!==null;)o_(Zt)}function Qb(e,r){var s=fe;fe|=2;var l=a_(),f=s_();Ee!==e||ne!==r?(Bu=null,Pu=j()+500,Ds(e,r)):Ss=cr(e,r);t:do try{if(de!==0&&Zt!==null){r=Zt;var p=Un;e:switch(de){case 1:de=0,Un=null,Is(e,r,p,1);break;case 2:case 9:if(vp(p)){de=0,Un=null,l_(r);break}r=function(){de!==2&&de!==9||Ee!==e||(de=7),Cr(e)},p.then(r,r);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:vp(p)?(de=0,Un=null,l_(r)):(de=0,Un=null,Is(e,r,p,7));break;case 5:var w=null;switch(Zt.tag){case 26:w=Zt.memoizedState;case 5:case 27:var N=Zt;if(!w||H_(w)){de=0,Un=null;var G=N.sibling;if(G!==null)Zt=G;else{var nt=N.return;nt!==null?(Zt=nt,qu(nt)):Zt=null}break e}}de=0,Un=null,Is(e,r,p,5);break;case 6:de=0,Un=null,Is(e,r,p,6);break;case 8:Df(),Ie=6;break t;default:throw Error(a(462))}}Yb();break}catch(ht){i_(e,ht)}while(!0);return Xr=Ra=null,tt.H=l,tt.A=f,fe=s,Zt!==null?0:(Ee=null,ne=0,uu(),Ie)}function Yb(){for(;Zt!==null&&!pt();)o_(Zt)}function o_(e){var r=Vg(e.alternate,e,ri);e.memoizedProps=e.pendingProps,r===null?qu(e):Zt=r}function l_(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=xg(s,r,r.pendingProps,r.type,void 0,ne);break;case 11:r=xg(s,r,r.pendingProps,r.type.render,r.ref,ne);break;case 5:Gh(r);default:Ug(s,r),r=Zt=up(r,ri),r=Vg(s,r,ri)}e.memoizedProps=e.pendingProps,r===null?qu(e):Zt=r}function Is(e,r,s,l){Xr=Ra=null,Gh(r),bs=null,Bo=0;var f=r.return;try{if(Ub(e,f,r,s,ne)){Ie=1,ku(e,Yn(s,e.current)),Zt=null;return}}catch(p){if(f!==null)throw Zt=f,p;Ie=1,ku(e,Yn(s,e.current)),Zt=null;return}r.flags&32768?(oe||l===1?e=!0:Ss||(ne&536870912)!==0?e=!1:(Ii=e=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(r,e)):qu(r)}function qu(e){var r=e;do{if((r.flags&32768)!==0){u_(r,Ii);return}e=r.return;var s=Lb(r.alternate,r,ri);if(s!==null){Zt=s;return}if(r=r.sibling,r!==null){Zt=r;return}Zt=r=e}while(r!==null);Ie===0&&(Ie=5)}function u_(e,r){do{var s=Pb(e.alternate,e);if(s!==null){s.flags&=32767,Zt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){Zt=e;return}Zt=e=s}while(e!==null);Ie=6,Zt=null}function c_(e,r,s,l,f,p,w,N,G){e.cancelPendingCommit=null;do Hu();while(sn!==0);if((fe&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=Eh,hr(e,s,p,w,N,G),e===Ee&&(Zt=Ee=null,ne=0),Cs=r,ki=e,xs=s,Rf=p,Cf=f,t_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$b(Tt,function(){return p_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null,f=W.p,W.p=2,w=fe,fe|=4;try{Bb(e,r,s)}finally{fe=w,W.p=f,tt.T=l}}sn=1,h_(),f_(),d_()}}function h_(){if(sn===1){sn=0;var e=ki,r=Cs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=tt.T,tt.T=null;var l=W.p;W.p=2;var f=fe;fe|=4;try{Yg(r,e);var p=Hf,w=Jm(e.containerInfo),N=p.focusedElem,G=p.selectionRange;if(w!==N&&N&&N.ownerDocument&&Wm(N.ownerDocument.documentElement,N)){if(G!==null&&ph(N)){var nt=G.start,ht=G.end;if(ht===void 0&&(ht=nt),"selectionStart"in N)N.selectionStart=nt,N.selectionEnd=Math.min(ht,N.value.length);else{var yt=N.ownerDocument||document,at=yt&&yt.defaultView||window;if(at.getSelection){var st=at.getSelection(),qt=N.textContent.length,Lt=Math.min(G.start,qt),_e=G.end===void 0?Lt:Math.min(G.end,qt);!st.extend&&Lt>_e&&(w=_e,_e=Lt,Lt=w);var $=$m(N,Lt),X=$m(N,_e);if($&&X&&(st.rangeCount!==1||st.anchorNode!==$.node||st.anchorOffset!==$.offset||st.focusNode!==X.node||st.focusOffset!==X.offset)){var et=yt.createRange();et.setStart($.node,$.offset),st.removeAllRanges(),Lt>_e?(st.addRange(et),st.extend(X.node,X.offset)):(et.setEnd(X.node,X.offset),st.addRange(et))}}}}for(yt=[],st=N;st=st.parentNode;)st.nodeType===1&&yt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<yt.length;N++){var gt=yt[N];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}ec=!!qf,Hf=qf=null}finally{fe=f,W.p=l,tt.T=s}}e.current=r,sn=2}}function f_(){if(sn===2){sn=0;var e=ki,r=Cs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=tt.T,tt.T=null;var l=W.p;W.p=2;var f=fe;fe|=4;try{Hg(e,r.alternate,r)}finally{fe=f,W.p=l,tt.T=s}}sn=3}}function d_(){if(sn===4||sn===3){sn=0,ut();var e=ki,r=Cs,s=xs,l=t_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,Cs=ki=null,m_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ni=null),Ya(s),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=tt.T,f=W.p,W.p=2,tt.T=null;try{for(var p=e.onRecoverableError,w=0;w<l.length;w++){var N=l[w];p(N.value,{componentStack:N.stack})}}finally{tt.T=r,W.p=f}}(xs&3)!==0&&Hu(),Cr(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===xf?Xo++:(Xo=0,xf=e):Xo=0,Zo(0)}}function m_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Do(r)))}function Hu(e){return h_(),f_(),d_(),p_()}function p_(){if(sn!==5)return!1;var e=ki,r=Rf;Rf=0;var s=Ya(xs),l=tt.T,f=W.p;try{W.p=32>s?32:s,tt.T=null,s=Cf,Cf=null;var p=ki,w=xs;if(sn=0,Cs=ki=null,xs=0,(fe&6)!==0)throw Error(a(331));var N=fe;if(fe|=4,Wg(p.current),Xg(p,p.current,w,s),fe=N,Zo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ct,p)}catch{}return!0}finally{W.p=f,tt.T=l,m_(e,r)}}function g_(e,r,s){r=Yn(s,r),r=sf(e.stateNode,r,2),e=wi(e,r,2),e!==null&&(yn(e,2),Cr(e))}function ve(e,r,s){if(e.tag===3)g_(e,e,s);else for(;r!==null;){if(r.tag===3){g_(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){e=Yn(s,e),s=Eg(2),l=wi(r,s,2),l!==null&&(bg(s,l,r,e),yn(l,2),Cr(l));break}}r=r.return}}function Nf(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Hb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Tf=!0,f.add(s),e=Kb.bind(null,e,r,s),r.then(e,e))}function Kb(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ee===e&&(ne&s)===s&&(Ie===4||Ie===3&&(ne&62914560)===ne&&300>j()-Sf?(fe&2)===0&&Ds(e,0):wf|=s,Rs===ne&&(Rs=0)),Cr(e)}function __(e,r){r===0&&(r=ia()),e=hs(e,r),e!==null&&(yn(e,r),Cr(e))}function Xb(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),__(e,s)}function Zb(e,r){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),__(e,s)}function $b(e,r){return je(e,r)}var Fu=null,Os=null,kf=!1,Gu=!1,Vf=!1,ka=0;function Cr(e){e!==Os&&e.next===null&&(Os===null?Fu=Os=e:Os=Os.next=e),Gu=!0,kf||(kf=!0,Jb())}function Zo(e,r){if(!Vf&&Gu){Vf=!0;do for(var s=!1,l=Fu;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var w=l.suspendedLanes,N=l.pingedLanes;p=(1<<31-ce(42|e)+1)-1,p&=f&~(w&~N),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,b_(l,p))}else p=ne,p=hn(l,l===Ee?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||cr(l,p)||(s=!0,b_(l,p));l=l.next}while(s);Vf=!1}}function Wb(){y_()}function y_(){Gu=kf=!1;var e=0;ka!==0&&(o1()&&(e=ka),ka=0);for(var r=j(),s=null,l=Fu;l!==null;){var f=l.next,p=v_(l,r);p===0?(l.next=null,s===null?Fu=f:s.next=f,f===null&&(Os=s)):(s=l,(e!==0||(p&3)!==0)&&(Gu=!0)),l=f}Zo(e)}function v_(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var w=31-ce(p),N=1<<w,G=f[w];G===-1?((N&s)===0||(N&l)!==0)&&(f[w]=na(N,r)):G<=r&&(e.expiredLanes|=N),p&=~N}if(r=Ee,s=ne,s=hn(e,e===r?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===r&&(de===2||de===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&A(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||cr(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(l!==null&&A(l),Ya(s)){case 2:case 8:s=vt;break;case 32:s=Tt;break;case 268435456:s=At;break;default:s=Tt}return l=E_.bind(null,e),s=je(s,l),e.callbackPriority=r,e.callbackNode=s,r}return l!==null&&l!==null&&A(l),e.callbackPriority=2,e.callbackNode=null,2}function E_(e,r){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Hu()&&e.callbackNode!==s)return null;var l=ne;return l=hn(e,e===Ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(n_(e,l,r),v_(e,j()),e.callbackNode!=null&&e.callbackNode===s?E_.bind(null,e):null)}function b_(e,r){if(Hu())return null;n_(e,r,!0)}function Jb(){u1(function(){(fe&6)!==0?je(Z,Wb):y_()})}function Mf(){return ka===0&&(ka=ra()),ka}function T_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ja(""+e)}function w_(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function t1(e,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var p=T_((f[Me]||null).action),w=l.submitter;w&&(r=(r=w[Me]||null)?T_(r.formAction):w.getAttribute("formAction"),r!==null&&(p=r,w=null));var N=new ts("action","action",null,l,f);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ka!==0){var G=w?w_(f,w):new FormData(f);tf(s,{pending:!0,data:G,method:f.method,action:p},null,G)}}else typeof p=="function"&&(N.preventDefault(),G=w?w_(f,w):new FormData(f),tf(s,{pending:!0,data:G,method:f.method,action:p},p,G))},currentTarget:f}]})}}for(var Uf=0;Uf<vh.length;Uf++){var zf=vh[Uf],e1=zf.toLowerCase(),n1=zf[0].toUpperCase()+zf.slice(1);ir(e1,"on"+n1)}ir(np,"onAnimationEnd"),ir(rp,"onAnimationIteration"),ir(ip,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(vb,"onTransitionRun"),ir(Eb,"onTransitionStart"),ir(bb,"onTransitionCancel"),ir(ap,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function A_(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var w=l.length-1;0<=w;w--){var N=l[w],G=N.instance,nt=N.currentTarget;if(N=N.listener,G!==p&&f.isPropagationStopped())break t;p=N,f.currentTarget=nt;try{p(f)}catch(ht){Nu(ht)}f.currentTarget=null,p=G}else for(w=0;w<l.length;w++){if(N=l[w],G=N.instance,nt=N.currentTarget,N=N.listener,G!==p&&f.isPropagationStopped())break t;p=N,f.currentTarget=nt;try{p(f)}catch(ht){Nu(ht)}f.currentTarget=null,p=G}}}}function $t(e,r){var s=r[oo];s===void 0&&(s=r[oo]=new Set);var l=e+"__bubble";s.has(l)||(S_(r,e,2,!1),s.add(l))}function Lf(e,r,s){var l=0;r&&(l|=4),S_(s,e,l,r)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[Qu]){e[Qu]=!0,lo.forEach(function(s){s!=="selectionchange"&&(r1.has(s)||Lf(s,!1,e),Lf(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Qu]||(r[Qu]=!0,Lf("selectionchange",!1,r))}}function S_(e,r,s,l){switch(X_(r)){case 2:var f=I1;break;case 8:f=O1;break;default:f=Jf}s=f.bind(null,r,s,e),f=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,s,{capture:!0,passive:f}):e.addEventListener(r,s,!0):f!==void 0?e.addEventListener(r,s,{passive:f}):e.addEventListener(r,s,!1)}function Bf(e,r,s,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var N=l.stateNode.containerInfo;if(N===f)break;if(w===4)for(w=l.return;w!==null;){var G=w.tag;if((G===3||G===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;N!==null;){if(w=Ur(N),w===null)return;if(G=w.tag,G===5||G===6||G===26||G===27){l=p=w;continue t}N=N.parentNode}}l=l.return}Kl(function(){var nt=p,ht=Fn(s),yt=[];t:{var at=sp.get(e);if(at!==void 0){var st=ts,qt=e;switch(e){case"keypress":if(yr(s)===0)break t;case"keydown":case"keyup":st=ss;break;case"focusin":qt="focus",st=rs;break;case"focusout":qt="blur",st=rs;break;case"beforeblur":case"afterblur":st=rs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=nu;break;case np:case rp:case ip:st=is;break;case ap:st=iu;break;case"scroll":case"scrollend":st=Xl;break;case"wheel":st=os;break;case"copy":case"cut":case"paste":st=as;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=bo;break;case"toggle":case"beforetoggle":st=su}var Lt=(r&4)!==0,_e=!Lt&&(e==="scroll"||e==="scrollend"),$=Lt?at!==null?at+"Capture":null:at;Lt=[];for(var X=nt,et;X!==null;){var gt=X;if(et=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||et===null||$===null||(gt=fa(X,$),gt!=null&&Lt.push(Wo(X,gt,et))),_e)break;X=X.return}0<Lt.length&&(at=new st(at,qt,null,s,ht),yt.push({event:at,listeners:Lt}))}}if((r&7)===0){t:{if(at=e==="mouseover"||e==="pointerover",st=e==="mouseout"||e==="pointerout",at&&s!==Br&&(qt=s.relatedTarget||s.fromElement)&&(Ur(qt)||qt[qn]))break t;if((st||at)&&(at=ht.window===ht?ht:(at=ht.ownerDocument)?at.defaultView||at.parentWindow:window,st?(qt=s.relatedTarget||s.toElement,st=nt,qt=qt?Ur(qt):null,qt!==null&&(_e=u(qt),Lt=qt.tag,qt!==_e||Lt!==5&&Lt!==27&&Lt!==6)&&(qt=null)):(st=null,qt=nt),st!==qt)){if(Lt=Qn,gt="onMouseLeave",$="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Lt=bo,gt="onPointerLeave",$="onPointerEnter",X="pointer"),_e=st==null?at:mr(st),et=qt==null?at:mr(qt),at=new Lt(gt,X+"leave",st,s,ht),at.target=_e,at.relatedTarget=et,gt=null,Ur(ht)===nt&&(Lt=new Lt($,X+"enter",qt,s,ht),Lt.target=et,Lt.relatedTarget=_e,gt=Lt),_e=gt,st&&qt)e:{for(Lt=st,$=qt,X=0,et=Lt;et;et=Ns(et))X++;for(et=0,gt=$;gt;gt=Ns(gt))et++;for(;0<X-et;)Lt=Ns(Lt),X--;for(;0<et-X;)$=Ns($),et--;for(;X--;){if(Lt===$||$!==null&&Lt===$.alternate)break e;Lt=Ns(Lt),$=Ns($)}Lt=null}else Lt=null;st!==null&&R_(yt,at,st,Lt,!1),qt!==null&&_e!==null&&R_(yt,_e,qt,Lt,!0)}}t:{if(at=nt?mr(nt):window,st=at.nodeName&&at.nodeName.toLowerCase(),st==="select"||st==="input"&&at.type==="file")var kt=Gm;else if(Fe(at))if(Qm)kt=gb;else{kt=mb;var Xt=db}else st=at.nodeName,!st||st.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?nt&&mo(nt.elementType)&&(kt=Gm):kt=pb;if(kt&&(kt=kt(e,nt))){Gr(yt,kt,s,ht);break t}Xt&&Xt(e,at,nt),e==="focusout"&&nt&&at.type==="number"&&nt.memoizedProps.value!=null&&yi(at,"number",at.value)}switch(Xt=nt?mr(nt):window,e){case"focusin":(Fe(Xt)||Xt.contentEditable==="true")&&(ls=Xt,gh=nt,Ao=null);break;case"focusout":Ao=gh=ls=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,tp(yt,s,ht);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":tp(yt,s,ht)}var Mt;if(br)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else te?lt(e,s)&&(Pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Pt="onCompositionStart");Pt&&(b&&s.locale!=="ko"&&(te||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&te&&(Mt=go()):(_r=ht,vi="value"in _r?_r.value:_r.textContent,te=!0)),Xt=Yu(nt,Pt),0<Xt.length&&(Pt=new vo(Pt,e,null,s,ht),yt.push({event:Pt,listeners:Xt}),Mt?Pt.data=Mt:(Mt=Rt(s),Mt!==null&&(Pt.data=Mt)))),(Mt=_?He(e,s):ee(e,s))&&(Pt=Yu(nt,"onBeforeInput"),0<Pt.length&&(Xt=new vo("onBeforeInput","beforeinput",null,s,ht),yt.push({event:Xt,listeners:Pt}),Xt.data=Mt)),t1(yt,e,nt,s,ht)}A_(yt,r)})}function Wo(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Yu(e,r){for(var s=r+"Capture",l=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=fa(e,s),f!=null&&l.unshift(Wo(e,f,p)),f=fa(e,r),f!=null&&l.push(Wo(e,f,p))),e.tag===3)return l;e=e.return}return[]}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function R_(e,r,s,l,f){for(var p=r._reactName,w=[];s!==null&&s!==l;){var N=s,G=N.alternate,nt=N.stateNode;if(N=N.tag,G!==null&&G===l)break;N!==5&&N!==26&&N!==27||nt===null||(G=nt,f?(nt=fa(s,p),nt!=null&&w.unshift(Wo(s,nt,G))):f||(nt=fa(s,p),nt!=null&&w.push(Wo(s,nt,G)))),s=s.return}w.length!==0&&e.push({event:r,listeners:w})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function C_(e){return(typeof e=="string"?e:""+e).replace(i1,`
`).replace(a1,"")}function x_(e,r){return r=C_(r),C_(e)===r}function Ku(){}function ge(e,r,s,l,f,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Hn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Hn(e,""+l);break;case"className":pr(e,"class",l);break;case"tabIndex":pr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(e,s,l);break;case"style":fo(e,l,p);break;case"data":if(r!=="object"){pr(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ja(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&ge(e,r,"name",f.name,f,null),ge(e,r,"formEncType",f.formEncType,f,null),ge(e,r,"formMethod",f.formMethod,f,null),ge(e,r,"formTarget",f.formTarget,f,null)):(ge(e,r,"encType",f.encType,f,null),ge(e,r,"method",f.method,f,null),ge(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ja(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Ku);break;case"onScroll":l!=null&&$t("scroll",e);break;case"onScrollEnd":l!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ja(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":$t("beforetoggle",e),$t("toggle",e),_i(e,"popover",l);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uh.get(s)||s,_i(e,s,l))}}function jf(e,r,s,l,f,p){switch(s){case"style":fo(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Hn(e,l):(typeof l=="number"||typeof l=="bigint")&&Hn(e,""+l);break;case"onScroll":l!=null&&$t("scroll",e);break;case"onScrollEnd":l!=null&&$t("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ka.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),p=e[Me]||null,p=p!=null?p[s]:null,typeof p=="function"&&e.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):_i(e,s,l)}}}function on(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var w=s[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:ge(e,r,p,w,s,null)}}f&&ge(e,r,"srcSet",s.srcSet,s,null),l&&ge(e,r,"src",s.src,s,null);return;case"input":$t("invalid",e);var N=p=w=f=null,G=null,nt=null;for(l in s)if(s.hasOwnProperty(l)){var ht=s[l];if(ht!=null)switch(l){case"name":f=ht;break;case"type":w=ht;break;case"checked":G=ht;break;case"defaultChecked":nt=ht;break;case"value":p=ht;break;case"defaultValue":N=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(a(137,r));break;default:ge(e,r,l,ht,s,null)}}ua(e,p,N,G,nt,w,f,!1),Wa(e);return;case"select":$t("invalid",e),l=w=p=null;for(f in s)if(s.hasOwnProperty(f)&&(N=s[f],N!=null))switch(f){case"value":p=N;break;case"defaultValue":w=N;break;case"multiple":l=N;default:ge(e,r,f,N,s,null)}r=p,s=w,e.multiple=!!l,r!=null?Pr(e,!!l,r,!1):s!=null&&Pr(e,!!l,s,!0);return;case"textarea":$t("invalid",e),p=f=l=null;for(w in s)if(s.hasOwnProperty(w)&&(N=s[w],N!=null))switch(w){case"value":l=N;break;case"defaultValue":f=N;break;case"children":p=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:ge(e,r,w,N,s,null)}ca(e,l,f,p),Wa(e);return;case"option":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ge(e,r,G,l,s,null)}return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(l=0;l<$o.length;l++)$t($o[l],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in s)if(s.hasOwnProperty(nt)&&(l=s[nt],l!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:ge(e,r,nt,l,s,null)}return;default:if(mo(r)){for(ht in s)s.hasOwnProperty(ht)&&(l=s[ht],l!==void 0&&jf(e,r,ht,l,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(l=s[N],l!=null&&ge(e,r,N,l,s,null))}function s1(e,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,w=null,N=null,G=null,nt=null,ht=null;for(st in s){var yt=s[st];if(s.hasOwnProperty(st)&&yt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":G=yt;default:l.hasOwnProperty(st)||ge(e,r,st,null,l,yt)}}for(var at in l){var st=l[at];if(yt=s[at],l.hasOwnProperty(at)&&(st!=null||yt!=null))switch(at){case"type":p=st;break;case"name":f=st;break;case"checked":nt=st;break;case"defaultChecked":ht=st;break;case"value":w=st;break;case"defaultValue":N=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,r));break;default:st!==yt&&ge(e,r,at,st,l,yt)}}On(e,w,N,G,nt,ht,p,f);return;case"select":st=w=N=at=null;for(p in s)if(G=s[p],s.hasOwnProperty(p)&&G!=null)switch(p){case"value":break;case"multiple":st=G;default:l.hasOwnProperty(p)||ge(e,r,p,null,l,G)}for(f in l)if(p=l[f],G=s[f],l.hasOwnProperty(f)&&(p!=null||G!=null))switch(f){case"value":at=p;break;case"defaultValue":N=p;break;case"multiple":w=p;default:p!==G&&ge(e,r,f,p,l,G)}r=N,s=w,l=st,at!=null?Pr(e,!!s,at,!1):!!l!=!!s&&(r!=null?Pr(e,!!s,r,!0):Pr(e,!!s,s?[]:"",!1));return;case"textarea":st=at=null;for(N in s)if(f=s[N],s.hasOwnProperty(N)&&f!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ge(e,r,N,null,l,f)}for(w in l)if(f=l[w],p=s[w],l.hasOwnProperty(w)&&(f!=null||p!=null))switch(w){case"value":at=f;break;case"defaultValue":st=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&ge(e,r,w,f,l,p)}me(e,at,st);return;case"option":for(var qt in s)if(at=s[qt],s.hasOwnProperty(qt)&&at!=null&&!l.hasOwnProperty(qt))switch(qt){case"selected":e.selected=!1;break;default:ge(e,r,qt,null,l,at)}for(G in l)if(at=l[G],st=s[G],l.hasOwnProperty(G)&&at!==st&&(at!=null||st!=null))switch(G){case"selected":e.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:ge(e,r,G,at,l,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in s)at=s[Lt],s.hasOwnProperty(Lt)&&at!=null&&!l.hasOwnProperty(Lt)&&ge(e,r,Lt,null,l,at);for(nt in l)if(at=l[nt],st=s[nt],l.hasOwnProperty(nt)&&at!==st&&(at!=null||st!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(a(137,r));break;default:ge(e,r,nt,at,l,st)}return;default:if(mo(r)){for(var _e in s)at=s[_e],s.hasOwnProperty(_e)&&at!==void 0&&!l.hasOwnProperty(_e)&&jf(e,r,_e,void 0,l,at);for(ht in l)at=l[ht],st=s[ht],!l.hasOwnProperty(ht)||at===st||at===void 0&&st===void 0||jf(e,r,ht,at,l,st);return}}for(var $ in s)at=s[$],s.hasOwnProperty($)&&at!=null&&!l.hasOwnProperty($)&&ge(e,r,$,null,l,at);for(yt in l)at=l[yt],st=s[yt],!l.hasOwnProperty(yt)||at===st||at==null&&st==null||ge(e,r,yt,at,l,st)}var qf=null,Hf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function D_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Ff(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gf=null;function o1(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(c1)}:O_;function c1(e){setTimeout(function(){throw e})}function Mi(e){return e==="head"}function k_(e,r){var s=r,l=0,f=0;do{var p=s.nextSibling;if(e.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var w=e.ownerDocument;if(s&1&&Jo(w.documentElement),s&2&&Jo(w.body),s&4)for(s=w.head,Jo(s),w=s.firstChild;w;){var N=w.nextSibling,G=w.nodeName;w[aa]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=N}}if(f===0){e.removeChild(p),ol(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);ol(r)}function Qf(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),gi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function h1(e,r,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[aa])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=sr(e.nextSibling),e===null)break}return null}function f1(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=sr(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function d1(e,r){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function sr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var Kf=null;function V_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}function M_(e,r,s){switch(r=Xu(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Jo(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);gi(e)}var Jn=new Map,U_=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=W.d;W.d={f:m1,r:p1,D:g1,C:_1,L:y1,m:v1,X:b1,S:E1,M:T1};function m1(){var e=ii.f(),r=ju();return e||r}function p1(e){var r=dr(e);r!==null&&r.tag===5&&r.type==="form"?ng(r):ii.r(e)}var ks=typeof document>"u"?null:document;function z_(e,r,s){var l=ks;if(l&&typeof r=="string"&&r){var f=Ue(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),U_.has(f)||(U_.add(f),e={rel:e,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),on(r,"link",e),Oe(r),l.head.appendChild(r)))}}function g1(e){ii.D(e),z_("dns-prefetch",e,null)}function _1(e,r){ii.C(e,r),z_("preconnect",e,r)}function y1(e,r,s){ii.L(e,r,s);var l=ks;if(l&&e&&r){var f='link[rel="preload"][as="'+Ue(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ue(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ue(s.imageSizes)+'"]')):f+='[href="'+Ue(e)+'"]';var p=f;switch(r){case"style":p=Vs(e);break;case"script":p=Ms(e)}Jn.has(p)||(e=y({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),Jn.set(p,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(tl(p))||r==="script"&&l.querySelector(el(p))||(r=l.createElement("link"),on(r,"link",e),Oe(r),l.head.appendChild(r)))}}function v1(e,r){ii.m(e,r);var s=ks;if(s&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ue(l)+'"][href="'+Ue(e)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ms(e)}if(!Jn.has(p)&&(e=y({rel:"modulepreload",href:e},r),Jn.set(p,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(el(p)))return}l=s.createElement("link"),on(l,"link",e),Oe(l),s.head.appendChild(l)}}}function E1(e,r,s){ii.S(e,r,s);var l=ks;if(l&&e){var f=vn(l).hoistableStyles,p=Vs(e);r=r||"default";var w=f.get(p);if(!w){var N={loading:0,preload:null};if(w=l.querySelector(tl(p)))N.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":r},s),(s=Jn.get(p))&&Xf(e,s);var G=w=l.createElement("link");Oe(G),on(G,"link",e),G._p=new Promise(function(nt,ht){G.onload=nt,G.onerror=ht}),G.addEventListener("load",function(){N.loading|=1}),G.addEventListener("error",function(){N.loading|=2}),N.loading|=4,$u(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:N},f.set(p,w)}}}function b1(e,r){ii.X(e,r);var s=ks;if(s&&e){var l=vn(s).hoistableScripts,f=Ms(e),p=l.get(f);p||(p=s.querySelector(el(f)),p||(e=y({src:e,async:!0},r),(r=Jn.get(f))&&Zf(e,r),p=s.createElement("script"),Oe(p),on(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function T1(e,r){ii.M(e,r);var s=ks;if(s&&e){var l=vn(s).hoistableScripts,f=Ms(e),p=l.get(f);p||(p=s.querySelector(el(f)),p||(e=y({src:e,async:!0,type:"module"},r),(r=Jn.get(f))&&Zf(e,r),p=s.createElement("script"),Oe(p),on(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function L_(e,r,s,l){var f=(f=Dt.current)?Zu(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Vs(s.href),s=vn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Vs(s.href);var p=vn(f).hoistableStyles,w=p.get(e);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,w),(p=f.querySelector(tl(e)))&&!p._p&&(w.instance=p,w.state.loading=5),Jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(e,s),p||w1(f,e,s,w.state))),r&&l===null)throw Error(a(528,""));return w}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ms(s),s=vn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vs(e){return'href="'+Ue(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function w1(e,r,s,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),on(r,"link",s),Oe(r),e.head.appendChild(r))}function Ms(e){return'[src="'+Ue(e)+'"]'}function el(e){return"script[async]"+e}function B_(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Ue(s.href)+'"]');if(l)return r.instance=l,Oe(l),l;var f=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Oe(l),on(l,"style",f),$u(l,s.precedence,e),r.instance=l;case"stylesheet":f=Vs(s.href);var p=e.querySelector(tl(f));if(p)return r.state.loading|=4,r.instance=p,Oe(p),p;l=P_(s),(f=Jn.get(f))&&Xf(l,f),p=(e.ownerDocument||e).createElement("link"),Oe(p);var w=p;return w._p=new Promise(function(N,G){w.onload=N,w.onerror=G}),on(p,"link",l),r.state.loading|=4,$u(p,s.precedence,e),r.instance=p;case"script":return p=Ms(s.src),(f=e.querySelector(el(p)))?(r.instance=f,Oe(f),f):(l=s,(f=Jn.get(p))&&(l=y({},s),Zf(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Oe(f),on(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,$u(l,s.precedence,e));return r.instance}function $u(e,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,w=0;w<l.length;w++){var N=l[w];if(N.dataset.precedence===r)p=N;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function Xf(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Zf(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Wu=null;function j_(e,r,s){if(Wu===null){var l=new Map,f=Wu=new Map;f.set(s,l)}else f=Wu,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var p=s[f];if(!(p[aa]||p[qe]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(r)||"";w=e+w;var N=l.get(w);N?N.push(p):l.set(w,[p])}}return l}function q_(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function A1(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function S1(){}function R1(e,r,s){if(nl===null)throw Error(a(475));var l=nl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Vs(s.href),p=e.querySelector(tl(f));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ju.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=p,Oe(p);return}p=e.ownerDocument||e,s=P_(s),(f=Jn.get(f))&&Xf(s,f),p=p.createElement("link"),Oe(p);var w=p;w._p=new Promise(function(N,G){w.onload=N,w.onerror=G}),on(p,"link",s),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Ju.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function C1(){if(nl===null)throw Error(a(475));var e=nl;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(r){var s=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function $f(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,r.forEach(x1,e),tc=null,Ju.call(e))}function x1(e,r){if(!(r.state.loading&4)){var s=tc.get(e);if(s)var l=s.get(null);else{s=new Map,tc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var w=f[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),l=w)}l&&s.set(null,l)}f=r.instance,w=f.getAttribute("data-precedence"),p=s.get(w)||l,p===l&&s.set(null,f),s.set(w,f),this.count++,l=Ju.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var rl={$$typeof:L,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function D1(e,r,s,l,f,p,w,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function F_(e,r,s,l,f,p,w,N,G,nt,ht,yt){return e=new D1(e,r,s,w,N,G,nt,yt),r=1,p===!0&&(r|=24),p=kn(3,null,null,r),e.current=p,p.stateNode=e,r=Oh(),r.refCount++,e.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},Mh(p),e}function G_(e){return e?(e=fs,e):fs}function Q_(e,r,s,l,f,p){f=G_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ti(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=wi(e,l,r),s!==null&&(Ln(s,e,r),ko(s,e,r))}function Y_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Wf(e,r){Y_(e,r),(e=e.alternate)&&Y_(e,r)}function K_(e){if(e.tag===13){var r=hs(e,67108864);r!==null&&Ln(r,e,67108864),Wf(e,67108864)}}var ec=!0;function I1(e,r,s,l){var f=tt.T;tt.T=null;var p=W.p;try{W.p=2,Jf(e,r,s,l)}finally{W.p=p,tt.T=f}}function O1(e,r,s,l){var f=tt.T;tt.T=null;var p=W.p;try{W.p=8,Jf(e,r,s,l)}finally{W.p=p,tt.T=f}}function Jf(e,r,s,l){if(ec){var f=td(l);if(f===null)Bf(e,r,l,nc,s),Z_(e,l);else if(k1(f,e,r,s,l))l.stopPropagation();else if(Z_(e,l),r&4&&-1<N1.indexOf(e)){for(;f!==null;){var p=dr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=_n(p.pendingLanes);if(w!==0){var N=p;for(N.pendingLanes|=2,N.entangledLanes|=2;w;){var G=1<<31-ce(w);N.entanglements[1]|=G,w&=~G}Cr(p),(fe&6)===0&&(Pu=j()+500,Zo(0))}}break;case 13:N=hs(p,2),N!==null&&Ln(N,p,2),ju(),Wf(p,2)}if(p=td(l),p===null&&Bf(e,r,l,nc,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else Bf(e,r,l,null,s)}}function td(e){return e=Fn(e),ed(e)}var nc=null;function ed(e){if(nc=null,e=Ur(e),e!==null){var r=u(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=h(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return nc=e,null}function X_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(B()){case Z:return 2;case vt:return 8;case Tt:case it:return 32;case At:return 268435456;default:return 32}default:return 32}}var nd=!1,Ui=null,zi=null,Li=null,il=new Map,al=new Map,Pi=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,r){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(r.pointerId)}}function sl(e,r,s,l,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=dr(r),r!==null&&K_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function k1(e,r,s,l,f){switch(r){case"focusin":return Ui=sl(Ui,e,r,s,l,f),!0;case"dragenter":return zi=sl(zi,e,r,s,l,f),!0;case"mouseover":return Li=sl(Li,e,r,s,l,f),!0;case"pointerover":var p=f.pointerId;return il.set(p,sl(il.get(p)||null,e,r,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,al.set(p,sl(al.get(p)||null,e,r,s,l,f)),!0}return!1}function $_(e){var r=Ur(e.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){e.blockedOn=r,jl(e.priority,function(){if(s.tag===13){var l=zn();l=di(l);var f=hs(s,l);f!==null&&Ln(f,s,l),Wf(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=td(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Br=l,s.target.dispatchEvent(l),Br=null}else return r=dr(s),r!==null&&K_(r),e.blockedOn=s,!1;r.shift()}return!0}function W_(e,r,s){rc(e)&&s.delete(r)}function V1(){nd=!1,Ui!==null&&rc(Ui)&&(Ui=null),zi!==null&&rc(zi)&&(zi=null),Li!==null&&rc(Li)&&(Li=null),il.forEach(W_),al.forEach(W_)}function ic(e,r){e.blockedOn===r&&(e.blockedOn=null,nd||(nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,V1)))}var ac=null;function J_(e){ac!==e&&(ac=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var r=0;r<e.length;r+=3){var s=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(ed(l||s)===null)continue;break}var p=dr(s);p!==null&&(e.splice(r,3),r-=3,tf(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function ol(e){function r(G){return ic(G,e)}Ui!==null&&ic(Ui,e),zi!==null&&ic(zi,e),Li!==null&&ic(Li,e),il.forEach(r),al.forEach(r);for(var s=0;s<Pi.length;s++){var l=Pi[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pi.length&&(s=Pi[0],s.blockedOn===null);)$_(s),s.blockedOn===null&&Pi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],w=f[Me]||null;if(typeof p=="function")w||J_(s);else if(w){var N=null;if(p&&p.hasAttribute("formAction")){if(f=p,w=p[Me]||null)N=w.formAction;else if(ed(f)!==null)continue}else N=w.action;typeof N=="function"?s[l+1]=N:(s.splice(l,3),l-=3),J_(s)}}}function rd(e){this._internalRoot=e}sc.prototype.render=rd.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=zn();Q_(s,l,e,r,null,null)},sc.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Q_(e.current,2,null,e,null,null),ju(),r[qn]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var r=mi();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Pi.length&&r!==0&&r<Pi[s].priority;s++);Pi.splice(s,0,e),s===0&&$_(e)}};var ty=t.version;if(ty!=="19.1.0")throw Error(a(527,ty,"19.1.0"));W.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var M1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Ct=oc.inject(M1),Ut=oc}catch{}}return ul.createRoot=function(e,r){if(!o(e))throw Error(a(299));var s=!1,l="",f=gg,p=_g,w=yg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(N=r.unstable_transitionCallbacks)),r=F_(e,1,!1,null,null,s,l,f,p,w,N,null),e[qn]=r.current,Pf(e),new rd(r)},ul.hydrateRoot=function(e,r,s){if(!o(e))throw Error(a(299));var l=!1,f="",p=gg,w=_g,N=yg,G=null,nt=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(G=s.unstable_transitionCallbacks),s.formState!==void 0&&(nt=s.formState)),r=F_(e,1,!0,r,s??null,l,f,p,w,N,G,nt),r.context=G_(null),s=r.current,l=zn(),l=di(l),f=Ti(l),f.callback=null,wi(s,f,l),s=l,r.current.lanes=s,yn(r,s),Cr(r),e[qn]=r.current,Pf(e),new sc(r)},ul.version="19.1.0",ul}var cy;function Q1(){if(cy)return sd.exports;cy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),sd.exports=G1(),sd.exports}var Y1=Q1();const K1=Xd(Y1);var cl={},hy;function X1(){if(hy)return cl;hy=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.parse=h,cl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,v){const C=new u,S=T.length;if(S<2)return C;const R=(v==null?void 0:v.decode)||y;let x=0;do{const M=T.indexOf("=",x);if(M===-1)break;const L=T.indexOf(";",x),Q=L===-1?S:L;if(M>Q){x=T.lastIndexOf(";",M-1)+1;continue}const Y=d(T,x,M),rt=m(T,M,Y),z=T.slice(Y,rt);if(C[z]===void 0){let k=d(T,M+1,Q),O=m(T,Q,k);const P=R(T.slice(k,O));C[z]=P}x=Q+1}while(x<S);return C}function d(T,v,C){do{const S=T.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<C);return C}function m(T,v,C){for(;v>C;){const S=T.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return C}function g(T,v,C){const S=(C==null?void 0:C.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const R=S(v);if(!t.test(R))throw new TypeError(`argument val is invalid: ${v}`);let x=T+"="+R;if(!C)return x;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);x+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);x+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);x+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);x+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(x+="; HttpOnly"),C.secure&&(x+="; Secure"),C.partitioned&&(x+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return x}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return cl}X1();var fy="popstate";function Z1(i={}){function t(a,o){let{pathname:u,search:h,hash:d}=a.location;return Ad("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:bl(o)}return W1(t,n,null,i)}function Re(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Nr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $1(){return Math.random().toString(36).substring(2,10)}function dy(i,t){return{usr:i.state,key:i.key,idx:t}}function Ad(i,t,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ws(t):t,state:n,key:t&&t.key||a||$1()}}function bl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ws(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function W1(i,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",m=null,g=y();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function y(){return(h.state||{idx:null}).idx}function E(){d="POP";let R=y(),x=R==null?null:R-g;g=R,m&&m({action:d,location:S.location,delta:x})}function T(R,x){d="PUSH";let M=Ad(S.location,R,x);g=y()+1;let L=dy(M,g),Q=S.createHref(M);try{h.pushState(L,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(Q)}u&&m&&m({action:d,location:S.location,delta:1})}function v(R,x){d="REPLACE";let M=Ad(S.location,R,x);g=y();let L=dy(M,g),Q=S.createHref(M);h.replaceState(L,"",Q),u&&m&&m({action:d,location:S.location,delta:0})}function C(R){let x=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof R=="string"?R:bl(R);return M=M.replace(/ $/,"%20"),Re(x,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,x)}let S={get action(){return d},get location(){return i(o,h)},listen(R){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(fy,E),m=R,()=>{o.removeEventListener(fy,E),m=null}},createHref(R){return t(o,R)},createURL:C,encodeLocation(R){let x=C(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:T,replace:v,go(R){return h.go(R)}};return S}function Mv(i,t,n="/"){return J1(i,t,n,!1)}function J1(i,t,n,a){let o=typeof t=="string"?Ws(t):t,u=li(o.pathname||"/",n);if(u==null)return null;let h=Uv(i);tT(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=hT(u);d=uT(h[m],g,a)}return d}function Uv(i,t=[],n=[],a=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(Re(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ai([a,m.relativePath]),y=n.concat(m);u.children&&u.children.length>0&&(Re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Uv(u.children,t,y,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:oT(g,u.index),routesMeta:y})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of zv(u.path))o(u,h,m)}),t}function zv(i){let t=i.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=zv(a.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function tT(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:lT(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var eT=/^:[\w-]+$/,nT=3,rT=2,iT=1,aT=10,sT=-2,my=i=>i==="*";function oT(i,t){let n=i.split("/"),a=n.length;return n.some(my)&&(a+=sT),t&&(a+=rT),n.filter(o=>!my(o)).reduce((o,u)=>o+(eT.test(u)?nT:u===""?iT:aT),a)}function lT(i,t){return i.length===t.length&&i.slice(0,-1).every((a,o)=>a===t[o])?i[i.length-1]-t[t.length-1]:0}function uT(i,t,n=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,y=u==="/"?t:t.slice(u.length)||"/",E=xc({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),T=m.route;if(!E&&g&&n&&!a[a.length-1].route.index&&(E=xc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:ai([u,E.pathname]),pathnameBase:pT(ai([u,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(u=ai([u,E.pathnameBase]))}return h}function xc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=cT(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:E},T)=>{if(y==="*"){let C=d[T]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const v=d[T];return E&&!v?g[y]=void 0:g[y]=(v||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function cT(i,t=!1,n=!0){Nr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function hT(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function li(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function fT(i,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ws(i):i;return{pathname:n?n.startsWith("/")?n:dT(n,t):t,search:gT(a),hash:_T(o)}}function dT(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cd(i,t,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mT(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lv(i){let t=mT(i);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Pv(i,t,n,a=!1){let o;typeof i=="string"?o=Ws(i):(o={...i},Re(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),Re(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),Re(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=n;else{let E=t.length-1;if(!a&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}d=E>=0?t[E]:"/"}let m=fT(o,d),g=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var ai=i=>i.join("/").replace(/\/\/+/g,"/"),pT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_T=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yT(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Bv=["POST","PUT","PATCH","DELETE"];new Set(Bv);var vT=["GET",...Bv];new Set(vT);var Js=mt.createContext(null);Js.displayName="DataRouter";var Fc=mt.createContext(null);Fc.displayName="DataRouterState";var jv=mt.createContext({isTransitioning:!1});jv.displayName="ViewTransition";var ET=mt.createContext(new Map);ET.displayName="Fetchers";var bT=mt.createContext(null);bT.displayName="Await";var Mr=mt.createContext(null);Mr.displayName="Navigation";var Nl=mt.createContext(null);Nl.displayName="Location";var fi=mt.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var $d=mt.createContext(null);$d.displayName="RouteError";function TT(i,{relative:t}={}){Re(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=mt.useContext(Mr),{hash:o,pathname:u,search:h}=Vl(i,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:ai([n,u])),a.createHref({pathname:d,search:h,hash:o})}function kl(){return mt.useContext(Nl)!=null}function Ba(){return Re(kl(),"useLocation() may be used only in the context of a <Router> component."),mt.useContext(Nl).location}var qv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hv(i){mt.useContext(Mr).static||mt.useLayoutEffect(i)}function wT(){let{isDataRoute:i}=mt.useContext(fi);return i?UT():AT()}function AT(){Re(kl(),"useNavigate() may be used only in the context of a <Router> component.");let i=mt.useContext(Js),{basename:t,navigator:n}=mt.useContext(Mr),{matches:a}=mt.useContext(fi),{pathname:o}=Ba(),u=JSON.stringify(Lv(a)),h=mt.useRef(!1);return Hv(()=>{h.current=!0}),mt.useCallback((m,g={})=>{if(Nr(h.current,qv),!h.current)return;if(typeof m=="number"){n.go(m);return}let y=Pv(m,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ai([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,u,o,i])}mt.createContext(null);function Vl(i,{relative:t}={}){let{matches:n}=mt.useContext(fi),{pathname:a}=Ba(),o=JSON.stringify(Lv(n));return mt.useMemo(()=>Pv(i,JSON.parse(o),a,t==="path"),[i,o,a,t])}function ST(i,t){return Fv(i,t)}function Fv(i,t,n,a){var M;Re(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=mt.useContext(Mr),{matches:h}=mt.useContext(fi),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let L=E&&E.path||"";Gv(g,!E||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=Ba(),v;if(t){let L=typeof t=="string"?Ws(t):t;Re(y==="/"||((M=L.pathname)==null?void 0:M.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=T;let C=v.pathname||"/",S=C;if(y!=="/"){let L=y.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(L.length).join("/")}let R=!u&&n&&n.matches&&n.matches.length>0?n.matches:Mv(i,{pathname:S});Nr(E||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Nr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=IT(R&&R.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:ai([y,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:ai([y,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),h,n,a);return t&&x?mt.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function RT(){let i=MT(),t=yT(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=mt.createElement(mt.Fragment,null,mt.createElement("p",null,"💿 Hey developer 👋"),mt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",mt.createElement("code",{style:u},"ErrorBoundary")," or"," ",mt.createElement("code",{style:u},"errorElement")," prop on your route.")),mt.createElement(mt.Fragment,null,mt.createElement("h2",null,"Unexpected Application Error!"),mt.createElement("h3",{style:{fontStyle:"italic"}},t),n?mt.createElement("pre",{style:o},n):null,h)}var CT=mt.createElement(RT,null),xT=class extends mt.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?mt.createElement(fi.Provider,{value:this.props.routeContext},mt.createElement($d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DT({routeContext:i,match:t,children:n}){let a=mt.useContext(Js);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),mt.createElement(fi.Provider,{value:i},n)}function IT(i,t=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Re(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:y,errors:E}=n,T=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,y)=>{let E,T=!1,v=null,C=null;n&&(E=u&&g.route.id?u[g.route.id]:void 0,v=g.route.errorElement||CT,h&&(d<0&&y===0?(Gv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):d===y&&(T=!0,C=g.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,y+1)),R=()=>{let x;return E?x=v:T?x=C:g.route.Component?x=mt.createElement(g.route.Component,null):g.route.element?x=g.route.element:x=m,mt.createElement(DT,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:x})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?mt.createElement(xT,{location:n.location,revalidation:n.revalidation,component:v,error:E,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}function Wd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(i){let t=mt.useContext(Js);return Re(t,Wd(i)),t}function NT(i){let t=mt.useContext(Fc);return Re(t,Wd(i)),t}function kT(i){let t=mt.useContext(fi);return Re(t,Wd(i)),t}function Jd(i){let t=kT(i),n=t.matches[t.matches.length-1];return Re(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function VT(){return Jd("useRouteId")}function MT(){var a;let i=mt.useContext($d),t=NT("useRouteError"),n=Jd("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[n]}function UT(){let{router:i}=OT("useNavigate"),t=Jd("useNavigate"),n=mt.useRef(!1);return Hv(()=>{n.current=!0}),mt.useCallback(async(o,u={})=>{Nr(n.current,qv),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var py={};function Gv(i,t,n){!t&&!py[i]&&(py[i]=!0,Nr(!1,n))}mt.memo(zT);function zT({routes:i,future:t,state:n}){return Fv(i,void 0,n,t)}function yc(i){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LT({basename:i="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Re(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=mt.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ws(n));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:T="default"}=n,v=mt.useMemo(()=>{let C=li(m,h);return C==null?null:{location:{pathname:C,search:g,hash:y,state:E,key:T},navigationType:a}},[h,m,g,y,E,T,a]);return Nr(v!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:mt.createElement(Mr.Provider,{value:d},mt.createElement(Nl.Provider,{children:t,value:v}))}function PT({children:i,location:t}){return ST(Sd(i),t)}function Sd(i,t=[]){let n=[];return mt.Children.forEach(i,(a,o)=>{if(!mt.isValidElement(a))return;let u=[...t,o];if(a.type===mt.Fragment){n.push.apply(n,Sd(a.props.children,u));return}Re(a.type===yc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Sd(a.props.children,u)),n.push(h)}),n}var vc="get",Ec="application/x-www-form-urlencoded";function Gc(i){return i!=null&&typeof i.tagName=="string"}function BT(i){return Gc(i)&&i.tagName.toLowerCase()==="button"}function jT(i){return Gc(i)&&i.tagName.toLowerCase()==="form"}function qT(i){return Gc(i)&&i.tagName.toLowerCase()==="input"}function HT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FT(i,t){return i.button===0&&(!t||t==="_self")&&!HT(i)}var lc=null;function GT(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var QT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(i){return i!=null&&!QT.has(i)?(Nr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):i}function YT(i,t){let n,a,o,u,h;if(jT(i)){let d=i.getAttribute("action");a=d?li(d,t):null,n=i.getAttribute("method")||vc,o=hd(i.getAttribute("enctype"))||Ec,u=new FormData(i)}else if(BT(i)||qT(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(a=m?li(m,t):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||vc,o=hd(i.getAttribute("formenctype"))||hd(d.getAttribute("enctype"))||Ec,u=new FormData(d,i),!GT()){let{name:g,type:y,value:E}=i;if(y==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,E)}}else{if(Gc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vc,a=null,o=Ec,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function tm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function KT(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ZT(i,t,n){let a=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await KT(u,n);return h.links?h.links():[]}return[]}));return tw(a.flat(1).filter(XT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(i,t,n,a,o,u){let h=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var y;return n[g].pathname!==m.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{var E;let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function $T(i,t,{includeHydrateFallback:n}={}){return WT(i.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function WT(i){return[...new Set(i)]}function JT(i){let t={},n=Object.keys(i).sort();for(let a of n)t[a]=i[a];return t}function tw(i,t){let n=new Set;return new Set(t),i.reduce((a,o)=>{let u=JSON.stringify(JT(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var ew=new Set([100,101,204,205]);function nw(i,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":t&&li(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Qv(){let i=mt.useContext(Js);return tm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rw(){let i=mt.useContext(Fc);return tm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var em=mt.createContext(void 0);em.displayName="FrameworkContext";function Yv(){let i=mt.useContext(em);return tm(i,"You must render this element inside a <HydratedRouter> element"),i}function iw(i,t){let n=mt.useContext(em),[a,o]=mt.useState(!1),[u,h]=mt.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=t,T=mt.useRef(null);mt.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let S=x=>{x.forEach(M=>{h(M.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return T.current&&R.observe(T.current),()=>{R.disconnect()}}},[i]),mt.useEffect(()=>{if(a){let S=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(S)}}},[a]);let v=()=>{o(!0)},C=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,T,{}]:[u,T,{onFocus:hl(d,v),onBlur:hl(m,C),onMouseEnter:hl(g,v),onMouseLeave:hl(y,C),onTouchStart:hl(E,v)}]:[!1,T,{}]}function hl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function aw({page:i,...t}){let{router:n}=Qv(),a=mt.useMemo(()=>Mv(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?mt.createElement(ow,{page:i,matches:a,...t}):null}function sw(i){let{manifest:t,routeModules:n}=Yv(),[a,o]=mt.useState([]);return mt.useEffect(()=>{let u=!1;return ZT(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),a}function ow({page:i,matches:t,...n}){let a=Ba(),{manifest:o,routeModules:u}=Yv(),{basename:h}=Qv(),{loaderData:d,matches:m}=rw(),g=mt.useMemo(()=>gy(i,t,m,o,a,"data"),[i,t,m,o,a]),y=mt.useMemo(()=>gy(i,t,m,o,a,"assets"),[i,t,m,o,a]),E=mt.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let C=new Set,S=!1;if(t.forEach(x=>{var L;let M=o.routes[x.route.id];!M||!M.hasLoader||(!g.some(Q=>Q.route.id===x.route.id)&&x.route.id in d&&((L=u[x.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?S=!0:C.add(x.route.id))}),C.size===0)return[];let R=nw(i,h);return S&&C.size>0&&R.searchParams.set("_routes",t.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[h,d,a,o,g,t,i,u]),T=mt.useMemo(()=>$T(y,o),[y,o]),v=sw(y);return mt.createElement(mt.Fragment,null,E.map(C=>mt.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>mt.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:S})=>mt.createElement("link",{key:C,...S})))}function lw(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kv&&(window.__reactRouterVersion="7.5.3")}catch{}function uw({basename:i,children:t,window:n}){let a=mt.useRef();a.current==null&&(a.current=Z1({window:n,v5Compat:!0}));let o=a.current,[u,h]=mt.useState({action:o.action,location:o.location}),d=mt.useCallback(m=>{mt.startTransition(()=>h(m))},[h]);return mt.useLayoutEffect(()=>o.listen(d),[o,d]),mt.createElement(LT,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hs=mt.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:y,viewTransition:E,...T},v){let{basename:C}=mt.useContext(Mr),S=typeof g=="string"&&Xv.test(g),R,x=!1;if(typeof g=="string"&&S&&(R=g,Kv))try{let O=new URL(window.location.href),P=g.startsWith("//")?new URL(O.protocol+g):new URL(g),F=li(P.pathname,C);P.origin===O.origin&&F!=null?g=F+P.search+P.hash:x=!0}catch{Nr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=TT(g,{relative:o}),[L,Q,Y]=iw(a,T),rt=dw(g,{replace:h,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:E});function z(O){t&&t(O),O.defaultPrevented||rt(O)}let k=mt.createElement("a",{...T,...Y,href:R||M,onClick:x||u?t:z,ref:lw(v,Q),target:m,"data-discover":!S&&n==="render"?"true":void 0});return L&&!S?mt.createElement(mt.Fragment,null,k,mt.createElement(aw,{page:M})):k});Hs.displayName="Link";var cw=mt.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},y){let E=Vl(h,{relative:g.relative}),T=Ba(),v=mt.useContext(Fc),{navigator:C,basename:S}=mt.useContext(Mr),R=v!=null&&yw(E)&&d===!0,x=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,M=T.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(M=M.toLowerCase(),L=L?L.toLowerCase():null,x=x.toLowerCase()),L&&S&&(L=li(L,S)||L);const Q=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let Y=M===x||!o&&M.startsWith(x)&&M.charAt(Q)==="/",rt=L!=null&&(L===x||!o&&L.startsWith(x)&&L.charAt(x.length)==="/"),z={isActive:Y,isPending:rt,isTransitioning:R},k=Y?t:void 0,O;typeof a=="function"?O=a(z):O=[a,Y?"active":null,rt?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(z):u;return mt.createElement(Hs,{...g,"aria-current":k,className:O,ref:y,style:P,to:h,viewTransition:d},typeof m=="function"?m(z):m)});cw.displayName="NavLink";var hw=mt.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:h=vc,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,...T},v)=>{let C=gw(),S=_w(d,{relative:g}),R=h.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&Xv.test(d),M=L=>{if(m&&m(L),L.defaultPrevented)return;L.preventDefault();let Q=L.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||h;C(Q||L.currentTarget,{fetcherKey:t,method:Y,navigate:n,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:E})};return mt.createElement("form",{ref:v,method:R,action:S,onSubmit:a?m:M,...T,"data-discover":!x&&i==="render"?"true":void 0})});hw.displayName="Form";function fw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(i){let t=mt.useContext(Js);return Re(t,fw(i)),t}function dw(i,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=wT(),m=Ba(),g=Vl(i,{relative:u});return mt.useCallback(y=>{if(FT(y,t)){y.preventDefault();let E=n!==void 0?n:bl(m)===bl(g);d(i,{replace:E,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,g,n,a,t,i,o,u,h])}var mw=0,pw=()=>`__${String(++mw)}__`;function gw(){let{router:i}=Zv("useSubmit"),{basename:t}=mt.useContext(Mr),n=VT();return mt.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:m,body:g}=YT(a,t);if(o.navigate===!1){let y=o.fetcherKey||pw();await i.fetch(y,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function _w(i,{relative:t}={}){let{basename:n}=mt.useContext(Mr),a=mt.useContext(fi);Re(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Vl(i||".",{relative:t})},h=Ba();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ai([n,u.pathname])),bl(u)}function yw(i,t={}){let n=mt.useContext(jv);Re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Zv("useViewTransitionState"),o=Vl(i,{relative:t.relative});if(!n.isTransitioning)return!1;let u=li(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=li(n.nextLocation.pathname,a)||n.nextLocation.pathname;return xc(o.pathname,h)!=null||xc(o.pathname,u)!=null}new TextEncoder;[...ew];function vw(){return Ot.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-300 via-white to-blue-200 flex flex-col items-center justify-center text-center p-6",children:[Ot.jsx("h1",{className:"text-4xl font-bold mb-4",children:"💍 Welcome to Our Wedding!"}),Ot.jsx("p",{className:"mb-6",children:"Click below to upload your memories or view the gallery"}),Ot.jsxs("div",{className:"flex gap-4",children:[Ot.jsx(Hs,{to:"/upload",className:"bg-pink-500 text-white px-6 py-3 rounded-full hover:bg-pink-600",children:"Upload"}),Ot.jsx(Hs,{to:"/gallery",className:"bg-blue-500 text-white px-6 py-3 rounded-full hover:bg-blue-600",children:"View Gallery"})]})]})}const Ew=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(i){const t=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},bw=function(i){const t=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],d=i[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],h=i[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,y=u>>2,E=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,v=g&63;m||(v=64,h||(T=64)),a.push(n[y],n[E],n[T],n[v])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray($v(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):bw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new Tw;const T=u<<2|d>>4;if(a.push(T),g!==64){const v=d<<4&240|g>>2;if(a.push(v),E!==64){const C=g<<6&192|E;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ww=function(i){const t=$v(i);return Wv.encodeByteArray(t,!0)},Dc=function(i){return ww(i).replace(/\./g,"")},Aw=function(i){try{return Wv.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=()=>Sw().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof _y>"u")return;const i=_y.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Aw(i[1]);return t&&JSON.parse(t)},nm=()=>{try{return Ew()||Rw()||Cw()||xw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Dw=i=>{var t,n;return(n=(t=nm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},Jv=i=>{const t=Dw(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},t0=()=>{var i;return(i=nm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nw(){var i;const t=(i=nm())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kw(){return!Nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vw(){try{return typeof indexedDB=="object"}catch{return!1}}function Mw(){return new Promise((i,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="FirebaseError";class ja extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=Uw,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n0.prototype.create)}}class n0{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?zw(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ja(o,d,a)}}function zw(i,t){return i.replace(Lw,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Lw=/\{\$([^}]+)}/g;function Ic(i,t){if(i===t)return!0;const n=Object.keys(i),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=i[o],h=t[o];if(yy(u)&&yy(h)){if(!Ic(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function yy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(i){return i&&i._delegate?i._delegate:i}class Fs{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new Iw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jw(t))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Va){return this.instances.has(t)}getOptions(t=Va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Bw(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Va){return this.component?this.component.multipleInstances?t:Va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bw(i){return i===Va?void 0:i}function jw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Pw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ie||(ie={}));const Hw={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Fw=ie.INFO,Gw={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Qw=(i,t,...n)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),o=Gw[t];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class r0{constructor(t){this.name=t,this._logLevel=Fw,this._logHandler=Qw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Hw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const Yw=(i,t)=>t.some(n=>i instanceof n);let vy,Ey;function Kw(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xw(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i0=new WeakMap,Rd=new WeakMap,a0=new WeakMap,fd=new WeakMap,rm=new WeakMap;function Zw(i){const t=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Fi(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&i0.set(n,i)}).catch(()=>{}),rm.set(t,i),t}function $w(i){if(Rd.has(i))return;const t=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Rd.set(i,t)}let Cd={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Rd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||a0.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ww(i){Cd=i(Cd)}function Jw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=i.call(dd(this),t,...n);return a0.set(a,t.sort?t.sort():[t]),Fi(a)}:Xw().includes(i)?function(...t){return i.apply(dd(this),t),Fi(i0.get(this))}:function(...t){return Fi(i.apply(dd(this),t))}}function tA(i){return typeof i=="function"?Jw(i):(i instanceof IDBTransaction&&$w(i),Yw(i,Kw())?new Proxy(i,Cd):i)}function Fi(i){if(i instanceof IDBRequest)return Zw(i);if(fd.has(i))return fd.get(i);const t=tA(i);return t!==i&&(fd.set(i,t),rm.set(t,i)),t}const dd=i=>rm.get(i);function eA(i,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),d=Fi(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Fi(h.result),m.oldVersion,m.newVersion,Fi(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const nA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],md=new Map;function by(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(md.get(t))return md.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=rA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||nA.includes(n)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return md.set(t,u),u}Ww(i=>({...i,get:(t,n,a)=>by(t,n)||i.get(t,n,a),has:(t,n)=>!!by(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function aA(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xd="@firebase/app",Ty="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new r0("@firebase/app"),sA="@firebase/app-compat",oA="@firebase/analytics-compat",lA="@firebase/analytics",uA="@firebase/app-check-compat",cA="@firebase/app-check",hA="@firebase/auth",fA="@firebase/auth-compat",dA="@firebase/database",mA="@firebase/data-connect",pA="@firebase/database-compat",gA="@firebase/functions",_A="@firebase/functions-compat",yA="@firebase/installations",vA="@firebase/installations-compat",EA="@firebase/messaging",bA="@firebase/messaging-compat",TA="@firebase/performance",wA="@firebase/performance-compat",AA="@firebase/remote-config",SA="@firebase/remote-config-compat",RA="@firebase/storage",CA="@firebase/storage-compat",xA="@firebase/firestore",DA="@firebase/vertexai",IA="@firebase/firestore-compat",OA="firebase",NA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",kA={[xd]:"fire-core",[sA]:"fire-core-compat",[lA]:"fire-analytics",[oA]:"fire-analytics-compat",[cA]:"fire-app-check",[uA]:"fire-app-check-compat",[hA]:"fire-auth",[fA]:"fire-auth-compat",[dA]:"fire-rtdb",[mA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[gA]:"fire-fn",[_A]:"fire-fn-compat",[yA]:"fire-iid",[vA]:"fire-iid-compat",[EA]:"fire-fcm",[bA]:"fire-fcm-compat",[TA]:"fire-perf",[wA]:"fire-perf-compat",[AA]:"fire-rc",[SA]:"fire-rc-compat",[RA]:"fire-gcs",[CA]:"fire-gcs-compat",[xA]:"fire-fst",[IA]:"fire-fst-compat",[DA]:"fire-vertex","fire-js":"fire-js",[OA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,VA=new Map,Id=new Map;function wy(i,t){try{i.container.addComponent(t)}catch(n){ui.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Tl(i){const t=i.name;if(Id.has(t))return ui.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,i);for(const n of Oc.values())wy(n,i);for(const n of VA.values())wy(n,i);return!0}function s0(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function o0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new n0("app","Firebase",MA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=NA;function u0(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Dd,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=t0()),!n)throw Gi.create("no-options");const u=Oc.get(o);if(u){if(Ic(n,u.options)&&Ic(a,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const h=new qw(o);for(const m of Id.values())h.addComponent(m);const d=new UA(n,a,h);return Oc.set(o,d),d}function c0(i=Dd){const t=Oc.get(i);if(!t&&i===Dd&&t0())return u0();if(!t)throw Gi.create("no-app",{appName:i});return t}function Qi(i,t,n){var a;let o=(a=kA[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ui.warn(d.join(" "));return}Tl(new Fs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",LA=1,wl="firebase-heartbeat-store";let pd=null;function h0(){return pd||(pd=eA(zA,LA,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gi.create("idb-open",{originalErrorMessage:i.message})})),pd}async function PA(i){try{const n=(await h0()).transaction(wl),a=await n.objectStore(wl).get(f0(i));return await n.done,a}catch(t){if(t instanceof ja)ui.warn(t.message);else{const n=Gi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ui.warn(n.message)}}}async function Ay(i,t){try{const a=(await h0()).transaction(wl,"readwrite");await a.objectStore(wl).put(t,f0(i)),await a.done}catch(n){if(n instanceof ja)ui.warn(n.message);else{const a=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(a.message)}}}function f0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,jA=30;class qA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Sy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jA){const h=GA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ui.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sy(),{heartbeatsToSend:a,unsentEntries:o}=HA(this._heartbeatsCache.heartbeats),u=Dc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ui.warn(n),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function HA(i,t=BA){const n=[];let a=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Ry(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ry(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class FA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vw()?Mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ry(i){return Dc(JSON.stringify({version:2,heartbeats:i})).length}function GA(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(i){Tl(new Fs("platform-logger",t=>new iA(t),"PRIVATE")),Tl(new Fs("heartbeat",t=>new qA(t),"PRIVATE")),Qi(xd,Ty,i),Qi(xd,Ty,"esm2017"),Qi("fire-js","")}QA("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firebasestorage.googleapis.com",m0="storageBucket",YA=2*60*1e3,KA=10*60*1e3,XA=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends ja{constructor(t,n,a=0){super(gd(t),`Firebase Storage: ${n} (${gd(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return gd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function gd(i){return"storage/"+i}function im(){const i="An unknown error occurred, please check the error payload for server response.";return new xe(Te.UNKNOWN,i)}function ZA(i){return new xe(Te.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function $A(i){return new xe(Te.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WA(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Te.UNAUTHENTICATED,i)}function JA(){return new xe(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function t2(i){return new xe(Te.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function p0(){return new xe(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g0(){return new xe(Te.CANCELED,"User canceled the upload/download.")}function e2(i){return new xe(Te.INVALID_URL,"Invalid URL '"+i+"'.")}function n2(i){return new xe(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function r2(){return new xe(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m0+"' property when initializing the app?")}function _0(){return new xe(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function i2(){return new xe(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function a2(){return new xe(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s2(i){return new xe(Te.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Od(i){return new xe(Te.INVALID_ARGUMENT,i)}function y0(){return new xe(Te.APP_DELETED,"The Firebase app was deleted.")}function o2(i){return new xe(Te.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gl(i,t){return new xe(Te.INVALID_FORMAT,"String does not match format '"+i+"': "+t)}function fl(i){throw new xe(Te.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let a;try{a=Pn.makeFromUrl(t,n)}catch{return new Pn(t,"")}if(a.path==="")return a;throw n2(t)}static makeFromUrl(t,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function g(Q){Q.path_=decodeURIComponent(Q.path)}const y="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",v=new RegExp(`^https?://${E}/${y}/b/${o}/o${T}`,"i"),C={bucket:1,path:3},S=n===d0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",x=new RegExp(`^https?://${S}/${o}/${R}`,"i"),L=[{regex:d,indices:m,postModify:u},{regex:v,indices:C,postModify:g},{regex:x,indices:{bucket:1,path:2},postModify:g}];for(let Q=0;Q<L.length;Q++){const Y=L[Q],rt=Y.regex.exec(t);if(rt){const z=rt[Y.indices.bucket];let k=rt[Y.indices.path];k||(k=""),a=new Pn(z,k),Y.postModify(a);break}}if(a==null)throw e2(t);return a}}class l2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(i,t,n){let a=1,o=null,u=null,h=!1,d=0;function m(){return d===2}let g=!1;function y(...R){g||(g=!0,t.apply(null,R))}function E(R){o=setTimeout(()=>{o=null,i(v,m())},R)}function T(){u&&clearTimeout(u)}function v(R,...x){if(g){T();return}if(R){T(),y.call(null,R,...x);return}if(m()||h){T(),y.call(null,R,...x);return}a<64&&(a*=2);let L;d===1?(d=2,L=0):L=(a+Math.random())*1e3,E(L)}let C=!1;function S(R){C||(C=!0,T(),!g&&(o!==null?(R||(d=2),clearTimeout(o),E(0)):R||(d=1)))}return E(0),u=setTimeout(()=>{h=!0,S(!0)},n),S}function c2(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(i){return i!==void 0}function f2(i){return typeof i=="function"}function d2(i){return typeof i=="object"&&!Array.isArray(i)}function Qc(i){return typeof i=="string"||i instanceof String}function Cy(i){return am()&&i instanceof Blob}function am(){return typeof Blob<"u"}function xy(i,t,n,a){if(a<t)throw Od(`Invalid value for '${i}'. Expected ${t} or greater.`);if(a>n)throw Od(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(i,t,n){let a=t;return n==null&&(a=`https://${t}`),`${n}://${a}/v0${i}`}function v0(i){const t=encodeURIComponent;let n="?";for(const a in i)if(i.hasOwnProperty(a)){const o=t(a)+"="+t(i[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ua;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i,t){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=t.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t,n,a,o,u,h,d,m,g,y,E,T=!0){this.url_=t,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=E,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,C)=>{this.resolve_=v,this.reject_=C,this.start_()})}start_(){const t=(a,o)=>{if(o){a(!1,new uc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===Ua.NO_ERROR,m=u.getStatus();if(!d||E0(m,this.additionalRetryCodes_)&&this.retry){const y=u.getErrorCode()===Ua.ABORT;a(!1,new uc(!1,null,y));return}const g=this.successCodes_.indexOf(m)!==-1;a(!0,new uc(g,u))})},n=(a,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());h2(m)?u(m):u()}catch(m){h(m)}else if(d!==null){const m=im();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?y0():g0();h(m)}else{const m=p0();h(m)}};this.canceled_?n(!1,new uc(!1,null,!0)):this.backoffId_=u2(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&c2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uc{constructor(t,n,a){this.wasSuccessCode=t,this.connection=n,this.canceled=!!a}}function p2(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function g2(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _2(i,t){t&&(i["X-Firebase-GMPID"]=t)}function y2(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function v2(i,t,n,a,o,u,h=!0){const d=v0(i.urlParams),m=i.url+d,g=Object.assign({},i.headers);return _2(g,t),p2(g,n),g2(g,u),y2(g,a),new m2(m,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function b2(...i){const t=E2();if(t!==void 0){const n=new t;for(let a=0;a<i.length;a++)n.append(i[a]);return n.getBlob()}else{if(am())return new Blob(i);throw new xe(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T2(i,t,n){return i.webkitSlice?i.webkitSlice(t,n):i.mozSlice?i.mozSlice(t,n):i.slice?i.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i){if(typeof atob>"u")throw s2("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _d{constructor(t,n){this.data=t,this.contentType=n||null}}function A2(i,t){switch(i){case Dr.RAW:return new _d(b0(t));case Dr.BASE64:case Dr.BASE64URL:return new _d(T0(i,t));case Dr.DATA_URL:return new _d(R2(t),C2(t))}throw im()}function b0(i){const t=[];for(let n=0;n<i.length;n++){let a=i.charCodeAt(n);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=a,h=i.charCodeAt(++n);a=65536|(u&1023)<<10|h&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function S2(i){let t;try{t=decodeURIComponent(i)}catch{throw gl(Dr.DATA_URL,"Malformed data URL.")}return b0(t)}function T0(i,t){switch(i){case Dr.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw gl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw gl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=w2(t)}catch(o){throw o.message.includes("polyfill")?o:gl(i,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class w0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw gl(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=x2(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function R2(i){const t=new w0(i);return t.base64?T0(Dr.BASE64,t.rest):S2(t.rest)}function C2(i){return new w0(i).contentType}function x2(i,t){return i.length>=t.length?i.substring(i.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,n){let a=0,o="";Cy(t)?(this.data_=t,a=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(Cy(this.data_)){const a=this.data_,o=T2(a,t,n);return o===null?null:new ji(o)}else{const a=new Uint8Array(this.data_.buffer,t,n-t);return new ji(a,!0)}}static getBlob(...t){if(am()){const n=t.map(a=>a instanceof ji?a.data_:a);return new ji(b2.apply(null,n))}else{const n=t.map(h=>Qc(h)?A2(Dr.RAW,h).data:h.data_);let a=0;n.forEach(h=>{a+=h.byteLength});const o=new Uint8Array(a);let u=0;return n.forEach(h=>{for(let d=0;d<h.length;d++)o[u++]=h[d]}),new ji(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){let t;try{t=JSON.parse(i)}catch{return null}return d2(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function I2(i,t){const n=t.split("/").filter(a=>a.length>0).join("/");return i.length===0?n:i+"/"+n}function S0(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(i,t){return t}class wn{constructor(t,n,a,o){this.server=t,this.local=n||t,this.writable=!!a,this.xform=o||O2}}let cc=null;function N2(i){return!Qc(i)||i.length<2?i:S0(i)}function R0(){if(cc)return cc;const i=[];i.push(new wn("bucket")),i.push(new wn("generation")),i.push(new wn("metageneration")),i.push(new wn("name","fullPath",!0));function t(u,h){return N2(h)}const n=new wn("name");n.xform=t,i.push(n);function a(u,h){return h!==void 0?Number(h):h}const o=new wn("size");return o.xform=a,i.push(o),i.push(new wn("timeCreated")),i.push(new wn("updated")),i.push(new wn("md5Hash",null,!0)),i.push(new wn("cacheControl",null,!0)),i.push(new wn("contentDisposition",null,!0)),i.push(new wn("contentEncoding",null,!0)),i.push(new wn("contentLanguage",null,!0)),i.push(new wn("contentType",null,!0)),i.push(new wn("metadata","customMetadata",!0)),cc=i,cc}function k2(i,t){function n(){const a=i.bucket,o=i.fullPath,u=new Pn(a,o);return t._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function V2(i,t,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];a[h.local]=h.xform(a,t[h.server])}return k2(a,i),a}function C0(i,t,n){const a=A0(t);return a===null?null:V2(i,a,n)}function M2(i,t,n,a){const o=A0(t);if(o===null||!Qc(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const y=i.bucket,E=i.fullPath,T="/b/"+h(y)+"/o/"+h(E),v=Ml(T,n,a),C=v0({alt:"media",token:g});return v+C})[0]}function x0(i,t){const n={},a=t.length;for(let o=0;o<a;o++){const u=t[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class to{constructor(t,n,a,o){this.url=t,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(i){if(!i)throw im()}function sm(i,t){function n(a,o){const u=C0(i,o,t);return si(u!==null),u}return n}function U2(i,t){function n(a,o){const u=C0(i,o,t);return si(u!==null),M2(u,o,i.host,i._protocol)}return n}function Ul(i){function t(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=JA():o=WA():n.getStatus()===402?o=$A(i.bucket):n.getStatus()===403?o=t2(i.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return t}function D0(i){const t=Ul(i);function n(a,o){let u=t(a,o);return a.getStatus()===404&&(u=ZA(i.path)),u.serverResponse=o.serverResponse,u}return n}function z2(i,t,n){const a=t.fullServerUrl(),o=Ml(a,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,d=new to(o,u,sm(i,n),h);return d.errorHandler=D0(t),d}function L2(i,t,n){const a=t.fullServerUrl(),o=Ml(a,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,d=new to(o,u,U2(i,n),h);return d.errorHandler=D0(t),d}function P2(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}function I0(i,t,n){const a=Object.assign({},n);return a.fullPath=i.path,a.size=t.size(),a.contentType||(a.contentType=P2(null,t)),a}function B2(i,t,n,a,o){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let L="";for(let Q=0;Q<2;Q++)L=L+Math.random().toString().slice(2);return L}const m=d();h["Content-Type"]="multipart/related; boundary="+m;const g=I0(t,a,o),y=x0(g,n),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+m+"--",v=ji.getBlob(E,a,T);if(v===null)throw _0();const C={name:g.fullPath},S=Ml(u,i.host,i._protocol),R="POST",x=i.maxUploadRetryTime,M=new to(S,R,sm(i,n),x);return M.urlParams=C,M.headers=h,M.body=v.uploadData(),M.errorHandler=Ul(t),M}class Nc{constructor(t,n,a,o){this.current=t,this.total=n,this.finalized=!!a,this.metadata=o||null}}function om(i,t){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{si(!1)}return si(!!n&&(t||["active"]).indexOf(n)!==-1),n}function j2(i,t,n,a,o){const u=t.bucketOnlyServerUrl(),h=I0(t,a,o),d={name:h.fullPath},m=Ml(u,i.host,i._protocol),g="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},E=x0(h,n),T=i.maxUploadRetryTime;function v(S){om(S);let R;try{R=S.getResponseHeader("X-Goog-Upload-URL")}catch{si(!1)}return si(Qc(R)),R}const C=new to(m,g,v,T);return C.urlParams=d,C.headers=y,C.body=E,C.errorHandler=Ul(t),C}function q2(i,t,n,a){const o={"X-Goog-Upload-Command":"query"};function u(g){const y=om(g,["active","final"]);let E=null;try{E=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{si(!1)}E||si(!1);const T=Number(E);return si(!isNaN(T)),new Nc(T,a.size(),y==="final")}const h="POST",d=i.maxUploadRetryTime,m=new to(n,h,u,d);return m.headers=o,m.errorHandler=Ul(t),m}const Dy=256*1024;function H2(i,t,n,a,o,u,h,d){const m=new Nc(0,0);if(h?(m.current=h.current,m.total=h.total):(m.current=0,m.total=a.size()),a.size()!==m.total)throw i2();const g=m.total-m.current;let y=g;o>0&&(y=Math.min(y,o));const E=m.current,T=E+y;let v="";y===0?v="finalize":g===y?v="upload, finalize":v="upload";const C={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${m.current}`},S=a.slice(E,T);if(S===null)throw _0();function R(Q,Y){const rt=om(Q,["active","final"]),z=m.current+y,k=a.size();let O;return rt==="final"?O=sm(t,u)(Q,Y):O=null,new Nc(z,k,rt==="final",O)}const x="POST",M=t.maxUploadRetryTime,L=new to(n,x,R,M);return L.headers=C,L.body=S.uploadData(),L.progressCallback=d||null,L.errorHandler=Ul(i),L}const xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yd(i){switch(i){case"running":case"pausing":case"canceling":return xn.RUNNING;case"paused":return xn.PAUSED;case"success":return xn.SUCCESS;case"canceled":return xn.CANCELED;case"error":return xn.ERROR;default:return xn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n,a){if(f2(t)||n!=null||a!=null)this.next=t,this.error=n??void 0,this.complete=a??void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(i){return(...t)=>{Promise.resolve().then(()=>i(...t))}}class G2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ua.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ua.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ua.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,a,o){if(this.sent_)throw fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Q2 extends G2{initXhr(){this.xhr_.responseType="text"}}function zs(){return new Q2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,n,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=a,this._mappings=R0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(E0(o.status,[]))if(u)o=p0();else{this.sleepTime=Math.max(this.sleepTime*2,XA),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,a])=>{switch(this._state){case"running":t(n,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{const a=j2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(a,zs,t,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,a)=>{const o=q2(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(o,zs,n,a);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=Dy*this._chunkMultiplier,n=new Nc(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=H2(this._ref._location,this._ref.storage,a,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const d=this._ref.storage._makeRequest(h,zs,o,u,!1);this._request=d,d.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Dy*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const a=z2(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(a,zs,t,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const a=B2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(a,zs,t,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=g0(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=yd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,a,o){const u=new F2(n||void 0,a||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(yd(this._state)){case xn.SUCCESS:Us(this._resolve.bind(null,this.snapshot))();break;case xn.CANCELED:case xn.ERROR:const n=this._reject;Us(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(yd(this._state)){case xn.RUNNING:case xn.PAUSED:t.next&&Us(t.next.bind(t,this.snapshot))();break;case xn.SUCCESS:t.complete&&Us(t.complete.bind(t))();break;case xn.CANCELED:case xn.ERROR:t.error&&Us(t.error.bind(t,this._error))();break;default:t.error&&Us(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n){this._service=t,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new za(t,n)}get root(){const t=new Pn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S0(this._location.path)}get storage(){return this._service}get parent(){const t=D2(this._location.path);if(t===null)return null;const n=new Pn(this._location.bucket,t);return new za(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw o2(t)}}function K2(i,t,n){return i._throwIfRoot("uploadBytesResumable"),new Y2(i,new ji(t),n)}function X2(i){i._throwIfRoot("getDownloadURL");const t=L2(i.storage,i._location,R0());return i.storage.makeRequestWithTokens(t,zs).then(n=>{if(n===null)throw a2();return n})}function Z2(i,t){const n=I2(i._location.path,t),a=new Pn(i._location.bucket,n);return new za(i.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(i){return/^[A-Za-z]+:\/\//.test(i)}function W2(i,t){return new za(i,t)}function O0(i,t){if(i instanceof lm){const n=i;if(n._bucket==null)throw r2();const a=new za(n,n._bucket);return t!=null?O0(a,t):a}else return t!==void 0?Z2(i,t):i}function J2(i,t){if(t&&$2(t)){if(i instanceof lm)return W2(i,t);throw Od("To use ref(service, url), the first argument must be a Storage instance.")}else return O0(i,t)}function Iy(i,t){const n=t==null?void 0:t[m0];return n==null?null:Pn.makeFromBucketSpec(n,i)}function tS(i,t,n,a={}){i.host=`${t}:${n}`,i._protocol="http";const{mockUserToken:o}=a;o&&(i._overrideAuthToken=typeof o=="string"?o:e0(o,i.app.options.projectId))}class lm{constructor(t,n,a,o,u){this.app=t,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=d0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YA,this._maxUploadRetryTime=KA,this._requests=new Set,o!=null?this._bucket=Pn.makeFromBucketSpec(o,this._host):this._bucket=Iy(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,t):this._bucket=Iy(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){xy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){xy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(o0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new za(this,t)}_makeRequest(t,n,a,o,u=!0){if(this._deleted)return new l2(y0());{const h=v2(t,this._appId,a,o,n,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(t,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,a,o).getPromise()}}const Oy="@firebase/storage",Ny="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="storage";function eS(i,t,n){return i=kr(i),K2(i,t,n)}function nS(i){return i=kr(i),X2(i)}function rS(i,t){return i=kr(i),J2(i,t)}function iS(i=c0(),t){i=kr(i);const a=s0(i,N0).getImmediate({identifier:t}),o=Jv("storage");return o&&aS(a,...o),a}function aS(i,t,n,a={}){tS(i,t,n,a)}function sS(i,{instanceIdentifier:t}){const n=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new lm(n,a,o,t,l0)}function oS(){Tl(new Fs(N0,sS,"PUBLIC").setMultipleInstances(!0)),Qi(Oy,Ny,""),Qi(Oy,Ny,"esm2017")}oS();var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,k0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,k){function O(){}O.prototype=k.prototype,z.D=k.prototype,z.prototype=new O,z.prototype.constructor=z,z.C=function(P,F,I){for(var V=Array(arguments.length-2),D=2;D<arguments.length;D++)V[D-2]=arguments[D];return k.prototype[F].apply(P,V)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,k,O){O||(O=0);var P=Array(16);if(typeof k=="string")for(var F=0;16>F;++F)P[F]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(F=0;16>F;++F)P[F]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=z.g[0],O=z.g[1],F=z.g[2];var I=z.g[3],V=k+(I^O&(F^I))+P[0]+3614090360&4294967295;k=O+(V<<7&4294967295|V>>>25),V=I+(F^k&(O^F))+P[1]+3905402710&4294967295,I=k+(V<<12&4294967295|V>>>20),V=F+(O^I&(k^O))+P[2]+606105819&4294967295,F=I+(V<<17&4294967295|V>>>15),V=O+(k^F&(I^k))+P[3]+3250441966&4294967295,O=F+(V<<22&4294967295|V>>>10),V=k+(I^O&(F^I))+P[4]+4118548399&4294967295,k=O+(V<<7&4294967295|V>>>25),V=I+(F^k&(O^F))+P[5]+1200080426&4294967295,I=k+(V<<12&4294967295|V>>>20),V=F+(O^I&(k^O))+P[6]+2821735955&4294967295,F=I+(V<<17&4294967295|V>>>15),V=O+(k^F&(I^k))+P[7]+4249261313&4294967295,O=F+(V<<22&4294967295|V>>>10),V=k+(I^O&(F^I))+P[8]+1770035416&4294967295,k=O+(V<<7&4294967295|V>>>25),V=I+(F^k&(O^F))+P[9]+2336552879&4294967295,I=k+(V<<12&4294967295|V>>>20),V=F+(O^I&(k^O))+P[10]+4294925233&4294967295,F=I+(V<<17&4294967295|V>>>15),V=O+(k^F&(I^k))+P[11]+2304563134&4294967295,O=F+(V<<22&4294967295|V>>>10),V=k+(I^O&(F^I))+P[12]+1804603682&4294967295,k=O+(V<<7&4294967295|V>>>25),V=I+(F^k&(O^F))+P[13]+4254626195&4294967295,I=k+(V<<12&4294967295|V>>>20),V=F+(O^I&(k^O))+P[14]+2792965006&4294967295,F=I+(V<<17&4294967295|V>>>15),V=O+(k^F&(I^k))+P[15]+1236535329&4294967295,O=F+(V<<22&4294967295|V>>>10),V=k+(F^I&(O^F))+P[1]+4129170786&4294967295,k=O+(V<<5&4294967295|V>>>27),V=I+(O^F&(k^O))+P[6]+3225465664&4294967295,I=k+(V<<9&4294967295|V>>>23),V=F+(k^O&(I^k))+P[11]+643717713&4294967295,F=I+(V<<14&4294967295|V>>>18),V=O+(I^k&(F^I))+P[0]+3921069994&4294967295,O=F+(V<<20&4294967295|V>>>12),V=k+(F^I&(O^F))+P[5]+3593408605&4294967295,k=O+(V<<5&4294967295|V>>>27),V=I+(O^F&(k^O))+P[10]+38016083&4294967295,I=k+(V<<9&4294967295|V>>>23),V=F+(k^O&(I^k))+P[15]+3634488961&4294967295,F=I+(V<<14&4294967295|V>>>18),V=O+(I^k&(F^I))+P[4]+3889429448&4294967295,O=F+(V<<20&4294967295|V>>>12),V=k+(F^I&(O^F))+P[9]+568446438&4294967295,k=O+(V<<5&4294967295|V>>>27),V=I+(O^F&(k^O))+P[14]+3275163606&4294967295,I=k+(V<<9&4294967295|V>>>23),V=F+(k^O&(I^k))+P[3]+4107603335&4294967295,F=I+(V<<14&4294967295|V>>>18),V=O+(I^k&(F^I))+P[8]+1163531501&4294967295,O=F+(V<<20&4294967295|V>>>12),V=k+(F^I&(O^F))+P[13]+2850285829&4294967295,k=O+(V<<5&4294967295|V>>>27),V=I+(O^F&(k^O))+P[2]+4243563512&4294967295,I=k+(V<<9&4294967295|V>>>23),V=F+(k^O&(I^k))+P[7]+1735328473&4294967295,F=I+(V<<14&4294967295|V>>>18),V=O+(I^k&(F^I))+P[12]+2368359562&4294967295,O=F+(V<<20&4294967295|V>>>12),V=k+(O^F^I)+P[5]+4294588738&4294967295,k=O+(V<<4&4294967295|V>>>28),V=I+(k^O^F)+P[8]+2272392833&4294967295,I=k+(V<<11&4294967295|V>>>21),V=F+(I^k^O)+P[11]+1839030562&4294967295,F=I+(V<<16&4294967295|V>>>16),V=O+(F^I^k)+P[14]+4259657740&4294967295,O=F+(V<<23&4294967295|V>>>9),V=k+(O^F^I)+P[1]+2763975236&4294967295,k=O+(V<<4&4294967295|V>>>28),V=I+(k^O^F)+P[4]+1272893353&4294967295,I=k+(V<<11&4294967295|V>>>21),V=F+(I^k^O)+P[7]+4139469664&4294967295,F=I+(V<<16&4294967295|V>>>16),V=O+(F^I^k)+P[10]+3200236656&4294967295,O=F+(V<<23&4294967295|V>>>9),V=k+(O^F^I)+P[13]+681279174&4294967295,k=O+(V<<4&4294967295|V>>>28),V=I+(k^O^F)+P[0]+3936430074&4294967295,I=k+(V<<11&4294967295|V>>>21),V=F+(I^k^O)+P[3]+3572445317&4294967295,F=I+(V<<16&4294967295|V>>>16),V=O+(F^I^k)+P[6]+76029189&4294967295,O=F+(V<<23&4294967295|V>>>9),V=k+(O^F^I)+P[9]+3654602809&4294967295,k=O+(V<<4&4294967295|V>>>28),V=I+(k^O^F)+P[12]+3873151461&4294967295,I=k+(V<<11&4294967295|V>>>21),V=F+(I^k^O)+P[15]+530742520&4294967295,F=I+(V<<16&4294967295|V>>>16),V=O+(F^I^k)+P[2]+3299628645&4294967295,O=F+(V<<23&4294967295|V>>>9),V=k+(F^(O|~I))+P[0]+4096336452&4294967295,k=O+(V<<6&4294967295|V>>>26),V=I+(O^(k|~F))+P[7]+1126891415&4294967295,I=k+(V<<10&4294967295|V>>>22),V=F+(k^(I|~O))+P[14]+2878612391&4294967295,F=I+(V<<15&4294967295|V>>>17),V=O+(I^(F|~k))+P[5]+4237533241&4294967295,O=F+(V<<21&4294967295|V>>>11),V=k+(F^(O|~I))+P[12]+1700485571&4294967295,k=O+(V<<6&4294967295|V>>>26),V=I+(O^(k|~F))+P[3]+2399980690&4294967295,I=k+(V<<10&4294967295|V>>>22),V=F+(k^(I|~O))+P[10]+4293915773&4294967295,F=I+(V<<15&4294967295|V>>>17),V=O+(I^(F|~k))+P[1]+2240044497&4294967295,O=F+(V<<21&4294967295|V>>>11),V=k+(F^(O|~I))+P[8]+1873313359&4294967295,k=O+(V<<6&4294967295|V>>>26),V=I+(O^(k|~F))+P[15]+4264355552&4294967295,I=k+(V<<10&4294967295|V>>>22),V=F+(k^(I|~O))+P[6]+2734768916&4294967295,F=I+(V<<15&4294967295|V>>>17),V=O+(I^(F|~k))+P[13]+1309151649&4294967295,O=F+(V<<21&4294967295|V>>>11),V=k+(F^(O|~I))+P[4]+4149444226&4294967295,k=O+(V<<6&4294967295|V>>>26),V=I+(O^(k|~F))+P[11]+3174756917&4294967295,I=k+(V<<10&4294967295|V>>>22),V=F+(k^(I|~O))+P[2]+718787259&4294967295,F=I+(V<<15&4294967295|V>>>17),V=O+(I^(F|~k))+P[9]+3951481745&4294967295,z.g[0]=z.g[0]+k&4294967295,z.g[1]=z.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,z.g[2]=z.g[2]+F&4294967295,z.g[3]=z.g[3]+I&4294967295}a.prototype.u=function(z,k){k===void 0&&(k=z.length);for(var O=k-this.blockSize,P=this.B,F=this.h,I=0;I<k;){if(F==0)for(;I<=O;)o(this,z,I),I+=this.blockSize;if(typeof z=="string"){for(;I<k;)if(P[F++]=z.charCodeAt(I++),F==this.blockSize){o(this,P),F=0;break}}else for(;I<k;)if(P[F++]=z[I++],F==this.blockSize){o(this,P),F=0;break}}this.h=F,this.o+=k},a.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var k=1;k<z.length-8;++k)z[k]=0;var O=8*this.o;for(k=z.length-8;k<z.length;++k)z[k]=O&255,O/=256;for(this.u(z),z=Array(16),k=O=0;4>k;++k)for(var P=0;32>P;P+=8)z[O++]=this.g[k]>>>P&255;return z};function u(z,k){var O=d;return Object.prototype.hasOwnProperty.call(O,z)?O[z]:O[z]=k(z)}function h(z,k){this.h=k;for(var O=[],P=!0,F=z.length-1;0<=F;F--){var I=z[F]|0;P&&I==k||(O[F]=I,P=!1)}this.g=O}var d={};function m(z){return-128<=z&&128>z?u(z,function(k){return new h([k|0],0>k?-1:0)}):new h([z|0],0>z?-1:0)}function g(z){if(isNaN(z)||!isFinite(z))return E;if(0>z)return R(g(-z));for(var k=[],O=1,P=0;z>=O;P++)k[P]=z/O|0,O*=4294967296;return new h(k,0)}function y(z,k){if(z.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z.charAt(0)=="-")return R(y(z.substring(1),k));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(k,8)),P=E,F=0;F<z.length;F+=8){var I=Math.min(8,z.length-F),V=parseInt(z.substring(F,F+I),k);8>I?(I=g(Math.pow(k,I)),P=P.j(I).add(g(V))):(P=P.j(O),P=P.add(g(V)))}return P}var E=m(0),T=m(1),v=m(16777216);i=h.prototype,i.m=function(){if(S(this))return-R(this).m();for(var z=0,k=1,O=0;O<this.g.length;O++){var P=this.i(O);z+=(0<=P?P:4294967296+P)*k,k*=4294967296}return z},i.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(C(this))return"0";if(S(this))return"-"+R(this).toString(z);for(var k=g(Math.pow(z,6)),O=this,P="";;){var F=Q(O,k).g;O=x(O,F.j(k));var I=((0<O.g.length?O.g[0]:O.h)>>>0).toString(z);if(O=F,C(O))return I+P;for(;6>I.length;)I="0"+I;P=I+P}},i.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function C(z){if(z.h!=0)return!1;for(var k=0;k<z.g.length;k++)if(z.g[k]!=0)return!1;return!0}function S(z){return z.h==-1}i.l=function(z){return z=x(this,z),S(z)?-1:C(z)?0:1};function R(z){for(var k=z.g.length,O=[],P=0;P<k;P++)O[P]=~z.g[P];return new h(O,~z.h).add(T)}i.abs=function(){return S(this)?R(this):this},i.add=function(z){for(var k=Math.max(this.g.length,z.g.length),O=[],P=0,F=0;F<=k;F++){var I=P+(this.i(F)&65535)+(z.i(F)&65535),V=(I>>>16)+(this.i(F)>>>16)+(z.i(F)>>>16);P=V>>>16,I&=65535,V&=65535,O[F]=V<<16|I}return new h(O,O[O.length-1]&-2147483648?-1:0)};function x(z,k){return z.add(R(k))}i.j=function(z){if(C(this)||C(z))return E;if(S(this))return S(z)?R(this).j(R(z)):R(R(this).j(z));if(S(z))return R(this.j(R(z)));if(0>this.l(v)&&0>z.l(v))return g(this.m()*z.m());for(var k=this.g.length+z.g.length,O=[],P=0;P<2*k;P++)O[P]=0;for(P=0;P<this.g.length;P++)for(var F=0;F<z.g.length;F++){var I=this.i(P)>>>16,V=this.i(P)&65535,D=z.i(F)>>>16,ct=z.i(F)&65535;O[2*P+2*F]+=V*ct,M(O,2*P+2*F),O[2*P+2*F+1]+=I*ct,M(O,2*P+2*F+1),O[2*P+2*F+1]+=V*D,M(O,2*P+2*F+1),O[2*P+2*F+2]+=I*D,M(O,2*P+2*F+2)}for(P=0;P<k;P++)O[P]=O[2*P+1]<<16|O[2*P];for(P=k;P<2*k;P++)O[P]=0;return new h(O,0)};function M(z,k){for(;(z[k]&65535)!=z[k];)z[k+1]+=z[k]>>>16,z[k]&=65535,k++}function L(z,k){this.g=z,this.h=k}function Q(z,k){if(C(k))throw Error("division by zero");if(C(z))return new L(E,E);if(S(z))return k=Q(R(z),k),new L(R(k.g),R(k.h));if(S(k))return k=Q(z,R(k)),new L(R(k.g),k.h);if(30<z.g.length){if(S(z)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var O=T,P=k;0>=P.l(z);)O=Y(O),P=Y(P);var F=rt(O,1),I=rt(P,1);for(P=rt(P,2),O=rt(O,2);!C(P);){var V=I.add(P);0>=V.l(z)&&(F=F.add(O),I=V),P=rt(P,1),O=rt(O,1)}return k=x(z,F.j(k)),new L(F,k)}for(F=E;0<=z.l(k);){for(O=Math.max(1,Math.floor(z.m()/k.m())),P=Math.ceil(Math.log(O)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),I=g(O),V=I.j(k);S(V)||0<V.l(z);)O-=P,I=g(O),V=I.j(k);C(I)&&(I=T),F=F.add(I),z=x(z,V)}return new L(F,z)}i.A=function(z){return Q(this,z).h},i.and=function(z){for(var k=Math.max(this.g.length,z.g.length),O=[],P=0;P<k;P++)O[P]=this.i(P)&z.i(P);return new h(O,this.h&z.h)},i.or=function(z){for(var k=Math.max(this.g.length,z.g.length),O=[],P=0;P<k;P++)O[P]=this.i(P)|z.i(P);return new h(O,this.h|z.h)},i.xor=function(z){for(var k=Math.max(this.g.length,z.g.length),O=[],P=0;P<k;P++)O[P]=this.i(P)^z.i(P);return new h(O,this.h^z.h)};function Y(z){for(var k=z.g.length+1,O=[],P=0;P<k;P++)O[P]=z.i(P)<<1|z.i(P-1)>>>31;return new h(O,z.h)}function rt(z,k){var O=k>>5;k%=32;for(var P=z.g.length-O,F=[],I=0;I<P;I++)F[I]=0<k?z.i(I+O)>>>k|z.i(I+O+1)<<32-k:z.i(I+O);return new h(F,z.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=y,Yi=h}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,dl,M0,bc,Nd,U0,z0,L0;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,b){return c==Array.prototype||c==Object.prototype||(c[_]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var _=0;_<c.length;++_){var b=c[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function o(c,_){if(_)t:{var b=a;c=c.split(".");for(var U=0;U<c.length-1;U++){var J=c[U];if(!(J in b))break t;b=b[J]}c=c[c.length-1],U=b[c],_=_(U),_!=U&&_!=null&&t(b,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var b=0,U=!1,J={next:function(){if(!U&&b<c.length){var lt=b++;return{value:_(lt,c[lt]),done:!1}}return U=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function y(c,_,b){return c.call.apply(c.bind,arguments)}function E(c,_,b){if(!c)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,U),c.apply(_,J)}}return function(){return c.apply(_,arguments)}}function T(c,_,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,T.apply(null,arguments)}function v(c,_){var b=Array.prototype.slice.call(arguments,1);return function(){var U=b.slice();return U.push.apply(U,arguments),c.apply(this,U)}}function C(c,_){function b(){}b.prototype=_.prototype,c.aa=_.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(U,J,lt){for(var Rt=Array(arguments.length-2),te=2;te<arguments.length;te++)Rt[te-2]=arguments[te];return _.prototype[J].apply(U,Rt)}}function S(c){const _=c.length;if(0<_){const b=Array(_);for(let U=0;U<_;U++)b[U]=c[U];return b}return[]}function R(c,_){for(let b=1;b<arguments.length;b++){const U=arguments[b];if(m(U)){const J=c.length||0,lt=U.length||0;c.length=J+lt;for(let Rt=0;Rt<lt;Rt++)c[J+Rt]=U[Rt]}else c.push(U)}}class x{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Y=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function rt(c,_,b){for(const U in c)_.call(b,c[U],U,c)}function z(c,_){for(const b in c)_.call(void 0,c[b],b,c)}function k(c){const _={};for(const b in c)_[b]=c[b];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,_){let b,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(b in U)c[b]=U[b];for(let lt=0;lt<O.length;lt++)b=O[lt],Object.prototype.hasOwnProperty.call(U,b)&&(c[b]=U[b])}}function F(c){var _=1;c=c.split(":");const b=[];for(;0<_&&c.length;)b.push(c.shift()),_--;return c.length&&b.push(c.join(":")),b}function I(c){d.setTimeout(()=>{throw c},0)}function V(){var c=ft;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class D{constructor(){this.h=this.g=null}add(_,b){const U=ct.get();U.set(_,b),this.h?this.h.next=U:this.g=U,this.h=U}}var ct=new x(()=>new tt,c=>c.reset());class tt{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let W,wt=!1,ft=new D,q=()=>{const c=d.Promise.resolve(void 0);W=()=>{c.then(H)}};var H=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(b){I(b)}var _=ct;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}wt=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,_),d.removeEventListener("test",b,_)}catch{}return c}();function _t(c,_){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,U=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(Y){t:{try{Q(_.nodeName);var J=!0;break t}catch{}J=!1}J||(_=null)}}else b=="mouseover"?_=c.fromElement:b=="mouseout"&&(_=c.toElement);this.relatedTarget=_,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Dt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_t.aa.h.call(this)}}C(_t,ot);var Dt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function Gt(c,_,b,U,J){this.listener=c,this.proxy=null,this.src=_,this.type=b,this.capture=!!U,this.ha=J,this.key=++Vt,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,_,b,U,J){var lt=c.toString();c=this.g[lt],c||(c=this.g[lt]=[],this.h++);var Rt=je(c,_,U,J);return-1<Rt?(_=c[Rt],b||(_.fa=!1)):(_=new Gt(_,this.src,lt,!!U,J),_.fa=b,c.push(_)),_};function Xe(c,_){var b=_.type;if(b in c.g){var U=c.g[b],J=Array.prototype.indexOf.call(U,_,void 0),lt;(lt=0<=J)&&Array.prototype.splice.call(U,J,1),lt&&(ye(_),c.g[b].length==0&&(delete c.g[b],c.h--))}}function je(c,_,b,U){for(var J=0;J<c.length;++J){var lt=c[J];if(!lt.da&&lt.listener==_&&lt.capture==!!b&&lt.ha==U)return J}return-1}var A="closure_lm_"+(1e6*Math.random()|0),pt={};function ut(c,_,b,U,J){if(Array.isArray(_)){for(var lt=0;lt<_.length;lt++)ut(c,_[lt],b,U,J);return null}return b=St(b),c&&c[Jt]?c.K(_,b,g(U)?!!U.capture:!1,J):j(c,_,b,!1,U,J)}function j(c,_,b,U,J,lt){if(!_)throw Error("Invalid event type");var Rt=g(J)?!!J.capture:!!J,te=At(c);if(te||(c[A]=te=new se(c)),b=te.add(_,b,U,Rt,lt),b.proxy)return b;if(U=B(),b.proxy=U,U.src=c,U.listener=b,c.addEventListener)dt||(J=Rt),J===void 0&&(J=!1),c.addEventListener(_.toString(),U,J);else if(c.attachEvent)c.attachEvent(Tt(_.toString()),U);else if(c.addListener&&c.removeListener)c.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return b}function B(){function c(b){return _.call(c.src,c.listener,b)}const _=it;return c}function Z(c,_,b,U,J){if(Array.isArray(_))for(var lt=0;lt<_.length;lt++)Z(c,_[lt],b,U,J);else U=g(U)?!!U.capture:!!U,b=St(b),c&&c[Jt]?(c=c.i,_=String(_).toString(),_ in c.g&&(lt=c.g[_],b=je(lt,b,U,J),-1<b&&(ye(lt[b]),Array.prototype.splice.call(lt,b,1),lt.length==0&&(delete c.g[_],c.h--)))):c&&(c=At(c))&&(_=c.g[_.toString()],c=-1,_&&(c=je(_,b,U,J)),(b=-1<c?_[c]:null)&&vt(b))}function vt(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Jt])Xe(_.i,c);else{var b=c.type,U=c.proxy;_.removeEventListener?_.removeEventListener(b,U,c.capture):_.detachEvent?_.detachEvent(Tt(b),U):_.addListener&&_.removeListener&&_.removeListener(U),(b=At(_))?(Xe(b,c),b.h==0&&(b.src=null,_[A]=null)):ye(c)}}}function Tt(c){return c in pt?pt[c]:pt[c]="on"+c}function it(c,_){if(c.da)c=!0;else{_=new _t(_,this);var b=c.listener,U=c.ha||c.src;c.fa&&vt(c),c=b.call(U,_)}return c}function At(c){return c=c[A],c instanceof se?c:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(c){return typeof c=="function"?c:(c[xt]||(c[xt]=function(_){return c.handleEvent(_)}),c[xt])}function Ct(){K.call(this),this.i=new se(this),this.M=this,this.F=null}C(Ct,K),Ct.prototype[Jt]=!0,Ct.prototype.removeEventListener=function(c,_,b,U){Z(this,c,_,b,U)};function Ut(c,_){var b,U=c.F;if(U)for(b=[];U;U=U.F)b.push(U);if(c=c.M,U=_.type||_,typeof _=="string")_=new ot(_,c);else if(_ instanceof ot)_.target=_.target||c;else{var J=_;_=new ot(U,c),P(_,J)}if(J=!0,b)for(var lt=b.length-1;0<=lt;lt--){var Rt=_.g=b[lt];J=jt(Rt,U,!0,_)&&J}if(Rt=_.g=c,J=jt(Rt,U,!0,_)&&J,J=jt(Rt,U,!1,_)&&J,b)for(lt=0;lt<b.length;lt++)Rt=_.g=b[lt],J=jt(Rt,U,!1,_)&&J}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var b=c.g[_],U=0;U<b.length;U++)ye(b[U]);delete c.g[_],c.h--}}this.F=null},Ct.prototype.K=function(c,_,b,U){return this.i.add(String(c),_,!1,b,U)},Ct.prototype.L=function(c,_,b,U){return this.i.add(String(c),_,!0,b,U)};function jt(c,_,b,U){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,lt=0;lt<_.length;++lt){var Rt=_[lt];if(Rt&&!Rt.da&&Rt.capture==b){var te=Rt.listener,He=Rt.ha||Rt.src;Rt.fa&&Xe(c.i,Rt),J=te.call(He,U)!==!1&&J}}return J&&!U.defaultPrevented}function ce(c,_,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(c,_||0)}function ur(c){c.g=ce(()=>{c.g=null,c.i&&(c.i=!1,ur(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class An extends K{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ur(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(c){K.call(this),this.h=c,this.g={}}C(In,K);var he=[];function Bn(c){rt(c.g,function(_,b){this.g.hasOwnProperty(b)&&vt(_)},c),c.g={}}In.prototype.N=function(){In.aa.N.call(this),Bn(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,hn=d.JSON.parse,cr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function na(){}na.prototype.h=null;function ra(c){return c.h||(c.h=c.i())}function ia(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yn(){ot.call(this,"d")}C(yn,ot);function hr(){ot.call(this,"c")}C(hr,ot);var fr={},so=null;function di(){return so=so||new Ct}fr.La="serverreachability";function Ya(c){ot.call(this,fr.La,c)}C(Ya,ot);function mi(c){const _=di();Ut(_,new Ya(_))}fr.STAT_EVENT="statevent";function jl(c,_){ot.call(this,fr.STAT_EVENT,c),this.stat=_}C(jl,ot);function we(c){const _=di();Ut(_,new jl(_,c))}fr.Ma="timingevent";function qe(c,_){ot.call(this,fr.Ma,c),this.size=_}C(qe,ot);function Me(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},_)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function oo(c,_,b,U,J,lt){c.info(function(){if(c.g)if(lt)for(var Rt="",te=lt.split("&"),He=0;He<te.length;He++){var ee=te[He].split("=");if(1<ee.length){var $e=ee[0];ee=ee[1];var Fe=$e.split("_");Rt=2<=Fe.length&&Fe[1]=="type"?Rt+($e+"="+ee+"&"):Rt+($e+"=redacted&")}}else Rt=null;else Rt=lt;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+_+`
`+b+`
`+Rt})}function sh(c,_,b,U,J,lt,Rt){c.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+_+`
`+b+`
`+lt+" "+Rt})}function pi(c,_,b,U){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+aa(c,b)+(U?" "+U:"")})}function ql(c,_){c.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function aa(c,_){if(!c.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var U=b[c];if(!(2>U.length)){var J=U[1];if(Array.isArray(J)&&!(1>J.length)){var lt=J[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(var Rt=1;Rt<J.length;Rt++)J[Rt]=""}}}}return _n(b)}catch{return _}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ur={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function mr(){}C(mr,na),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},dr=new mr;function vn(c,_,b,U){this.j=c,this.i=_,this.l=b,this.R=U||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}var lo={},Ka={};function nr(c,_,b){c.L=1,c.v=ca(On(_)),c.m=b,c.P=!0,zr(c,null)}function zr(c,_){c.F=Date.now(),sa(c),c.A=On(c.v);var b=c.A,U=c.R;Array.isArray(U)||(U=[String(U)]),po(b.i,"t",U),c.C=0,b=c.j.J,c.h=new Oe,c.g=iu(c.j,b?_:null,!c.m),0<c.O&&(c.M=new An(T(c.Y,c,c.g),c.O)),_=c.U,b=c.g,U=c.ca;var J="readystatechange";Array.isArray(J)||(J&&(he[0]=J.toString()),J=he);for(var lt=0;lt<J.length;lt++){var Rt=ut(b,J[lt],U||_.handleEvent,!1,_.h||_);if(!Rt)break;_.g[Rt.key]=Rt}_=c.H?k(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),mi(),oo(c.i,c.u,c.A,c.l,c.R,c.m)}vn.prototype.ca=function(c){c=c.target;const _=this.M;_&&Qn(c)==3?_.j():this.Y(c)},vn.prototype.Y=function(c){try{if(c==this.g)t:{const Fe=Qn(this.g);var _=this.g.Ba();const Gr=this.g.Z();if(!(3>Fe)&&(Fe!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Fe!=4||_==7||(_==8||0>=Gr?mi(3):mi(2)),_i(this);var b=this.g.Z();this.X=b;e:if(Hl(this)){var U=Zl(this.g);c="";var J=U.length,lt=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),pr(this);var Rt="";break e}this.h.i=new d.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,c+=this.h.i.decode(U[_],{stream:!(lt&&_==J-1)});U.length=0,this.h.g+=c,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=b==200,sh(this.i,this.u,this.A,this.l,this.R,Fe,b),this.o){if(this.T&&!this.K){e:{if(this.g){var te,He=this.g;if((te=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(te)){var ee=te;break e}}ee=null}if(b=ee)pi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,b);else{this.o=!1,this.s=3,we(12),nn(this),pr(this);break t}}if(this.P){b=!0;let rn;for(;!this.J&&this.C<Rt.length;)if(rn=Fl(this,Rt),rn==Ka){Fe==4&&(this.s=4,we(14),b=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==lo){this.s=4,we(15),pi(this.i,this.l,Rt,"[Invalid Chunk]"),b=!1;break}else pi(this.i,this.l,rn,null),oa(this,rn);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||Rt.length!=0||this.h.h||(this.s=1,we(16),b=!1),this.o=this.o&&b,!b)pi(this.i,this.l,Rt,"[Invalid Chunked Response]"),nn(this),pr(this);else if(0<Rt.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),ya($e),$e.M=!0,we(11))}}else pi(this.i,this.l,Rt,null),oa(this,Rt);Fe==4&&nn(this),this.o&&!this.J&&(Fe==4?eu(this.j,this):(this.o=!1,sa(this)))}else hh(this.g),b==400&&0<Rt.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),nn(this),pr(this)}}}catch{}finally{}};function Hl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fl(c,_){var b=c.C,U=_.indexOf(`
`,b);return U==-1?Ka:(b=Number(_.substring(b,U)),isNaN(b)?lo:(U+=1,U+b>_.length?Ka:(_=_.slice(U,U+b),c.C=U+b,_)))}vn.prototype.cancel=function(){this.J=!0,nn(this)};function sa(c){c.S=Date.now()+c.I,Gl(c,c.I)}function Gl(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Me(T(c.ba,c),_)}function _i(c){c.B&&(d.clearTimeout(c.B),c.B=null)}vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ql(this.i,this.A),this.L!=2&&(mi(),we(17)),nn(this),this.s=2,pr(this)):Gl(this,this.S-c)};function pr(c){c.j.G==0||c.J||eu(c.j,c)}function nn(c){_i(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Bn(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function oa(c,_){try{var b=c.j;if(b.G!=0&&(b.g==c||uo(b.h,c))){if(!c.K&&uo(b.h,c)&&b.G==3){try{var U=b.Da.g.parse(_)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)ss(b),is(b);else break t;Eo(b),we(18)}}else b.za=J[1],0<b.za-b.T&&37500>J[2]&&b.F&&b.v==0&&!b.C&&(b.C=Me(T(b.Za,b),6e3));if(1>=Za(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Fr(b,11)}else if((c.K||b.g==c)&&ss(b),!M(_))for(J=b.Da.g.parse(_),_=0;_<J.length;_++){let ee=J[_];if(b.T=ee[0],ee=ee[1],b.G==2)if(ee[0]=="c"){b.K=ee[1],b.ia=ee[2];const $e=ee[3];$e!=null&&(b.la=$e,b.j.info("VER="+b.la));const Fe=ee[4];Fe!=null&&(b.Aa=Fe,b.j.info("SVER="+b.Aa));const Gr=ee[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(U=1.5*Gr,b.L=U,b.j.info("backChannelRequestTimeoutMs_="+U)),U=b;const rn=c.g;if(rn){const Tr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var lt=U.h;lt.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&($a(lt,lt.h),lt.h=null))}if(U.D){const To=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(U.ya=To,me(U.I,U.D,To))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),U=b;var Rt=c;if(U.qa=ru(U,U.J?U.ia:null,U.W),Rt.K){En(U.h,Rt);var te=Rt,He=U.L;He&&(te.I=He),te.B&&(_i(te),sa(te)),U.g=Rt}else Jl(U);0<b.i.length&&as(b)}else ee[0]!="stop"&&ee[0]!="close"||Fr(b,7);else b.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Fr(b,7):yo(b):ee[0]!="noop"&&b.l&&b.l.ta(ee),b.v=0)}}mi(4)}catch{}}var Ql=class{constructor(c,_){this.g=c,this.map=_}};function Lr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Za(c){return c.h?1:c.g?c.g.size:0}function uo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function $a(c,_){c.g?c.g.add(_):c.h=_}function En(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Lr.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function co(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const b of c.g.values())_=_.concat(b.D);return _}return S(c.i)}function oh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var _=[],b=c.length,U=0;U<b;U++)_.push(c[U]);return _}_=[],b=0;for(U in c)_[b++]=c[U];return _}function Wa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var _=[];c=c.length;for(var b=0;b<c;b++)_.push(b);return _}_=[],b=0;for(const U in c)_[b++]=U;return _}}}function ho(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var b=Wa(c),U=oh(c),J=U.length,lt=0;lt<J;lt++)_.call(void 0,U[lt],b&&b[lt],c)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(c,_){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var U=c[b].indexOf("="),J=null;if(0<=U){var lt=c[b].substring(0,U);J=c[b].substring(U+1)}else lt=c[b];_(lt,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ue(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ue){this.h=c.h,ua(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var _=c.i,b=new Br;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),Pr(this,b),this.m=c.m}else c&&(_=String(c).match(la))?(this.h=!1,ua(this,_[1]||"",!0),this.o=Hn(_[2]||""),this.g=Hn(_[3]||"",!0),yi(this,_[4]),this.l=Hn(_[5]||"",!0),Pr(this,_[6]||"",!0),this.m=Hn(_[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}Ue.prototype.toString=function(){var c=[],_=this.j;_&&c.push(ha(_,fo,!0),":");var b=this.g;return(b||_=="file")&&(c.push("//"),(_=this.o)&&c.push(ha(_,fo,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(ha(b,b.charAt(0)=="/"?uh:mo,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",ha(b,Ja)),c.join("")};function On(c){return new Ue(c)}function ua(c,_,b){c.j=b?Hn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Pr(c,_,b){_ instanceof Br?(c.i=_,Kl(c.i,c.h)):(b||(_=ha(_,ch)),c.i=new Br(_,c.h))}function me(c,_,b){c.i.set(_,b)}function ca(c){return me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,_,b){return typeof c=="string"?(c=encodeURI(c).replace(_,Yl),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fo=/[#\/\?@]/g,mo=/[#\?:]/g,uh=/[#\?]/g,ch=/[#\?@]/g,Ja=/#/g;function Br(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&lh(c.i,function(_,b){c.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}i=Br.prototype,i.add=function(c,_){Fn(this),this.i=null,c=gr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(_),this.h+=1,this};function jr(c,_){Fn(c),_=gr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function qr(c,_){return Fn(c),_=gr(c,_),c.g.has(_)}i.forEach=function(c,_){Fn(this),this.g.forEach(function(b,U){b.forEach(function(J){c.call(_,J,U,this)},this)},this)},i.na=function(){Fn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let U=0;U<_.length;U++){const J=c[U];for(let lt=0;lt<J.length;lt++)b.push(_[U])}return b},i.V=function(c){Fn(this);let _=[];if(typeof c=="string")qr(this,c)&&(_=_.concat(this.g.get(gr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)_=_.concat(c[b])}return _},i.set=function(c,_){return Fn(this),this.i=null,c=gr(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function po(c,_,b){jr(c,_),0<b.length&&(c.i=null,c.g.set(gr(c,_),S(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var U=_[b];const lt=encodeURIComponent(String(U)),Rt=this.V(U);for(U=0;U<Rt.length;U++){var J=lt;Rt[U]!==""&&(J+="="+encodeURIComponent(String(Rt[U]))),c.push(J)}}return this.i=c.join("&")};function gr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Kl(c,_){_&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(b,U){var J=U.toLowerCase();U!=J&&(jr(this,U),po(this,J,b))},c)),c.j=_}function fa(c,_){const b=new qn;if(d.Image){const U=new Image;U.onload=v(Gn,b,"TestLoadImage: loaded",!0,_,U),U.onerror=v(Gn,b,"TestLoadImage: error",!1,_,U),U.onabort=v(Gn,b,"TestLoadImage: abort",!1,_,U),U.ontimeout=v(Gn,b,"TestLoadImage: timeout",!1,_,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=c}else _(!1)}function rr(c,_){const b=new qn,U=new AbortController,J=setTimeout(()=>{U.abort(),Gn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:U.signal}).then(lt=>{clearTimeout(J),lt.ok?Gn(b,"TestPingServer: ok",!0,_):Gn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),Gn(b,"TestPingServer: error",!1,_)})}function Gn(c,_,b,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(b)}catch{}}function da(){this.g=new cr}function _r(c,_,b){const U=b||"";try{ho(c,function(J,lt){let Rt=J;g(J)&&(Rt=_n(J)),_.push(U+lt+"="+encodeURIComponent(Rt))})}catch(J){throw _.push(U+"type="+encodeURIComponent("_badmap")),J}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}C(vi,na),vi.prototype.g=function(){return new Hr(this.l,this.j)},vi.prototype.i=function(c){return function(){return c}}({});function Hr(c,_){Ct.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Hr,Ct),i=Hr.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,vr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?yr(this):vr(this),this.readyState==3&&go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,yr(this))},i.Qa=function(c){this.g&&(this.response=c,yr(this))},i.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vr(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=_.next();return c.join(`\r
`)};function vr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _o(c){let _="";return rt(c,function(b,U){_+=U,_+=":",_+=b,_+=`\r
`}),_}function Ze(c,_,b){t:{for(U in b){var U=!1;break t}U=!0}U||(b=_o(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):me(c,_,b))}function le(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(le,Ct);var ts=/^https?$/i,ma=["POST","PUT"];i=le.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,b,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?ra(this.o):ra(dr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(lt){Xl(this,lt);return}if(c=b||"",b=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)b.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const lt of U.keys())b.set(lt,U.get(lt));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(b.keys()).find(lt=>lt.toLowerCase()=="content-type"),J=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ma,_,void 0))||U||J||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,Rt]of b)this.g.setRequestHeader(lt,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(c),this.u=!1}catch(lt){Xl(this,lt)}};function Xl(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,es(c),Er(c)}function es(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),Er(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),le.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ns(this):this.bb())},i.bb=function(){ns(this)};function ns(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)ce(c.Ea,0,c);else if(Ut(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const Rt=c.Z();t:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var U;if(U=Rt===0){var J=String(c.D).match(la)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),U=!ts.test(J?J.toLowerCase():"")}b=U}if(b)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var lt=2<Qn(c)?c.g.statusText:""}catch{lt=""}c.l=lt+" ["+c.Z()+"]",es(c)}}finally{Er(c)}}}}function Er(c,_){if(c.g){pa(c);const b=c.g,U=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ut(c,"ready");try{b.onreadystatechange=U}catch{}}}function pa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),hn(_)}};function Zl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hh(c){const _={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<c.length;U++){if(M(c[U]))continue;var b=F(c[U]);const J=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const lt=_[J]||[];_[J]=lt,lt.push(b)}z(_,function(U){return U.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(c,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||_}function rs(c){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,c),this.cb=ga("retryDelaySeedMs",1e4,c),this.Wa=ga("forwardChannelMaxRetries",2,c),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(c&&c.concurrentRequestLimit),this.Da=new da,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=rs.prototype,i.la=8,i.G=1,i.connect=function(c,_,b,U){we(0),this.W=c,this.H=_||{},b&&U!==void 0&&(this.H.OSID=b,this.H.OAID=U),this.F=this.X,this.I=ru(this,null,this.W),as(this)};function yo(c){if($l(c),c.G==3){var _=c.U++,b=On(c.I);if(me(b,"SID",c.K),me(b,"RID",_),me(b,"TYPE","terminate"),_a(c,b),_=new vn(c,c.j,_),_.L=2,_.v=ca(On(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=_.v,b=!0),b||(_.g=iu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),sa(_)}nu(c)}function is(c){c.g&&(ya(c),c.g.cancel(),c.g=null)}function $l(c){is(c),c.u&&(d.clearTimeout(c.u),c.u=null),ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function as(c){if(!Xa(c.h)&&!c.s){c.s=!0;var _=c.Ga;W||q(),wt||(W(),wt=!0),ft.add(_,c),c.B=0}}function fh(c,_){return Za(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Me(T(c.Ga,c,_),bo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const J=new vn(this,this.j,c);let lt=this.o;if(this.S&&(lt?(lt=k(lt),P(lt,this.S)):lt=this.S),this.m!==null||this.O||(J.H=lt,lt=null),this.P)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var U=this.i[b];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break e}U=void 0}if(U===void 0)break;if(_+=U,4096<_){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Wl(this,J,_),b=On(this.I),me(b,"RID",c),me(b,"CVER",22),this.D&&me(b,"X-HTTP-Session-Id",this.D),_a(this,b),lt&&(this.O?_="headers="+encodeURIComponent(String(_o(lt)))+"&"+_:this.m&&Ze(b,this.m,lt)),$a(this.h,J),this.Ua&&me(b,"TYPE","init"),this.P?(me(b,"$req",_),me(b,"SID","null"),J.T=!0,nr(J,b,null)):nr(J,b,_),this.G=2}}else this.G==3&&(c?vo(this,c):this.i.length==0||Xa(this.h)||vo(this))};function vo(c,_){var b;_?b=_.l:b=c.U++;const U=On(c.I);me(U,"SID",c.K),me(U,"RID",b),me(U,"AID",c.T),_a(c,U),c.m&&c.o&&Ze(U,c.m,c.o),b=new vn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Wl(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$a(c.h,b),nr(b,U,_)}function _a(c,_){c.H&&rt(c.H,function(b,U){me(_,U,b)}),c.l&&ho({},function(b,U){me(_,U,b)})}function Wl(c,_,b){b=Math.min(c.i.length,b);var U=c.l?T(c.l.Na,c.l,c):null;t:{var J=c.i;let lt=-1;for(;;){const Rt=["count="+b];lt==-1?0<b?(lt=J[0].g,Rt.push("ofs="+lt)):lt=0:Rt.push("ofs="+lt);let te=!0;for(let He=0;He<b;He++){let ee=J[He].g;const $e=J[He].map;if(ee-=lt,0>ee)lt=Math.max(0,J[He].g-100),te=!1;else try{_r($e,Rt,"req"+ee+"_")}catch{U&&U($e)}}if(te){U=Rt.join("&");break t}}}return c=c.i.splice(0,b),_.D=c,U}function Jl(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;W||q(),wt||(W(),wt=!0),ft.add(_,c),c.v=0}}function Eo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Me(T(c.Fa,c),bo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Me(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),is(this),tu(this))};function ya(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function tu(c){c.g=new vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=On(c.qa);me(_,"RID","rpc"),me(_,"SID",c.K),me(_,"AID",c.T),me(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&me(_,"TO",c.ja),me(_,"TYPE","xmlhttp"),_a(c,_),c.m&&c.o&&Ze(_,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=ca(On(_)),b.m=null,b.P=!0,zr(b,c)}i.Za=function(){this.C!=null&&(this.C=null,is(this),Eo(this),we(19))};function ss(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function eu(c,_){var b=null;if(c.g==_){ss(c),ya(c),c.g=null;var U=2}else if(uo(c.h,_))b=_.D,En(c.h,_),U=1;else return;if(c.G!=0){if(_.o)if(U==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var J=c.B;U=di(),Ut(U,new qe(U,b)),as(c)}else Jl(c);else if(J=_.s,J==3||J==0&&0<_.X||!(U==1&&fh(c,_)||U==2&&Eo(c)))switch(b&&0<b.length&&(_=c.h,_.i=_.i.concat(b)),J){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function bo(c,_){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*_}function Fr(c,_){if(c.j.info("Error code "+_),_==2){var b=T(c.fb,c),U=c.Xa;const J=!U;U=new Ue(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ua(U,"https"),ca(U),J?fa(U.toString(),b):rr(U.toString(),b)}else we(2);c.G=0,c.l&&c.l.sa(_),nu(c),$l(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const _=co(c.h);(_.length!=0||c.i.length!=0)&&(R(c.ka,_),R(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function ru(c,_,b){var U=b instanceof Ue?On(b):new Ue(b);if(U.g!="")_&&(U.g=_+"."+U.g),yi(U,U.s);else{var J=d.location;U=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var lt=new Ue(null);U&&ua(lt,U),_&&(lt.g=_),J&&yi(lt,J),b&&(lt.l=b),U=lt}return b=c.D,_=c.ya,b&&_&&me(U,b,_),me(U,"VER",c.la),_a(c,U),U}function iu(c,_,b){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new le(new vi({eb:b})):new le(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}i=au.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function os(){}os.prototype.g=function(c,_){return new bn(c,_)};function bn(c,_){Ct.call(this),this.g=new rs(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!M(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new br(this)}C(bn,Ct),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){yo(this.g)},bn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=_n(c),c=b);_.i.push(new Ql(_.Ya++,c)),_.G==3&&as(_)},bn.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,bn.aa.N.call(this)};function su(c){yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const b in _){c=b;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}C(su,yn);function ou(){hr.call(this),this.status=1}C(ou,hr);function br(c){this.g=c}C(br,au),br.prototype.ua=function(){Ut(this.g,"a")},br.prototype.ta=function(c){Ut(this.g,new su(c))},br.prototype.sa=function(c){Ut(this.g,new ou)},br.prototype.ra=function(){Ut(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,L0=function(){return new os},z0=function(){return di()},U0=fr,Nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,bc=gi,Ur.COMPLETE="complete",M0=Ur,ia.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,dl=ia,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,V0=le}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore",My="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new r0("@firebase/firestore");function Ls(){return La.logLevel}function It(i,...t){if(La.logLevel<=ie.DEBUG){const n=t.map(um);La.debug(`Firestore (${eo}): ${i}`,...n)}}function ci(i,...t){if(La.logLevel<=ie.ERROR){const n=t.map(um);La.error(`Firestore (${eo}): ${i}`,...n)}}function Gs(i,...t){if(La.logLevel<=ie.WARN){const n=t.map(um);La.warn(`Firestore (${eo}): ${i}`,...n)}}function um(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(i,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,P0(i,a,n)}function P0(i,t,n){let a=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ci(a),new Error(a)}function ue(i,t,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||P0(t,o,a)}function Ft(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends ja{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class uS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cS{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ue(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ue(typeof a.accessToken=="string",31837,{l:a}),new B0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class hS{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fS{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new hS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dS{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,o0(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ue(this.o===void 0,3512);const a=u=>{u.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,It("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=mS(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Kt(i,t){return i<t?-1:i>t?1:0}function kd(i,t){let n=0;for(;n<i.length&&n<t.length;){const a=i.codePointAt(n),o=t.codePointAt(n);if(a!==o){if(a<128&&o<128)return Kt(a,o);{const u=j0(),h=pS(u.encode(zy(i,n)),u.encode(zy(t,n)));return h!==0?h:Kt(a,o)}}n+=a>65535?2:1}return Kt(i.length,t.length)}function zy(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function pS(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Kt(i[n],t[n]);return Kt(i.length,t.length)}function Qs(i,t,n){return i.length===t.length&&i.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-62135596800,Py=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Py);return new Ye(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ly)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ly;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new Ye(0,0))}static max(){return new Ht(new Ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="__name__";class xr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Bt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Bt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return xr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xr?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=xr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Kt(t.length,n.length)}static compareSegments(t,n){const a=xr.isNumericId(t),o=xr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?xr.extractNumericId(t).compare(xr.extractNumericId(n)):kd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Yi.fromString(t.substring(4,t.length-2))}}class be extends xr{construct(t,n,a){return new be(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new be(n)}static emptyPath(){return new be([])}}const gS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends xr{construct(t,n,a){return new un(t,n,a)}static isValidIdentifier(t){return gS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===By}static keyField(){return new un([By])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Nt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Nt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new Nt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(be.fromString(t))}static fromName(t){return new zt(be.fromString(t).popFirst(5))}static empty(){return new zt(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return be.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new be(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function _S(i,t){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ht.fromTimestamp(a===1e9?new Ye(n+1,0):new Ye(n,a));return new Zi(o,zt.empty(),t)}function yS(i){return new Zi(i.readTime,i.key,Al)}class Zi{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Zi(Ht.min(),zt.empty(),Al)}static max(){return new Zi(Ht.max(),zt.empty(),Al)}}function vS(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=zt.comparator(i.documentKey,t.documentKey),n!==0?n:Kt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(i){if(i.code!==bt.FAILED_PRECONDITION||i.message!==ES)throw i;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Et((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Et?n:Et.resolve(n)}catch(n){return Et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Et.reject(n)}static resolve(t){return new Et((n,a)=>{n(t)})}static reject(t){return new Et((n,a)=>{a(t)})}static waitFor(t){return new Et((n,a)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&n()},m=>a(m))}),h=!0,u===o&&n()})}static or(t){let n=Et.resolve(!1);for(const a of t)n=n.next(o=>o?Et.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new Et((a,o)=>{const u=t.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next(y=>{h[g]=y,++d,d===u&&a(h)},y=>o(y))}})}static doWhile(t,n){return new Et((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function TS(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Yc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Kc(i){return i==null}function kc(i){return i===0&&1/i==-1/0}function wS(i){return typeof i=="number"&&Number.isInteger(i)&&!kc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="";function AS(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=jy(t)),t=SS(i.get(n),t);return jy(t)}function SS(i,t){let n=t;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case H0:n+="";break;default:n+=u}}return n}function jy(i){return i+H0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function qa(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function F0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,n){this.comparator=t,this.root=n||ln.EMPTY}insert(t,n){return new Ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fc(this.root,t,this.comparator,!0)}}class fc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new ln(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,n,a,o,u){return this}insert(t,n,a){return new ln(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(t){return new Hy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ke(this.comparator);return n.data=t,n}}class Hy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new or([])}unionWith(t){let n=new Ke(un.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new or(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qs(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new G0("Invalid base64 string: "+u):u}}(t);return new cn(n)}static fromUint8Array(t){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const RS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(ue(!!i,39018),typeof i=="string"){let t=0;const n=RS.exec(i);if(ue(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ve(i.seconds),nanos:Ve(i.nanos)}}function Ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wi(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="server_timestamp",Y0="__type__",K0="__previous_value__",X0="__local_write_time__";function hm(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Y0])===null||n===void 0?void 0:n.stringValue)===Q0}function Xc(i){const t=i.mapValue.fields[K0];return hm(t)?Xc(t):t}function Sl(i){const t=$i(i.mapValue.fields[X0].timestampValue);return new Ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n,a,o,u,h,d,m,g){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Vc="(default)";class Rl{constructor(t,n){this.projectId=t,this.database=n||Vc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__type__",xS="__max__",dc={mapValue:{}},$0="__vector__",Mc="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hm(i)?4:IS(i)?9007199254740991:DS(i)?10:11:Bt(28295,{value:i})}function Vr(i,t){if(i===t)return!0;const n=Ji(i);if(n!==Ji(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Sl(i).isEqual(Sl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=$i(o.timestampValue),d=$i(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return Wi(o.bytesValue).isEqual(Wi(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ve(o.doubleValue),d=Ve(u.doubleValue);return h===d?kc(h)===kc(d):isNaN(h)&&isNaN(d)}return!1}(i,t);case 9:return Qs(i.arrayValue.values||[],t.arrayValue.values||[],Vr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(qy(h)!==qy(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Vr(h[m],d[m])))return!1;return!0}(i,t);default:return Bt(52216,{left:i})}}function Cl(i,t){return(i.values||[]).find(n=>Vr(n,t))!==void 0}function Ys(i,t){if(i===t)return 0;const n=Ji(i),a=Ji(t);if(n!==a)return Kt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Ve(u.integerValue||u.doubleValue),m=Ve(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,t);case 3:return Fy(i.timestampValue,t.timestampValue);case 4:return Fy(Sl(i),Sl(t));case 5:return kd(i.stringValue,t.stringValue);case 6:return function(u,h){const d=Wi(u),m=Wi(h);return d.compareTo(m)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Kt(d[g],m[g]);if(y!==0)return y}return Kt(d.length,m.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Kt(Ve(u.latitude),Ve(h.latitude));return d!==0?d:Kt(Ve(u.longitude),Ve(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return Gy(i.arrayValue,t.arrayValue);case 10:return function(u,h){var d,m,g,y;const E=u.fields||{},T=h.fields||{},v=(d=E[Mc])===null||d===void 0?void 0:d.arrayValue,C=(m=T[Mc])===null||m===void 0?void 0:m.arrayValue,S=Kt(((g=v==null?void 0:v.values)===null||g===void 0?void 0:g.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return S!==0?S:Gy(v,C)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===dc.mapValue&&h===dc.mapValue)return 0;if(u===dc.mapValue)return 1;if(h===dc.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const T=kd(m[E],y[E]);if(T!==0)return T;const v=Ys(d[m[E]],g[y[E]]);if(v!==0)return v}return Kt(m.length,y.length)}(i.mapValue,t.mapValue);default:throw Bt(23264,{Pe:n})}}function Fy(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Kt(i,t);const n=$i(i),a=$i(t),o=Kt(n.seconds,a.seconds);return o!==0?o:Kt(n.nanos,a.nanos)}function Gy(i,t){const n=i.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ys(n[o],a[o]);if(u)return u}return Kt(n.length,a.length)}function Ks(i){return Vd(i)}function Vd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=$i(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Wi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return zt.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Vd(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Vd(n.fields[h])}`;return o+"}"}(i.mapValue):Bt(61005,{value:i})}function Tc(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xc(i);return t?16+Tc(t):16;case 5:return 2*i.stringValue.length;case 6:return Wi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Tc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return qa(a.fields,(u,h)=>{o+=u.length+Tc(h)}),o}(i.mapValue);default:throw Bt(13486,{value:i})}}function Qy(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Md(i){return!!i&&"integerValue"in i}function fm(i){return!!i&&"arrayValue"in i}function Yy(i){return!!i&&"nullValue"in i}function Ky(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wc(i){return!!i&&"mapValue"in i}function DS(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Z0])===null||n===void 0?void 0:n.stringValue)===$0}function _l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return qa(i.mapValue.fields,(n,a)=>t.mapValue.fields[n]=_l(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_l(i.arrayValue.values[n]);return t}return Object.assign({},i)}function IS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.value=t}static empty(){return new tr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!wc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(n)}setAll(t){let n=un.emptyPath(),a={},o=[];t.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=d.popLast()}h?a[d.lastSegment()]=_l(h):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){qa(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new tr(_l(this.value))}}function W0(i){const t=[];return qa(i.fields,(n,a)=>{const o=new un([n]);if(wc(a)){const u=W0(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new or(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t,n,a,o,u,h,d){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new gn(t,0,Ht.min(),Ht.min(),Ht.min(),tr.empty(),0)}static newFoundDocument(t,n,a,o){return new gn(t,1,n,Ht.min(),a,o,0)}static newNoDocument(t,n){return new gn(t,2,n,Ht.min(),Ht.min(),tr.empty(),0)}static newUnknownDocument(t,n){return new gn(t,3,n,Ht.min(),Ht.min(),tr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.position=t,this.inclusive=n}}function Xy(i,t,n){let a=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?a=zt.comparator(zt.fromName(h.referenceValue),n.key):a=Ys(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Zy(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vr(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n="asc"){this.field=t,this.dir=n}}function OS(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{}class Be extends J0{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new kS(t,n,a):n==="array-contains"?new US(t,a):n==="in"?new zS(t,a):n==="not-in"?new LS(t,a):n==="array-contains-any"?new PS(t,a):new Be(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new VS(t,a):new MS(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ys(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends J0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new lr(t,n)}matches(t){return tE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tE(i){return i.op==="and"}function eE(i){return NS(i)&&tE(i)}function NS(i){for(const t of i.filters)if(t instanceof lr)return!1;return!0}function Ud(i){if(i instanceof Be)return i.field.canonicalString()+i.op.toString()+Ks(i.value);if(eE(i))return i.filters.map(t=>Ud(t)).join(",");{const t=i.filters.map(n=>Ud(n)).join(",");return`${i.op}(${t})`}}function nE(i,t){return i instanceof Be?function(a,o){return o instanceof Be&&a.op===o.op&&a.field.isEqual(o.field)&&Vr(a.value,o.value)}(i,t):i instanceof lr?function(a,o){return o instanceof lr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&nE(h,o.filters[d]),!0):!1}(i,t):void Bt(19439)}function rE(i){return i instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`}(i):i instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(rE).join(" ,")+"}"}(i):"Filter"}class kS extends Be{constructor(t,n,a){super(t,n,a),this.key=zt.fromName(a.referenceValue)}matches(t){const n=zt.comparator(t.key,this.key);return this.matchesComparison(n)}}class VS extends Be{constructor(t,n){super(t,"in",n),this.keys=iE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class MS extends Be{constructor(t,n){super(t,"not-in",n),this.keys=iE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function iE(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>zt.fromName(a.referenceValue))}class US extends Be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return fm(n)&&Cl(n.arrayValue,this.value)}}class zS extends Be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class LS extends Be{constructor(t,n){super(t,"not-in",n)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cl(this.value.arrayValue,n)}}class PS extends Be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Cl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n=null,a=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Ie=null}}function $y(i,t=null,n=[],a=[],o=null,u=null,h=null){return new BS(i,t,n,a,o,u,h)}function dm(i){const t=Ft(i);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>Ud(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Kc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Ks(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Ks(a)).join(",")),t.Ie=n}return t.Ie}function mm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!OS(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!nE(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Zy(i.startAt,t.startAt)&&Zy(i.endAt,t.endAt)}function zd(i){return zt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jS(i,t,n,a,o,u,h,d){return new io(i,t,n,a,o,u,h,d)}function aE(i){return new io(i)}function Wy(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sE(i){return i.collectionGroup!==null}function yl(i){const t=Ft(i);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ke(un.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new xl(u,a))}),n.has(un.keyField().canonicalString())||t.Ee.push(new xl(un.keyField(),a))}return t.Ee}function Ir(i){const t=Ft(i);return t.de||(t.de=qS(t,yl(i))),t.de}function qS(i,t){if(i.limitType==="F")return $y(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xl(o.field,u)});const n=i.endAt?new Uc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Uc(i.startAt.position,i.startAt.inclusive):null;return $y(i.path,i.collectionGroup,t,i.filters,i.limit,n,a)}}function Ld(i,t){const n=i.filters.concat([t]);return new io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Pd(i,t,n){return new io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Zc(i,t){return mm(Ir(i),Ir(t))&&i.limitType===t.limitType}function oE(i){return`${dm(Ir(i))}|lt:${i.limitType}`}function Ps(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>rE(o)).join(", ")}]`),Kc(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ks(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ks(o)).join(",")),`Target(${a})`}(Ir(i))}; limitType=${i.limitType})`}function $c(i,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):zt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,o){for(const u of yl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=Xy(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,yl(a),o)||a.endAt&&!function(h,d,m){const g=Xy(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,yl(a),o))}(i,t)}function HS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function lE(i){return(t,n)=>{let a=!1;for(const o of yl(i)){const u=FS(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function FS(i,t,n){const a=i.field.isKeyField()?zt.comparator(t.key,n.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Ys(m,g):Bt(42886)}(i.field,t,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Bt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qa(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return F0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Ce(zt.comparator);function hi(){return GS}const uE=new Ce(zt.comparator);function ml(...i){let t=uE;for(const n of i)t=t.insert(n.key,n);return t}function cE(i){let t=uE;return i.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Ma(){return vl()}function hE(){return vl()}function vl(){return new Ha(i=>i.toString(),(i,t)=>i.isEqual(t))}const QS=new Ce(zt.comparator),YS=new Ke(zt.comparator);function Wt(...i){let t=YS;for(const n of i)t=t.add(n);return t}const KS=new Ke(Kt);function XS(){return KS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function fE(i){return{integerValue:""+i}}function ZS(i,t){return wS(t)?fE(t):pm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function $S(i,t,n){return i instanceof Dl?function(o,u){const h={fields:{[Y0]:{stringValue:Q0},[X0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hm(u)&&(u=Xc(u)),u&&(h.fields[K0]=u),{mapValue:h}}(n,t):i instanceof Il?mE(i,t):i instanceof Ol?pE(i,t):function(o,u){const h=dE(o,u),d=Jy(h)+Jy(o.Re);return Md(h)&&Md(o.Re)?fE(d):pm(o.serializer,d)}(i,t)}function WS(i,t,n){return i instanceof Il?mE(i,t):i instanceof Ol?pE(i,t):n}function dE(i,t){return i instanceof zc?function(a){return Md(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Dl extends Wc{}class Il extends Wc{constructor(t){super(),this.elements=t}}function mE(i,t){const n=gE(t);for(const a of i.elements)n.some(o=>Vr(o,a))||n.push(a);return{arrayValue:{values:n}}}class Ol extends Wc{constructor(t){super(),this.elements=t}}function pE(i,t){let n=gE(t);for(const a of i.elements)n=n.filter(o=>!Vr(o,a));return{arrayValue:{values:n}}}class zc extends Wc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Jy(i){return Ve(i.integerValue||i.doubleValue)}function gE(i){return fm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n){this.field=t,this.transform=n}}function tR(i,t){return i.field.isEqual(t.field)&&function(a,o){return a instanceof Il&&o instanceof Il||a instanceof Ol&&o instanceof Ol?Qs(a.elements,o.elements,Vr):a instanceof zc&&o instanceof zc?Vr(a.Re,o.Re):a instanceof Dl&&o instanceof Dl}(i.transform,t.transform)}class eR{constructor(t,n){this.version=t,this.transformResults=n}}class oi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Jc{}function _E(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new vE(i.key,oi.none()):new zl(i.key,i.data,oi.none());{const n=i.data,a=tr.empty();let o=new Ke(un.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Fa(i.key,a,new or(o.toArray()),oi.none())}}function nR(i,t,n){i instanceof zl?function(o,u,h){const d=o.value.clone(),m=ev(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,t,n):i instanceof Fa?function(o,u,h){if(!Ac(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=ev(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(yE(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function El(i,t,n,a){return i instanceof zl?function(u,h,d,m){if(!Ac(u.precondition,h))return d;const g=u.value.clone(),y=nv(u.fieldTransforms,m,h);return g.setAll(y),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,n,a):i instanceof Fa?function(u,h,d,m){if(!Ac(u.precondition,h))return d;const g=nv(u.fieldTransforms,m,h),y=h.data;return y.setAll(yE(u)),y.setAll(g),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(i,t,n,a):function(u,h,d){return Ac(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,t,n)}function rR(i,t){let n=null;for(const a of i.fieldTransforms){const o=t.data.field(a.field),u=dE(a.transform,o||null);u!=null&&(n===null&&(n=tr.empty()),n.set(a.field,u))}return n||null}function tv(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Qs(a,o,(u,h)=>tR(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class zl extends Jc{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fa extends Jc{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yE(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);t.set(n,a)}}),t}function ev(i,t,n){const a=new Map;ue(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,d=t.data.field(u.field);a.set(u.field,WS(h,d,n[o]))}return a}function nv(i,t,n){const a=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);a.set(o.field,$S(u,h,t))}return a}class vE extends Jc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iR extends Jc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&nR(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=El(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=El(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=hE();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(o.key)?null:d;const m=_E(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ht.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Wt())}isEqual(t){return this.batchId===t.batchId&&Qs(this.mutations,t.mutations,(n,a)=>tv(n,a))&&Qs(this.baseMutations,t.baseMutations,(n,a)=>tv(n,a))}}class gm{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){ue(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let o=function(){return QS}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new gm(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,re;function lR(i){switch(i){case bt.OK:return Bt(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return Bt(15467,{code:i})}}function EE(i){if(i===void 0)return ci("GRPC error has no .code"),bt.UNKNOWN;switch(i){case Pe.OK:return bt.OK;case Pe.CANCELLED:return bt.CANCELLED;case Pe.UNKNOWN:return bt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return bt.INTERNAL;case Pe.UNAVAILABLE:return bt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return bt.NOT_FOUND;case Pe.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Pe.ABORTED:return bt.ABORTED;case Pe.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Pe.DATA_LOSS:return bt.DATA_LOSS;default:return Bt(39323,{code:i})}}(re=Pe||(Pe={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Yi([4294967295,4294967295],0);function rv(i){const t=j0().encode(i),n=new k0;return n.update(t),new Uint8Array(n.digest())}function iv(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Yi([n,a],0),new Yi([o,u],0)]}class _m{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(a<0)throw new pl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Yi.fromNumber(this.pe)}we(t,n,a){let o=t.add(n.multiply(Yi.fromNumber(a)));return o.compare(uR)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=rv(t),[a,o]=iv(n);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);if(!this.be(h))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new _m(u,o,n);return a.forEach(d=>h.insert(d)),h}insert(t){if(this.pe===0)return;const n=rv(t),[a,o]=iv(n);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new th(Ht.min(),o,new Ce(Kt),hi(),Wt())}}class Ll{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Ll(a,n,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,a,o){this.De=t,this.removedTargetIds=n,this.key=a,this.ve=o}}class bE{constructor(t,n){this.targetId=t,this.Ce=n}}class TE{constructor(t,n,a=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class av{constructor(){this.Fe=0,this.Me=sv(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Wt(),n=Wt(),a=Wt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Bt(38017,{changeType:u})}}),new Ll(this.xe,this.Oe,t,n,a)}Qe(){this.Ne=!1,this.Me=sv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ue(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cR{constructor(t){this.ze=t,this.je=new Map,this.He=hi(),this.Je=mc(),this.Ye=mc(),this.Ze=new Ce(Kt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const a=this.rt(n);switch(t.state){case 0:this.it(n)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(t.resumeToken));break;default:Bt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,a=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(zd(u))if(a===0){const h=new zt(u.path);this.tt(n,h,gn.newNoDocument(h,Ht.min()))}else ue(a===1,20013,{expectedCount:a});else{const h=this.ut(n);if(h!==a){const d=this.ct(t),m=d?this.lt(d,t,h):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,d;try{h=Wi(a).toUint8Array()}catch(m){if(m instanceof G0)return Gs("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new _m(h,o,u)}catch(m){return Gs(m instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,n,a){return n.Ce.count===a-this.Tt(t,n.targetId)?0:2}Tt(t,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,h)=>{const d=this._t(h);if(d){if(u.current&&zd(d.target)){const m=new zt(d.target.path);this.Et(m).has(h)||this.dt(h,m)||this.tt(h,m,gn.newNoDocument(m,t))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let a=Wt();this.Ye.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const o=new th(t,n,this.Ze,this.He,a);return this.He=hi(),this.Je=mc(),this.Ye=mc(),this.Ze=new Ce(Kt),o}et(t,n){if(!this.it(t))return;const a=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,a){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),a&&(this.He=this.He.insert(n,a))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new av,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ke(Kt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ke(Kt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||It("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new av),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function mc(){return new Ce(zt.comparator)}function sv(){return new Ce(zt.comparator)}const hR={asc:"ASCENDING",desc:"DESCENDING"},fR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dR={and:"AND",or:"OR"};class mR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bd(i,t){return i.useProto3Json||Kc(t)?t:{value:t}}function Lc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function pR(i,t){return Lc(i,t.toTimestamp())}function Or(i){return ue(!!i,49232),Ht.fromTimestamp(function(n){const a=$i(n);return new Ye(a.seconds,a.nanos)}(i))}function ym(i,t){return jd(i,t).canonicalString()}function jd(i,t){const n=function(o){return new be(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function AE(i){const t=be.fromString(i);return ue(DE(t),10190,{key:t.toString()}),t}function qd(i,t){return ym(i.databaseId,t.path)}function vd(i,t){const n=AE(t);if(n.get(1)!==i.databaseId.projectId)throw new Nt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Nt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new zt(RE(n))}function SE(i,t){return ym(i.databaseId,t)}function gR(i){const t=AE(i);return t.length===4?be.emptyPath():RE(t)}function Hd(i){return new be(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function RE(i){return ue(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ov(i,t,n){return{name:qd(i,t),fields:n.value.mapValue.fields}}function _R(i,t){let n;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Bt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,y){return g.useProto3Json?(ue(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(ue(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const y=g.code===void 0?bt.UNKNOWN:EE(g.code);return new Nt(y,g.message||"")}(h);n=new TE(a,o,u,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=vd(i,a.document.name),u=Or(a.document.updateTime),h=a.document.createTime?Or(a.document.createTime):Ht.min(),d=new tr({mapValue:{fields:a.document.fields}}),m=gn.newFoundDocument(o,u,h,d),g=a.targetIds||[],y=a.removedTargetIds||[];n=new Sc(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=vd(i,a.document),u=a.readTime?Or(a.readTime):Ht.min(),h=gn.newNoDocument(o,u),d=a.removedTargetIds||[];n=new Sc([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=vd(i,a.document),u=a.removedTargetIds||[];n=new Sc([],u,o,null)}else{if(!("filter"in t))return Bt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new oR(o,u),d=a.targetId;n=new bE(d,h)}}return n}function yR(i,t){let n;if(t instanceof zl)n={update:ov(i,t.key,t.value)};else if(t instanceof vE)n={delete:qd(i,t.key)};else if(t instanceof Fa)n={update:ov(i,t.key,t.data),updateMask:CR(t.fieldMask)};else{if(!(t instanceof iR))return Bt(16599,{ft:t.type});n={verify:qd(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Dl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Il)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ol)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zc)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw Bt(20930,{transform:h.transform})}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:pR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Bt(27497)}(i,t.precondition)),n}function vR(i,t){return i&&i.length>0?(ue(t!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?Or(o.updateTime):Or(u);return h.isEqual(Ht.min())&&(h=Or(u)),new eR(h,o.transformResults||[])}(n,t))):[]}function ER(i,t){return{documents:[SE(i,t.path)]}}function bR(i,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=SE(i,o);const u=function(g){if(g.length!==0)return xE(lr.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(y=>function(T){return{field:Bs(T.field),direction:AR(T.dir)}}(y))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Bd(i,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function TR(i){let t=gR(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ue(a===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=function(E){const T=CE(E);return T instanceof lr&&eE(T)?T.getFilters():[T]}(n.where));let h=[];n.orderBy&&(h=function(E){return E.map(T=>function(C){return new xl(js(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Kc(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(E){const T=!!E.before,v=E.values||[];return new Uc(v,T)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const T=!E.before,v=E.values||[];return new Uc(v,T)}(n.endAt)),jS(t,o,h,u,d,"F",m,g)}function wR(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function CE(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=js(n.unaryFilter.field);return Be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=js(n.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=js(n.unaryFilter.field);return Be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=js(n.unaryFilter.field);return Be.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}}(i):i.fieldFilter!==void 0?function(n){return Be.create(js(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(a=>CE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}}(n.compositeFilter.op))}(i):Bt(30097,{filter:i})}function AR(i){return hR[i]}function SR(i){return fR[i]}function RR(i){return dR[i]}function Bs(i){return{fieldPath:i.canonicalString()}}function js(i){return un.fromServerFormat(i.fieldPath)}function xE(i){return i instanceof Be?function(n){if(n.op==="=="){if(Ky(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(Yy(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ky(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(Yy(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:SR(n.op),value:n.value}}}(i):i instanceof lr?function(n){const a=n.getFilters().map(o=>xE(o));return a.length===1?a[0]:{compositeFilter:{op:RR(n.op),filters:a}}}(i):Bt(54877,{filter:i})}function CR(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function DE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n,a,o,u=Ht.min(),h=Ht.min(),d=cn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Hi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.wt=t}}function DR(i){const t=TR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.yn=new OR}addToCollectionParentIndex(t,n){return this.yn.add(n),Et.resolve()}getCollectionParents(t,n){return Et.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return Et.resolve()}deleteFieldIndex(t,n){return Et.resolve()}deleteAllFieldIndexes(t){return Et.resolve()}createTargetIndexes(t,n){return Et.resolve()}getDocumentsMatchingTarget(t,n){return Et.resolve(null)}getIndexType(t,n){return Et.resolve(0)}getFieldIndexes(t,n){return Et.resolve([])}getNextCollectionGroupToUpdate(t){return Et.resolve(null)}getMinOffset(t,n){return Et.resolve(Zi.min())}getMinOffsetFromCollectionGroup(t,n){return Et.resolve(Zi.min())}updateCollectionGroup(t,n,a){return Et.resolve()}updateIndexEntries(t,n){return Et.resolve()}}class OR{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new Ke(be.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ke(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IE=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(IE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Xs(0)}static ir(){return new Xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",NR=1048576;function cv([i,t],[n,a]){const o=Kt(i,n);return o===0?Kt(t,a):o}class kR{constructor(t){this.cr=t,this.buffer=new Ke(cv),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();cv(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VR{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){It(uv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?It(uv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Ir(3e5)})}}class MR{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return Et.resolve(Yc.le);const a=new kR(n);return this.Er.forEachTarget(t,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.Er.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(lv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let a,o,u,h,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(a=E,d=Date.now(),this.removeTargets(t,a,n))).next(E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(t,a))).next(E=>(g=Date.now(),Ls()<=ie.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-y}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function UR(i,t){return new MR(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.changes=new Ha(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,gn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Et.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&El(a.mutation,o,or.empty(),Ye.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,Wt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=Wt()){const o=Ma();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let h=ml();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const a=Ma();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,Wt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(t,n,a,o){let u=hi();const h=vl(),d=function(){return vl()}();return n.forEach((m,g)=>{const y=a.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Fa)?u=u.insert(g.key,g):y!==void 0?(h.set(g.key,y.mutation.getFieldMask()),El(y.mutation,g,y.mutation.getFieldMask(),Ye.now())):h.set(g.key,or.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,y)=>h.set(g,y)),n.forEach((g,y)=>{var E;return d.set(g,new LR(y,(E=h.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,n){const a=vl();let o=new Ce((h,d)=>h-d),u=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let y=a.get(m)||or.empty();y=d.applyToLocalView(g,y),a.set(m,y);const E=(o.get(d.batchId)||Wt()).add(m);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=hE();y.forEach(T=>{if(!u.has(T)){const v=_E(n.get(T),a.get(T));v!==null&&E.set(T,v),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return Et.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(h){return zt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):sE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):Et.resolve(Ma());let d=Al,m=u;return h.next(g=>Et.forEach(g,(y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(y)?Et.resolve():this.remoteDocumentCache.getEntry(t,y).next(T=>{m=m.insert(y,T)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Wt())).next(y=>({batchId:d,changes:cE(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new zt(n)).next(a=>{let o=ml();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let h=ml();return this.indexManager.getCollectionParents(t,u).next(d=>Et.forEach(d,m=>{const g=function(E,T){return new io(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(y=>{y.forEach((E,T)=>{h=h.insert(E,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(h=>{u.forEach((m,g)=>{const y=g.getKey();h.get(y)===null&&(h=h.insert(y,gn.newInvalidDocument(y)))});let d=ml();return h.forEach((m,g)=>{const y=u.get(m);y!==void 0&&El(y.mutation,g,or.empty(),Ye.now()),$c(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return Et.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(n)),Et.resolve()}getNamedQuery(t,n){return Et.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:DR(o.bundledQuery),readTime:Or(o.readTime)}}(n)),Et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.overlays=new Ce(zt.comparator),this.Or=new Map}getOverlay(t,n){return Et.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Ma();return Et.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.St(t,n,u)}),Et.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),Et.resolve()}getOverlaysForCollection(t,n,a){const o=Ma(),u=n.length+1,h=new zt(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return Et.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new Ce((g,y)=>g-y);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let y=u.get(g.largestBatchId);y===null&&(y=Ma(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ma(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return Et.resolve(d)}St(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new sR(n,a));let u=this.Or.get(n);u===void 0&&(u=Wt(),this.Or.set(n,u)),this.Or.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return Et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.Nr=new Ke(en.Br),this.Lr=new Ke(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const a=new en(t,n);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.Qr(new en(t,n))}$r(t,n){t.forEach(a=>this.removeReference(a,n))}Ur(t){const n=new zt(new be([])),a=new en(n,t),o=new en(n,t+1),u=[];return this.Lr.forEachInRange([a,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new zt(new be([])),a=new en(n,t),o=new en(n,t+1);let u=Wt();return this.Lr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new en(t,0),a=this.Nr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class en{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return zt.comparator(t.key,n.key)||Kt(t.Gr,n.Gr)}static kr(t,n){return Kt(t.Gr,n.Gr)||zt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ke(en.Br)}checkEmpty(t){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new aR(u,n,a,o);this.mutationQueue.push(h);for(const d of o)this.zr=this.zr.add(new en(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Et.resolve(h)}lookupMutationBatch(t,n){return Et.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Hr(a),u=o<0?0:o;return Et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?cm:this.Jn-1)}getAllMutationBatches(t){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new en(n,0),o=new en(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],h=>{const d=this.jr(h.Gr);u.push(d)}),Et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Ke(Kt);return n.forEach(o=>{const u=new en(o,0),h=new en(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],d=>{a=a.add(d.Gr)})}),Et.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;zt.isDocumentKey(u)||(u=u.child(""));const h=new en(new zt(u),0);let d=new Ke(Kt);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Gr)),!0)},h),Et.resolve(this.Jr(d))}Jr(t){const n=[];return t.forEach(a=>{const o=this.jr(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ue(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return Et.forEach(n.mutations,o=>{const u=new en(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,n){const a=new en(n,0),o=this.zr.firstAfterOrEqual(a);return Et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Et.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.Zr=t,this.docs=function(){return new Ce(zt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.Zr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return Et.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(t,n){let a=hi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():gn.newInvalidDocument(o))}),Et.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=hi();const h=n.path,d=new zt(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||vS(yS(y),a)<=0||(o.has(y.key)||$c(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return Et.resolve(u)}getAllFromCollectionGroup(t,n,a,o){Bt(9500)}Xr(t,n){return Et.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new GR(this)}getSize(t){return Et.resolve(this.size)}}class GR extends zR{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(t,o)):this.vr.removeEntry(a)}),Et.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.persistence=t,this.ei=new Ha(n=>dm(n),mm),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.ti=0,this.ni=new vm,this.targetCount=0,this.ri=Xs.rr()}forEachTarget(t,n){return this.ei.forEach((a,o)=>n(o)),Et.resolve()}getLastRemoteSnapshotVersion(t){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Et.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ti&&(this.ti=n),Et.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new Xs(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,Et.resolve()}updateTargetData(t,n){return this.ar(n),Et.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Et.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.ei.forEach((h,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),Et.waitFor(u).next(()=>o)}getTargetCount(t){return Et.resolve(this.targetCount)}getTargetData(t,n){const a=this.ei.get(n)||null;return Et.resolve(a)}addMatchingKeys(t,n,a){return this.ni.qr(n,a),Et.resolve()}removeMatchingKeys(t,n,a){this.ni.$r(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),Et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),Et.resolve()}getMatchingKeysForTargetId(t,n){const a=this.ni.Wr(n);return Et.resolve(a)}containsKey(t,n){return Et.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,n){this.ii={},this.overlays={},this.si=new Yc(0),this.oi=!1,this.oi=!0,this._i=new qR,this.referenceDelegate=t(this),this.ai=new QR(this),this.indexManager=new IR,this.remoteDocumentCache=function(o){return new FR(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new xR(n),this.ci=new BR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new jR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ii[t.toKey()];return a||(a=new HR(n,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,a){It("MemoryPersistence","Starting transaction:",t);const o=new YR(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,n){return Et.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,n)))}}class YR extends bS{constructor(t){super(),this.currentSequenceNumber=t}}class Em{constructor(t){this.persistence=t,this.Ti=new vm,this.Ii=null}static Ei(t){return new Em(t)}get di(){if(this.Ii)return this.Ii;throw Bt(60996)}addReference(t,n,a){return this.Ti.addReference(a,n),this.di.delete(a.toString()),Et.resolve()}removeReference(t,n,a){return this.Ti.removeReference(a,n),this.di.add(a.toString()),Et.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Et.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.di,a=>{const o=zt.fromPath(a);return this.Ai(t,o).next(u=>{u||n.removeEntry(o,Ht.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return Et.or([()=>Et.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class Pc{constructor(t,n){this.persistence=t,this.Ri=new Ha(a=>AS(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=UR(this,n)}static Ei(t,n){return new Pc(t,n)}li(){}hi(t){return Et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}Vr(t){let n=0;return this.Ar(t,a=>{n++}).next(()=>n)}Ar(t,n){return Et.forEach(this.Ri,(a,o)=>this.gr(t,a,o).next(u=>u?Et.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,h=>this.gr(t,h,n).next(d=>{d||(a++,u.removeEntry(h,Ht.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),Et.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.Ri.set(a,t.currentSequenceNumber),Et.resolve()}removeReference(t,n,a){return this.Ri.set(a,t.currentSequenceNumber),Et.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),Et.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Tc(t.data.value)),n}gr(t,n,a){return Et.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.Ri.get(n);return Et.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.ls=a,this.hs=o}static Ps(t,n){let a=Wt(),o=Wt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bm(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return kw()?8:TS(Ow())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.Rs(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(t,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new KR;return this.fs(t,n,h).next(d=>{if(u.result=d,this.Is)return this.gs(t,n,h,d.size)})}).next(()=>u.result)}gs(t,n,a,o){return a.documentReadCount<this.Es?(Ls()<=ie.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Et.resolve()):(Ls()<=ie.DEBUG&&It("QueryEngine","Query:",Ps(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ls()<=ie.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ir(n))):Et.resolve())}Rs(t,n){if(Wy(n))return Et.resolve(null);let a=Ir(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pd(n,null,"F"),a=Ir(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=Wt(...u);return this.As.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,a).next(m=>{const g=this.ps(n,d);return this.ys(n,g,h,m.readTime)?this.Rs(t,Pd(n,null,"F")):this.ws(t,g,n,m)}))})))}Vs(t,n,a,o){return Wy(n)||o.isEqual(Ht.min())?Et.resolve(null):this.As.getDocuments(t,a).next(u=>{const h=this.ps(n,u);return this.ys(n,h,a,o)?Et.resolve(null):(Ls()<=ie.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ps(n)),this.ws(t,h,n,_S(o,Al)).next(d=>d))})}ps(t,n){let a=new Ke(lE(t));return n.forEach((o,u)=>{$c(t,u)&&(a=a.add(u))}),a}ys(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,n,a){return Ls()<=ie.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.As.getDocumentsMatchingQuery(t,n,Zi.min(),a)}ws(t,n,a,o){return this.As.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="LocalStore",ZR=3e8;class $R{constructor(t,n,a,o){this.persistence=t,this.bs=n,this.serializer=o,this.Ss=new Ce(Kt),this.Ds=new Ha(u=>dm(u),mm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function WR(i,t,n,a){return new $R(i,t,n,a)}async function NE(i,t){const n=Ft(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Fs(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let m=Wt();for(const g of o){h.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(a,m).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:d}))})})}function JR(i,t){const n=Ft(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const E=g.batch,T=E.keys();let v=Et.resolve();return T.forEach(C=>{v=v.next(()=>y.getEntry(m,C)).next(S=>{const R=g.docVersions.get(C);ue(R!==null,48541),S.version.compareTo(R)<0&&(E.applyToRemoteDocument(S,g),S.isValidDocument()&&(S.setReadTime(g.commitVersion),y.addEntry(S)))})}),v.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Wt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function kE(i){const t=Ft(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function tC(i,t){const n=Ft(i),a=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const d=[];t.targetChanges.forEach((y,E)=>{const T=o.get(E);if(!T)return;d.push(n.ai.removeMatchingKeys(u,y.removedDocuments,E).next(()=>n.ai.addMatchingKeys(u,y.addedDocuments,E)));let v=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?v=v.withResumeToken(cn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):y.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(y.resumeToken,a)),o=o.insert(E,v),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=ZR?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(T,v,y)&&d.push(n.ai.updateTargetData(u,v))});let m=hi(),g=Wt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))}),d.push(eC(u,h,t.documentUpdates).next(y=>{m=y.xs,g=y.Os})),!a.isEqual(Ht.min())){const y=n.ai.getLastRemoteSnapshotVersion(u).next(E=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(y)}return Et.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ss=o,u))}function eC(i,t,n){let a=Wt(),o=Wt();return n.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let h=hi();return n.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ht.min())?(t.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),h=h.insert(d,m)):It(Tm,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{xs:h,Os:o}})}function nC(i,t){const n=Ft(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=cm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function rC(i,t){const n=Ft(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.ai.getTargetData(a,t).next(u=>u?(o=u,Et.resolve(o)):n.ai.allocateTargetId(a).next(h=>(o=new Hi(t,h,"TargetPurposeListen",a.currentSequenceNumber),n.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(a.targetId,a),n.Ds.set(t,a.targetId)),a})}async function Fd(i,t,n){const a=Ft(i),o=a.Ss.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ro(h))throw h;It(Tm,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(o.target)}function hv(i,t,n){const a=Ft(i);let o=Ht.min(),u=Wt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,y){const E=Ft(m),T=E.Ds.get(y);return T!==void 0?Et.resolve(E.Ss.get(T)):E.ai.getTargetData(g,y)}(a,h,Ir(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>a.bs.getDocumentsMatchingQuery(h,t,n?o:Ht.min(),n?u:Wt())).next(d=>(iC(a,HS(t),d),{documents:d,Ns:u})))}function iC(i,t,n){let a=i.vs.get(t)||Ht.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.vs.set(t,a)}class fv{constructor(){this.activeTargetIds=XS()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aC{constructor(){this.So=new fv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,a){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new fv,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="ConnectivityMonitor";class mv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){It(dv,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){It(dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Gd(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",oC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lC{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===Vc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(t,n,a,o,u){const h=Gd(),d=this.$o(t,n.toUriEncodedString());It(Ed,`Sending RPC '${t}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,o,u),this.Ko(t,d,m,a).then(g=>(It(Ed,`Received RPC '${t}' ${h}: `,g),g),g=>{throw Gs(Ed,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Wo(t,n,a,o,u,h){return this.Qo(t,n,a,o,u)}Uo(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}$o(t,n){const a=oC[t];return`${this.Lo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class cC extends lC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,a,o){const u=Gd();return new Promise((h,d)=>{const m=new V0;m.setWithCredentials(!0),m.listenOnce(M0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case bc.NO_ERROR:const y=m.getResponseJson();It(mn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(y)),h(y);break;case bc.TIMEOUT:It(mn,`RPC '${t}' ${u} timed out`),d(new Nt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const E=m.getStatus();if(It(mn,`RPC '${t}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const v=T==null?void 0:T.error;if(v&&v.status&&v.message){const C=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(x)>=0?x:bt.UNKNOWN}(v.status);d(new Nt(C,v.message))}else d(new Nt(bt.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Nt(bt.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{s_:t,streamId:u,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{It(mn,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);It(mn,`RPC '${t}' ${u} sending request:`,o),m.send(n,"POST",g,a,15)})}a_(t,n,a){const o=Gd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=L0(),d=z0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const y=u.join("");It(mn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=h.createWebChannel(y,m);let T=!1,v=!1;const C=new uC({Go:R=>{v?It(mn,`Not sending because RPC '${t}' stream ${o} is closed:`,R):(T||(It(mn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),T=!0),It(mn,`RPC '${t}' stream ${o} sending:`,R),E.send(R))},zo:()=>E.close()}),S=(R,x,M)=>{R.listen(x,L=>{try{M(L)}catch(Q){setTimeout(()=>{throw Q},0)}})};return S(E,dl.EventType.OPEN,()=>{v||(It(mn,`RPC '${t}' stream ${o} transport opened.`),C.t_())}),S(E,dl.EventType.CLOSE,()=>{v||(v=!0,It(mn,`RPC '${t}' stream ${o} transport closed`),C.r_())}),S(E,dl.EventType.ERROR,R=>{v||(v=!0,Gs(mn,`RPC '${t}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),C.r_(new Nt(bt.UNAVAILABLE,"The operation could not be completed")))}),S(E,dl.EventType.MESSAGE,R=>{var x;if(!v){const M=R.data[0];ue(!!M,16349);const L=M,Q=(L==null?void 0:L.error)||((x=L[0])===null||x===void 0?void 0:x.error);if(Q){It(mn,`RPC '${t}' stream ${o} received error:`,Q);const Y=Q.status;let rt=function(O){const P=Pe[O];if(P!==void 0)return EE(P)}(Y),z=Q.message;rt===void 0&&(rt=bt.INTERNAL,z="Unknown error status: "+Y+" with message "+Q.message),v=!0,C.r_(new Nt(rt,z)),E.close()}else It(mn,`RPC '${t}' stream ${o} received:`,M),C.i_(M)}}),S(d,U0.STAT_EVENT,R=>{R.stat===Nd.PROXY?It(mn,`RPC '${t}' stream ${o} detected buffering proxy`):R.stat===Nd.NOPROXY&&It(mn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(i){return new mR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,n,a=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=n,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-a);o>0&&It("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="PersistentStream";class ME{constructor(t,n,a,o,u,h,d,m){this.bi=t,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VE(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===bt.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===n&&this.B_(a,o)},a=>{t(()=>{const o=new Nt(bt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(t,n){const a=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return It(pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(It(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hC extends ME{constructor(t,n,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=_R(this.serializer,t),a=function(u){if(!("targetChange"in u))return Ht.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ht.min():h.readTime?Or(h.readTime):Ht.min()}(t);return this.listener.Q_(n,a)}U_(t){const n={};n.database=Hd(this.serializer),n.addTarget=function(u,h){let d;const m=h.target;if(d=zd(m)?{documents:ER(u,m)}:{query:bR(u,m).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=wE(u,h.resumeToken);const g=Bd(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ht.min())>0){d.readTime=Lc(u,h.snapshotVersion.toTimestamp());const g=Bd(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const a=wR(this.serializer,t);a&&(n.labels=a),this.F_(n)}K_(t){const n={};n.database=Hd(this.serializer),n.removeTarget=t,this.F_(n)}}class fC extends ME{constructor(t,n,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return ue(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ue(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){ue(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=vR(t.writeResults,t.commitTime),a=Or(t.commitTime);return this.listener.j_(a,n)}H_(){const t={};t.database=Hd(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>yR(this.serializer,a))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{}class mC extends dC{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Nt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(t,jd(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Nt(bt.UNKNOWN,u.toString())})}Wo(t,n,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(t,jd(n,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Nt(bt.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class pC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ci(n),this.ea=!1):It("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class gC{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{a.enqueueAndForget(async()=>{Ga(this)&&(It(Pa,"Restarting streams for network reachability change."),await async function(m){const g=Ft(m);g.aa.add(4),await Pl(g),g.la.set("Unknown"),g.aa.delete(4),await nh(g)}(this))})}),this.la=new pC(a,o)}}async function nh(i){if(Ga(i))for(const t of i.ua)await t(!0)}async function Pl(i){for(const t of i.ua)await t(!1)}function UE(i,t){const n=Ft(i);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Rm(n)?Sm(n):ao(n).b_()&&Am(n,t))}function wm(i,t){const n=Ft(i),a=ao(n);n._a.delete(t),a.b_()&&zE(n,t),n._a.size===0&&(a.b_()?a.v_():Ga(n)&&n.la.set("Unknown"))}function Am(i,t){if(i.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ao(i).U_(t)}function zE(i,t){i.ha.Ke(t),ao(i).K_(t)}function Sm(i){i.ha=new cR({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i._a.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),ao(i).start(),i.la.ta()}function Rm(i){return Ga(i)&&!ao(i).w_()&&i._a.size>0}function Ga(i){return Ft(i).aa.size===0}function LE(i){i.ha=void 0}async function _C(i){i.la.set("Online")}async function yC(i){i._a.forEach((t,n)=>{Am(i,t)})}async function vC(i,t){LE(i),Rm(i)?(i.la.ia(t),Sm(i)):i.la.set("Unknown")}async function EC(i,t,n){if(i.la.set("Online"),t instanceof TE&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o._a.delete(d),o.ha.removeTarget(d))}(i,t)}catch(a){It(Pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Bc(i,a)}else if(t instanceof Sc?i.ha.Xe(t):t instanceof bE?i.ha.ot(t):i.ha.nt(t),!n.isEqual(Ht.min()))try{const a=await kE(i.localStore);n.compareTo(a)>=0&&await function(u,h){const d=u.ha.It(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=u._a.get(g);y&&u._a.set(g,y.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const y=u._a.get(m);if(!y)return;u._a.set(m,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),zE(u,m);const E=new Hi(y.target,m,g,y.sequenceNumber);Am(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(a){It(Pa,"Failed to raise snapshot:",a),await Bc(i,a)}}async function Bc(i,t,n){if(!ro(t))throw t;i.aa.add(1),await Pl(i),i.la.set("Offline"),n||(n=()=>kE(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{It(Pa,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await nh(i)})}function PE(i,t){return t().catch(n=>Bc(i,n,t))}async function rh(i){const t=Ft(i),n=ta(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:cm;for(;bC(t);)try{const o=await nC(t.localStore,a);if(o===null){t.oa.length===0&&n.v_();break}a=o.batchId,TC(t,o)}catch(o){await Bc(t,o)}BE(t)&&jE(t)}function bC(i){return Ga(i)&&i.oa.length<10}function TC(i,t){i.oa.push(t);const n=ta(i);n.b_()&&n.W_&&n.G_(t.mutations)}function BE(i){return Ga(i)&&!ta(i).w_()&&i.oa.length>0}function jE(i){ta(i).start()}async function wC(i){ta(i).H_()}async function AC(i){const t=ta(i);for(const n of i.oa)t.G_(n.mutations)}async function SC(i,t,n){const a=i.oa.shift(),o=gm.from(a,t,n);await PE(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await rh(i)}async function RC(i,t){t&&ta(i).W_&&await async function(a,o){if(function(h){return lR(h)&&h!==bt.ABORTED}(o.code)){const u=a.oa.shift();ta(a).D_(),await PE(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rh(a)}}(i,t),BE(i)&&jE(i)}async function gv(i,t){const n=Ft(i);n.asyncQueue.verifyOperationInProgress(),It(Pa,"RemoteStore received new credentials");const a=Ga(n);n.aa.add(3),await Pl(n),a&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await nh(n)}async function CC(i,t){const n=Ft(i);t?(n.aa.delete(2),await nh(n)):t||(n.aa.add(2),await Pl(n),n.la.set("Unknown"))}function ao(i){return i.Pa||(i.Pa=function(n,a,o){const u=Ft(n);return u.Y_(),new hC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:_C.bind(null,i),Jo:yC.bind(null,i),Zo:vC.bind(null,i),Q_:EC.bind(null,i)}),i.ua.push(async t=>{t?(i.Pa.D_(),Rm(i)?Sm(i):i.la.set("Unknown")):(await i.Pa.stop(),LE(i))})),i.Pa}function ta(i){return i.Ta||(i.Ta=function(n,a,o){const u=Ft(n);return u.Y_(),new fC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:wC.bind(null,i),Zo:RC.bind(null,i),z_:AC.bind(null,i),j_:SC.bind(null,i)}),i.ua.push(async t=>{t?(i.Ta.D_(),await rh(i)):(await i.Ta.stop(),i.oa.length>0&&(It(Pa,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const h=Date.now()+a,d=new Cm(t,n,h,o,u);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(i,t){if(ci("AsyncQueue",`${t}: ${i}`),ro(i))return new Nt(bt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(t){return new qs(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||zt.comparator(n.key,a.key):(n,a)=>zt.comparator(n.key,a.key),this.keyedMap=ml(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof qs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new qs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.Ia=new Ce(zt.comparator)}track(t){const n=t.doc.key,a=this.Ia.get(n);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(n):t.type===1&&a.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Bt(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,a)=>{t.push(a)}),t}}class Zs{constructor(t,n,a,o,u,h,d,m,g){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,a,o,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new Zs(t,n,qs.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class DC{constructor(){this.queries=yv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,a){const o=Ft(n),u=o.queries;o.queries=yv(),u.forEach((h,d)=>{for(const m of d.Ra)m.onError(a)})})(this,new Nt(bt.ABORTED,"Firestore shutting down"))}}function yv(){return new Ha(i=>oE(i),Zc)}async function IC(i,t){const n=Ft(i);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.Va()&&t.ma()&&(a=2):(u=new xC,a=t.ma()?0:1);try{switch(a){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const d=xm(h,`Initialization of query '${Ps(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.Ra.push(t),t.ga(n.onlineState),u.Aa&&t.pa(u.Aa)&&Dm(n)}async function OC(i,t){const n=Ft(i),a=t.query;let o=3;const u=n.queries.get(a);if(u){const h=u.Ra.indexOf(t);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function NC(i,t){const n=Ft(i);let a=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const d of h.Ra)d.pa(o)&&(a=!0);h.Aa=o}}a&&Dm(n)}function kC(i,t,n){const a=Ft(i),o=a.queries.get(t);if(o)for(const u of o.Ra)u.onError(n);a.queries.delete(t)}function Dm(i){i.fa.forEach(t=>{t.next()})}var Qd,vv;(vv=Qd||(Qd={})).ya="default",vv.Cache="cache";class VC{constructor(t,n,a){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Zs(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const a=n!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Zs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.key=t}}class HE{constructor(t){this.key=t}}class MC{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Wt(),this.mutatedKeys=Wt(),this.Ua=lE(t),this.Ka=new qs(this.Ua)}get Wa(){return this.qa}Ga(t,n){const a=n?n.za:new _v,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,E)=>{const T=o.get(y),v=$c(this.query,E)?E:null,C=!!T&&this.mutatedKeys.has(T.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;T&&v?T.data.isEqual(v.data)?C!==S&&(a.track({type:3,doc:v}),R=!0):this.ja(T,v)||(a.track({type:2,doc:v}),R=!0,(m&&this.Ua(v,m)>0||g&&this.Ua(v,g)<0)&&(d=!0)):!T&&v?(a.track({type:0,doc:v}),R=!0):T&&!v&&(a.track({type:1,doc:T}),R=!0,(m||g)&&(d=!0)),R&&(v?(h=h.add(v),u=S?u.add(y):u.delete(y)):(h=h.delete(y),u=u.delete(y)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const y=this.query.limitType==="F"?h.last():h.first();h=h.delete(y.key),u=u.delete(y.key),a.track({type:1,doc:y})}return{Ka:h,za:a,ys:d,mutatedKeys:u}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const h=t.za.da();h.sort((y,E)=>function(v,C){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Vt:R})}};return S(v)-S(C)}(y.type,E.type)||this.Ua(y.doc,E.doc)),this.Ha(a),o=o!=null&&o;const d=n&&!o?this.Ja():[],m=this.$a.size===0&&this.current&&!o?1:0,g=m!==this.Qa;return this.Qa=m,h.length!==0||g?{snapshot:new Zs(this.query,t.Ka,u,h,t.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _v,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Wt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const n=[];return t.forEach(a=>{this.$a.has(a)||n.push(new HE(a))}),this.$a.forEach(a=>{t.has(a)||n.push(new qE(a))}),n}Xa(t){this.qa=t.Ns,this.$a=Wt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Zs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Im="SyncEngine";class UC{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class zC{constructor(t){this.key=t,this.tu=!1}}class LC{constructor(t,n,a,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Ha(d=>oE(d),Zc),this.iu=new Map,this.su=new Set,this.ou=new Ce(zt.comparator),this._u=new Map,this.au=new vm,this.uu={},this.cu=new Map,this.lu=Xs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function PC(i,t,n=!0){const a=XE(i);let o;const u=a.ru.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await FE(a,t,n,!0),o}async function BC(i,t){const n=XE(i);await FE(n,t,!0,!1)}async function FE(i,t,n,a){const o=await rC(i.localStore,Ir(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return a&&(d=await jC(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&UE(i.remoteStore,o),d}async function jC(i,t,n,a,o){i.Pu=(E,T,v)=>async function(S,R,x,M){let L=R.view.Ga(x);L.ys&&(L=await hv(S.localStore,R.query,!1).then(({documents:z})=>R.view.Ga(z,L)));const Q=M&&M.targetChanges.get(R.targetId),Y=M&&M.targetMismatches.get(R.targetId)!=null,rt=R.view.applyChanges(L,S.isPrimaryClient,Q,Y);return bv(S,R.targetId,rt.Ya),rt.snapshot}(i,E,T,v);const u=await hv(i.localStore,t,!0),h=new MC(t,u.Ns),d=h.Ga(u.documents),m=Ll.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,m);bv(i,n,g.Ya);const y=new UC(t,n,h);return i.ru.set(t,y),i.iu.has(n)?i.iu.get(n).push(t):i.iu.set(n,[t]),g.snapshot}async function qC(i,t,n){const a=Ft(i),o=a.ru.get(t),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(h=>!Zc(h,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Fd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&wm(a.remoteStore,o.targetId),Yd(a,o.targetId)}).catch(no)):(Yd(a,o.targetId),await Fd(a.localStore,o.targetId,!0))}async function HC(i,t){const n=Ft(i),a=n.ru.get(t),o=n.iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),wm(n.remoteStore,a.targetId))}async function FC(i,t,n){const a=$C(i);try{const o=await function(h,d){const m=Ft(h),g=Ye.now(),y=d.reduce((v,C)=>v.add(C.key),Wt());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=hi(),S=Wt();return m.Cs.getEntries(v,y).next(R=>{C=R,C.forEach((x,M)=>{M.isValidDocument()||(S=S.add(x))})}).next(()=>m.localDocuments.getOverlayedDocuments(v,C)).next(R=>{E=R;const x=[];for(const M of d){const L=rR(M,E.get(M.key).overlayedDocument);L!=null&&x.push(new Fa(M.key,L,W0(L.value.mapValue),oi.exists(!0)))}return m.mutationQueue.addMutationBatch(v,g,x,d)}).next(R=>{T=R;const x=R.applyToLocalDocumentSet(E,S);return m.documentOverlayCache.saveOverlays(v,R.batchId,x)})}).then(()=>({batchId:T.batchId,changes:cE(E)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.uu[h.currentUser.toKey()];g||(g=new Ce(Kt)),g=g.insert(d,m),h.uu[h.currentUser.toKey()]=g}(a,o.batchId,n),await Bl(a,o.changes),await rh(a.remoteStore)}catch(o){const u=xm(o,"Failed to persist write");n.reject(u)}}async function GE(i,t){const n=Ft(i);try{const a=await tC(n.localStore,t);t.targetChanges.forEach((o,u)=>{const h=n._u.get(u);h&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?ue(h.tu,14607):o.removedDocuments.size>0&&(ue(h.tu,42227),h.tu=!1))}),await Bl(n,a,t)}catch(a){await no(a)}}function Ev(i,t,n){const a=Ft(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ru.forEach((u,h)=>{const d=h.view.ga(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Ft(h);m.onlineState=d;let g=!1;m.queries.forEach((y,E)=>{for(const T of E.Ra)T.ga(d)&&(g=!0)}),g&&Dm(m)}(a.eventManager,t),o.length&&a.nu.Q_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function GC(i,t,n){const a=Ft(i);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a._u.get(t),u=o&&o.key;if(u){let h=new Ce(zt.comparator);h=h.insert(u,gn.newNoDocument(u,Ht.min()));const d=Wt().add(u),m=new th(Ht.min(),new Map,new Ce(Kt),h,d);await GE(a,m),a.ou=a.ou.remove(u),a._u.delete(t),Om(a)}else await Fd(a.localStore,t,!1).then(()=>Yd(a,t,n)).catch(no)}async function QC(i,t){const n=Ft(i),a=t.batch.batchId;try{const o=await JR(n.localStore,t);YE(n,a,null),QE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Bl(n,o)}catch(o){await no(o)}}async function YC(i,t,n){const a=Ft(i);try{const o=await function(h,d){const m=Ft(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(ue(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(a.localStore,t);YE(a,t,n),QE(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Bl(a,o)}catch(o){await no(o)}}function QE(i,t){(i.cu.get(t)||[]).forEach(n=>{n.resolve()}),i.cu.delete(t)}function YE(i,t,n){const a=Ft(i);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.uu[a.currentUser.toKey()]=o}}function Yd(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.iu.get(t))i.ru.delete(a),n&&i.nu.Tu(a,n);i.iu.delete(t),i.isPrimaryClient&&i.au.Ur(t).forEach(a=>{i.au.containsKey(a)||KE(i,a)})}function KE(i,t){i.su.delete(t.path.canonicalString());const n=i.ou.get(t);n!==null&&(wm(i.remoteStore,n),i.ou=i.ou.remove(t),i._u.delete(n),Om(i))}function bv(i,t,n){for(const a of n)a instanceof qE?(i.au.addReference(a.key,t),KC(i,a)):a instanceof HE?(It(Im,"Document no longer in limbo: "+a.key),i.au.removeReference(a.key,t),i.au.containsKey(a.key)||KE(i,a.key)):Bt(19791,{Iu:a})}function KC(i,t){const n=t.key,a=n.path.canonicalString();i.ou.get(n)||i.su.has(a)||(It(Im,"New document in limbo: "+n),i.su.add(a),Om(i))}function Om(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const t=i.su.values().next().value;i.su.delete(t);const n=new zt(be.fromString(t)),a=i.lu.next();i._u.set(a,new zC(n)),i.ou=i.ou.insert(n,a),UE(i.remoteStore,new Hi(Ir(aE(n.path)),a,"TargetPurposeLimboResolution",Yc.le))}}async function Bl(i,t,n){const a=Ft(i),o=[],u=[],h=[];a.ru.isEmpty()||(a.ru.forEach((d,m)=>{h.push(a.Pu(m,t,n).then(g=>{var y;if((g||n)&&a.isPrimaryClient){const E=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;a.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){o.push(g);const E=bm.Ps(m.targetId,g);u.push(E)}}))}),await Promise.all(h),a.nu.Q_(o),await async function(m,g){const y=Ft(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Et.forEach(g,T=>Et.forEach(T.ls,v=>y.persistence.referenceDelegate.addReference(E,T.targetId,v)).next(()=>Et.forEach(T.hs,v=>y.persistence.referenceDelegate.removeReference(E,T.targetId,v)))))}catch(E){if(!ro(E))throw E;It(Tm,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const v=y.Ss.get(T),C=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(C);y.Ss=y.Ss.insert(T,S)}}}(a.localStore,u))}async function XC(i,t){const n=Ft(i);if(!n.currentUser.isEqual(t)){It(Im,"User change. New user:",t.toKey());const a=await NE(n.localStore,t);n.currentUser=t,function(u,h){u.cu.forEach(d=>{d.forEach(m=>{m.reject(new Nt(bt.CANCELLED,h))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bl(n,a.Ms)}}function ZC(i,t){const n=Ft(i),a=n._u.get(t);if(a&&a.tu)return Wt().add(a.key);{let o=Wt();const u=n.iu.get(t);if(!u)return o;for(const h of u){const d=n.ru.get(h);o=o.unionWith(d.view.Wa)}return o}}function XE(i){const t=Ft(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GC.bind(null,t),t.nu.Q_=NC.bind(null,t.eventManager),t.nu.Tu=kC.bind(null,t.eventManager),t}function $C(i){const t=Ft(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YC.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=eh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return WR(this.persistence,new XR,t.initialUser,this.serializer)}Ru(t){return new OE(Em.Ei,this.serializer)}Au(t){return new aC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class WC extends jc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){ue(this.persistence.referenceDelegate instanceof Pc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new VR(a,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new OE(a=>Pc.Ei(a,n),this.serializer)}}class Kd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=XC.bind(null,this.syncEngine),await CC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DC}()}createDatastore(t){const n=eh(t.databaseInfo.databaseId),a=function(u){return new cC(u)}(t.databaseInfo);return function(u,h,d,m){return new mC(u,h,d,m)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,h,d){return new gC(a,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,n=>Ev(this.syncEngine,n,0),function(){return mv.C()?new mv:new sC}())}createSyncEngine(t,n){return function(o,u,h,d,m,g,y){const E=new LC(o,u,h,d,m,g);return y&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Ft(o);It(Pa,"RemoteStore shutting down."),u.aa.add(5),await Pl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ci("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class tx{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{It(ea,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(It(ea,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=xm(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Td(i,t){i.asyncQueue.verifyOperationInProgress(),It(ea,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await NE(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function Tv(i,t){i.asyncQueue.verifyOperationInProgress();const n=await ex(i);It(ea,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(a=>gv(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>gv(t.remoteStore,o)),i._onlineComponents=t}async function ex(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){It(ea,"Using user provided OfflineComponentProvider");try{await Td(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===bt.FAILED_PRECONDITION||o.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await Td(i,new jc)}}else It(ea,"Using default OfflineComponentProvider"),await Td(i,new WC(void 0));return i._offlineComponents}async function ZE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(It(ea,"Using user provided OnlineComponentProvider"),await Tv(i,i._uninitializedComponentsProvider._online)):(It(ea,"Using default OnlineComponentProvider"),await Tv(i,new Kd))),i._onlineComponents}function nx(i){return ZE(i).then(t=>t.syncEngine)}async function rx(i){const t=await ZE(i),n=t.eventManager;return n.onListen=PC.bind(null,t.syncEngine),n.onUnlisten=qC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=BC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=HC.bind(null,t.syncEngine),n}function ix(i,t,n={}){const a=new Ki;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const y=new JC({next:T=>{y.yu(),h.enqueueAndForget(()=>OC(u,E)),T.fromCache&&m.source==="server"?g.reject(new Nt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new VC(d,y,{includeMetadataChanges:!0,Fa:!0});return IC(u,E)}(await rx(i),i.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i,t,n){if(!n)throw new Nt(bt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function ax(i,t,n,a){if(t===!0&&a===!0)throw new Nt(bt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Av(i){if(!zt.isDocumentKey(i))throw new Nt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Sv(i){if(zt.isDocumentKey(i))throw new Nt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ih(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Bt(12329,{type:typeof i})}function qc(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Nt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(i);throw new Nt(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firestore.googleapis.com",Rv=!0;class Cv{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Nt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=Rv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Rv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NR)throw new Nt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ax("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ah{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Nt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new lS;switch(a.type){case"firstParty":return new fS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Nt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=wv.get(n);a&&(It("ComponentProvider","Removing Datastore"),wv.delete(n),a.terminate())}(this),Promise.resolve()}}function sx(i,t,n,a={}){var o;const u=(i=qc(i,ah))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${t}:${n}`;u.host!==JE&&u.host!==d&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:a});if(!Ic(m,h)&&(i._setSettings(m),a.mockUserToken)){let g,y;if(typeof a.mockUserToken=="string")g=a.mockUserToken,y=pn.MOCK_USER;else{g=e0(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new Nt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(E)}i._authCredentials=new uS(new B0(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Qa(this.firestore,t,this._query)}}class er{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new er(this.firestore,t,this._key)}}class Xi extends Qa{constructor(t,n,a){super(t,n,aE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new er(this.firestore,null,new zt(t))}withConverter(t){return new Xi(this.firestore,t,this._path)}}function tb(i,t,...n){if(i=kr(i),WE("collection","path",t),i instanceof ah){const a=be.fromString(t,...n);return Sv(a),new Xi(i,null,a)}{if(!(i instanceof er||i instanceof Xi))throw new Nt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(be.fromString(t,...n));return Sv(a),new Xi(i.firestore,null,a)}}function ox(i,t,...n){if(i=kr(i),arguments.length===1&&(t=q0.newId()),WE("doc","path",t),i instanceof ah){const a=be.fromString(t,...n);return Av(a),new er(i,null,new zt(a))}{if(!(i instanceof er||i instanceof Xi))throw new Nt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(be.fromString(t,...n));return Av(a),new er(i.firestore,i instanceof Xi?i.converter:null,new zt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VE(this,"async_queue_retry"),this.ju=()=>{const a=bd();a&&It(xv,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ki;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ro(t))throw t;It(xv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,ci("INTERNAL UNHANDLED ERROR: ",Iv(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=n,n}enqueueAfterDelay(t,n,a){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const o=Cm.createAndSchedule(this,t,n,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Bt(47125,{ec:Iv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function Iv(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Nm extends ah{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new Dv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function lx(i,t){const n=typeof i=="object"?i:c0(),a=typeof i=="string"?i:Vc,o=s0(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Jv("firestore");u&&sx(o,...u)}return o}function eb(i){if(i._terminated)throw new Nt(bt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ux(i),i._firestoreClient}function ux(i){var t,n,a;const o=i._freezeSettings(),u=function(d,m,g,y){return new CS(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,$E(y.experimentalLongPollingOptions),y.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new tx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $s(cn.fromBase64String(t))}catch(n){throw new Nt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $s(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Nt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Nt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=/^__.*__$/;class hx{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Fa(t,this.data,this.fieldMask,n,this.fieldTransforms):new zl(t,this.data,n,this.fieldTransforms)}}function nb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{oc:i})}}class zm{constructor(t,n,a,o,u,h){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new zm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:a,cc:!1});return o.lc(t),o}hc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Hc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(nb(this.oc)&&cx.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class fx{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||eh(t)}dc(t,n,a,o=!1){return new zm({oc:t,methodName:n,Ec:a,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rb(i){const t=i._freezeSettings(),n=eh(i._databaseId);return new fx(i._databaseId,!!t.ignoreUndefinedProperties,n)}function dx(i,t,n,a,o,u={}){const h=i.dc(u.merge||u.mergeFields?2:0,t,n,o);sb("Data must be an object, but it was:",h,a);const d=ib(a,h);let m,g;if(u.merge)m=new or(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const y=[];for(const E of u.mergeFields){const T=px(t,E,n);if(!h.contains(T))throw new Nt(bt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);_x(y,T)||y.push(T)}m=new or(y),g=h.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=h.fieldTransforms;return new hx(new tr(d),m,g)}class Lm extends Vm{_toFieldTransform(t){return new JS(t.path,new Dl)}isEqual(t){return t instanceof Lm}}function mx(i,t,n,a=!1){return Pm(n,i.dc(a?4:3,t))}function Pm(i,t){if(ab(i=kr(i)))return sb("Unsupported field value:",t,i),ib(i,t);if(i instanceof Vm)return function(a,o){if(!nb(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let m=Pm(d,o.Pc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,t)}return function(a,o){if((a=kr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ZS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ye.fromDate(a);return{timestampValue:Lc(o.serializer,u)}}if(a instanceof Ye){const u=new Ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,u)}}if(a instanceof Mm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $s)return{bytesValue:wE(o.serializer,a._byteString)};if(a instanceof er){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ym(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Um)return function(h,d){return{mapValue:{fields:{[Z0]:{stringValue:$0},[Mc]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return pm(d.serializer,g)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${ih(a)}`)}(i,t)}function ib(i,t){const n={};return F0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qa(i,(a,o)=>{const u=Pm(o,t.uc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ab(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ye||i instanceof Mm||i instanceof $s||i instanceof er||i instanceof Vm||i instanceof Um)}function sb(i,t,n){if(!ab(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=ih(n);throw a==="an object"?t.Tc(i+" a custom object"):t.Tc(i+" "+a)}}function px(i,t,n){if((t=kr(t))instanceof km)return t._internalPath;if(typeof t=="string")return ob(i,t);throw Hc("Field path arguments must be of type string or ",i,!1,void 0,n)}const gx=new RegExp("[~\\*/\\[\\]]");function ob(i,t,n){if(t.search(gx)>=0)throw Hc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new km(...t.split("."))._internalPath}catch{throw Hc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Hc(i,t,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new Nt(bt.INVALID_ARGUMENT,d+i+m)}function _x(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Bm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yx extends lb{data(){return super.data()}}function Bm(i,t){return typeof t=="string"?ob(i,t):t instanceof km?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Nt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class ub extends jm{}function Ex(i,t,...n){let a=[];t instanceof jm&&a.push(t),a=a.concat(n),function(u){const h=u.filter(m=>m instanceof Hm).length,d=u.filter(m=>m instanceof qm).length;if(h>1||h>0&&d>0)throw new Nt(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class qm extends ub{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new qm(t,n,a)}_apply(t){const n=this._parse(t);return cb(t._query,n),new Qa(t.firestore,t.converter,Ld(t._query,n))}_parse(t){const n=rb(t.firestore);return function(u,h,d,m,g,y,E){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Nt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Nv(E,y);const C=[];for(const S of E)C.push(Ov(m,u,S));T={arrayValue:{values:C}}}else T=Ov(m,u,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Nv(E,y),T=mx(d,h,E,y==="in"||y==="not-in");return Be.create(g,y,T)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Hm extends jm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hm(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const m of d)cb(h,m),h=Ld(h,m)}(t._query,n),new Qa(t.firestore,t.converter,Ld(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends ub{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Fm(t,n)}_apply(t){const n=function(o,u,h){if(o.startAt!==null)throw new Nt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Nt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(u,h)}(t._query,this._field,this._direction);return new Qa(t.firestore,t.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new io(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function bx(i,t="asc"){const n=t,a=Bm("orderBy",i);return Fm._create(a,n)}function Ov(i,t,n){if(typeof(n=kr(n))=="string"){if(n==="")throw new Nt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sE(t)&&n.indexOf("/")!==-1)throw new Nt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(be.fromString(n));if(!zt.isDocumentKey(a))throw new Nt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Qy(i,new zt(a))}if(n instanceof er)return Qy(i,n._key);throw new Nt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function Nv(i,t){if(!Array.isArray(i)||i.length===0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cb(i,t){const n=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Nt(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Nt(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Tx{convertValue(t,n="none"){switch(Ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return qa(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[Mc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Ve(h.doubleValue));return new Um(u)}convertGeoPoint(t){return new Mm(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Xc(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const n=$i(t);return new Ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=be.fromString(t);ue(DE(a),9688,{name:t});const o=new Rl(a.get(1),a.get(3)),u=new zt(a.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i,t,n){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ax extends lb{constructor(t,n,a,o,u,h){super(t,n,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Bm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Rc extends Ax{data(t={}){return super.data(t)}}class Sx{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new Rc(this._firestore,this._userDataWriter,a.key,a,new gc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Nt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),y=h.indexOf(d.doc.key)),{type:Rx(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:i})}}class Cx extends Tx{constructor(t){super(),this.firestore=t}convertBytes(t){return new $s(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new er(this.firestore,null,n)}}function xx(i){i=qc(i,Qa);const t=qc(i.firestore,Nm),n=eb(t),a=new Cx(t);return vx(i._query),ix(n,i._query).then(o=>new Sx(t,a,i,o))}function Dx(i,t){const n=qc(i.firestore,Nm),a=ox(i),o=wx(i.converter,t);return Ix(n,[dx(rb(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,oi.exists(!1))]).then(()=>a)}function Ix(i,t){return function(a,o){const u=new Ki;return a.asyncQueue.enqueueAndForget(async()=>FC(await nx(a),o,u)),u.promise}(eb(i),t)}function Ox(){return new Lm("serverTimestamp")}(function(t,n=!0){(function(o){eo=o})(l0),Tl(new Fs("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new Nm(new cS(a.getProvider("auth-internal")),new dS(h,a.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Nt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(g.options.projectId,y)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Qi(Vy,My,t),Qi(Vy,My,"esm2017")})();var Nx="firebase",kx="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(Nx,kx,"app");const Vx={apiKey:"AIzaSyCQ-_8ha7wclvst5wNT9cscp2vAFWZs1Cs",authDomain:"wedding-media-app.firebaseapp.com",projectId:"wedding-media-app",storageBucket:"wedding-media-app.firebasestorage.app",messagingSenderId:"593636961208",appId:"1:593636961208:web:52f4670e2024e8d3d3fd4d"},hb=u0(Vx),Mx=iS(hb),fb=lx(hb);function Ux(){const[i,t]=mt.useState([]),[n,a]=mt.useState([]),[o,u]=mt.useState(""),[h,d]=mt.useState(""),[m,g]=mt.useState(!1),[y,E]=mt.useState(0),[T,v]=mt.useState(!1),C=R=>{const x=Array.from(R.target.files||[]);t(x),a(x.map(M=>({url:URL.createObjectURL(M),type:M.type})))},S=async()=>{if(!i.length)return;g(!0),E(0);let R=0;await Promise.all(i.map(async x=>{const M=rS(Mx,`uploads/${Date.now()}-${x.name}`),L=eS(M,x);return new Promise((Q,Y)=>{L.on("state_changed",rt=>{Math.round(rt.bytesTransferred/rt.totalBytes*100),E(Math.round(++R/i.length*100))},rt=>{console.error("Upload error:",rt),Y(rt)},async()=>{const rt=await nS(L.snapshot.ref);await Dx(tb(fb,"uploads"),{url:rt,name:x.name,type:x.type,guestName:o.trim()||null,caption:h.trim()||null,createdAt:Ox()}),Q()})})})),g(!1),v(!0),t([]),a([]),d(""),u(""),E(0)};return Ot.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-300 via-white to-blue-200 p-6",children:[Ot.jsxs(Hs,{to:"/",className:"md:fixed md:top-6 md:left-6 z-50 animate-fade-in inline-flex items-center gap-2 bg-white text-blue-600 border border-blue-300 hover:bg-blue-50 hover:border-blue-500 font-medium px-4 py-2 rounded-full shadow transition mb-4",children:[Ot.jsx("span",{className:"text-lg",children:"←"}),"Home"]}),Ot.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[Ot.jsx("h1",{className:"text-3xl font-heading mb-6",children:"📤 Upload Your Memories"}),Ot.jsx("input",{type:"text",value:o,onChange:R=>u(R.target.value),placeholder:"Your name (optional)",className:"mb-3 px-4 py-2 border rounded w-full font-body"}),Ot.jsx("textarea",{value:h,onChange:R=>d(R.target.value),placeholder:"Optional message or caption",rows:2,className:"mb-4 px-4 py-2 border rounded w-full resize-none font-body"}),Ot.jsx("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:C,className:"mb-4"}),Ot.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:n.map((R,x)=>Ot.jsx("div",{className:"max-w-xs max-h-60 overflow-hidden rounded shadow",children:R.type.startsWith("image")?Ot.jsx("img",{src:R.url,alt:"preview",className:"w-full h-full object-cover"}):Ot.jsx("video",{src:R.url,controls:!0,className:"w-full h-full object-cover"})},x))}),Ot.jsx("button",{onClick:S,disabled:m||!i.length,className:"bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-full disabled:opacity-50 font-semibold",children:m?`Uploading... ${y}%`:"Upload"})]}),T&&Ot.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:Ot.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md text-center shadow-lg relative",children:[Ot.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-3 text-gray-500 text-xl font-bold",children:"×"}),Ot.jsx("h2",{className:"text-2xl font-heading mb-4",children:"🎉 Thank you!"}),Ot.jsx("p",{className:"text-gray-600 mb-4",children:"Your memory has been uploaded."}),n.length>0&&Ot.jsx("div",{className:"space-y-3",children:n.map((R,x)=>Ot.jsx("div",{className:"rounded overflow-hidden",children:R.type.startsWith("image")?Ot.jsx("img",{src:R.url,alt:"preview",className:"w-full rounded"}):Ot.jsx("video",{src:R.url,controls:!0,className:"w-full rounded"})},x))})]})})]})}function _c(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wd={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var kv;function zx(){return kv||(kv=1,function(i,t){(function(n){i.exports=n()})(function(){return function n(a,o,u){function h(g,y){if(!o[g]){if(!a[g]){var E=typeof _c=="function"&&_c;if(!y&&E)return E(g,!0);if(d)return d(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var v=o[g]={exports:{}};a[g][0].call(v.exports,function(C){var S=a[g][1][C];return h(S||C)},v,v.exports,n,a,o,u)}return o[g].exports}for(var d=typeof _c=="function"&&_c,m=0;m<u.length;m++)h(u[m]);return h}({1:[function(n,a,o){var u=n("./utils"),h=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(m){for(var g,y,E,T,v,C,S,R=[],x=0,M=m.length,L=M,Q=u.getTypeOf(m)!=="string";x<m.length;)L=M-x,E=Q?(g=m[x++],y=x<M?m[x++]:0,x<M?m[x++]:0):(g=m.charCodeAt(x++),y=x<M?m.charCodeAt(x++):0,x<M?m.charCodeAt(x++):0),T=g>>2,v=(3&g)<<4|y>>4,C=1<L?(15&y)<<2|E>>6:64,S=2<L?63&E:64,R.push(d.charAt(T)+d.charAt(v)+d.charAt(C)+d.charAt(S));return R.join("")},o.decode=function(m){var g,y,E,T,v,C,S=0,R=0,x="data:";if(m.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var M,L=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===d.charAt(64)&&L--,m.charAt(m.length-2)===d.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=h.uint8array?new Uint8Array(0|L):new Array(0|L);S<m.length;)g=d.indexOf(m.charAt(S++))<<2|(T=d.indexOf(m.charAt(S++)))>>4,y=(15&T)<<4|(v=d.indexOf(m.charAt(S++)))>>2,E=(3&v)<<6|(C=d.indexOf(m.charAt(S++))),M[R++]=g,v!==64&&(M[R++]=y),C!==64&&(M[R++]=E);return M}},{"./support":30,"./utils":32}],2:[function(n,a,o){var u=n("./external"),h=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),m=n("./stream/DataLengthProbe");function g(y,E,T,v,C){this.compressedSize=y,this.uncompressedSize=E,this.crc32=T,this.compression=v,this.compressedContent=C}g.prototype={getContentWorker:function(){var y=new h(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),E=this;return y.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new h(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(y,E,T){return y.pipe(new d).pipe(new m("uncompressedSize")).pipe(E.compressWorker(T)).pipe(new m("compressedSize")).withStreamInfo("compression",E)},a.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,a,o){var u=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,a,o){var u=n("./utils"),h=function(){for(var d,m=[],g=0;g<256;g++){d=g;for(var y=0;y<8;y++)d=1&d?3988292384^d>>>1:d>>>1;m[g]=d}return m}();a.exports=function(d,m){return d!==void 0&&d.length?u.getTypeOf(d)!=="string"?function(g,y,E,T){var v=h,C=T+E;g^=-1;for(var S=T;S<C;S++)g=g>>>8^v[255&(g^y[S])];return-1^g}(0|m,d,d.length,0):function(g,y,E,T){var v=h,C=T+E;g^=-1;for(var S=T;S<C;S++)g=g>>>8^v[255&(g^y.charCodeAt(S))];return-1^g}(0|m,d,d.length,0):0}},{"./utils":32}],5:[function(n,a,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,a,o){var u=null;u=typeof Promise<"u"?Promise:n("lie"),a.exports={Promise:u}},{lie:37}],7:[function(n,a,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=n("pako"),d=n("./utils"),m=n("./stream/GenericWorker"),g=u?"uint8array":"array";function y(E,T){m.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=T,this.meta={}}o.magic="\b\0",d.inherits(y,m),y.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(g,E.data),!1)},y.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(T){E.push({data:T,meta:E.meta})}},o.compressWorker=function(E){return new y("Deflate",E)},o.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,a,o){function u(v,C){var S,R="";for(S=0;S<C;S++)R+=String.fromCharCode(255&v),v>>>=8;return R}function h(v,C,S,R,x,M){var L,Q,Y=v.file,rt=v.compression,z=M!==g.utf8encode,k=d.transformTo("string",M(Y.name)),O=d.transformTo("string",g.utf8encode(Y.name)),P=Y.comment,F=d.transformTo("string",M(P)),I=d.transformTo("string",g.utf8encode(P)),V=O.length!==Y.name.length,D=I.length!==P.length,ct="",tt="",W="",wt=Y.dir,ft=Y.date,q={crc32:0,compressedSize:0,uncompressedSize:0};C&&!S||(q.crc32=v.crc32,q.compressedSize=v.compressedSize,q.uncompressedSize=v.uncompressedSize);var H=0;C&&(H|=8),z||!V&&!D||(H|=2048);var K=0,ot=0;wt&&(K|=16),x==="UNIX"?(ot=798,K|=function(_t,Dt){var Jt=_t;return _t||(Jt=Dt?16893:33204),(65535&Jt)<<16}(Y.unixPermissions,wt)):(ot=20,K|=function(_t){return 63&(_t||0)}(Y.dosPermissions)),L=ft.getUTCHours(),L<<=6,L|=ft.getUTCMinutes(),L<<=5,L|=ft.getUTCSeconds()/2,Q=ft.getUTCFullYear()-1980,Q<<=4,Q|=ft.getUTCMonth()+1,Q<<=5,Q|=ft.getUTCDate(),V&&(tt=u(1,1)+u(y(k),4)+O,ct+="up"+u(tt.length,2)+tt),D&&(W=u(1,1)+u(y(F),4)+I,ct+="uc"+u(W.length,2)+W);var dt="";return dt+=`
\0`,dt+=u(H,2),dt+=rt.magic,dt+=u(L,2),dt+=u(Q,2),dt+=u(q.crc32,4),dt+=u(q.compressedSize,4),dt+=u(q.uncompressedSize,4),dt+=u(k.length,2),dt+=u(ct.length,2),{fileRecord:E.LOCAL_FILE_HEADER+dt+k+ct,dirRecord:E.CENTRAL_FILE_HEADER+u(ot,2)+dt+u(F.length,2)+"\0\0\0\0"+u(K,4)+u(R,4)+k+ct+F}}var d=n("../utils"),m=n("../stream/GenericWorker"),g=n("../utf8"),y=n("../crc32"),E=n("../signature");function T(v,C,S,R){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=S,this.encodeFileName=R,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(T,m),T.prototype.push=function(v){var C=v.meta.percent||0,S=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,m.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:S?(C+100*(S-R-1))/S:100}}))},T.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var C=this.streamFiles&&!v.file.dir;if(C){var S=h(v,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},T.prototype.closedSource=function(v){this.accumulate=!1;var C=this.streamFiles&&!v.file.dir,S=h(v,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),C)this.push({data:function(R){return E.DATA_DESCRIPTOR+u(R.crc32,4)+u(R.compressedSize,4)+u(R.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},T.prototype.flush=function(){for(var v=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var S=this.bytesWritten-v,R=function(x,M,L,Q,Y){var rt=d.transformTo("string",Y(Q));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(x,2)+u(x,2)+u(M,4)+u(L,4)+u(rt.length,2)+rt}(this.dirRecords.length,S,v,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},T.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},T.prototype.registerPrevious=function(v){this._sources.push(v);var C=this;return v.on("data",function(S){C.processChunk(S)}),v.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),v.on("error",function(S){C.error(S)}),this},T.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},T.prototype.error=function(v){var C=this._sources;if(!m.prototype.error.call(this,v))return!1;for(var S=0;S<C.length;S++)try{C[S].error(v)}catch{}return!0},T.prototype.lock=function(){m.prototype.lock.call(this);for(var v=this._sources,C=0;C<v.length;C++)v[C].lock()},a.exports=T},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,a,o){var u=n("../compressions"),h=n("./ZipFileWorker");o.generateWorker=function(d,m,g){var y=new h(m.streamFiles,g,m.platform,m.encodeFileName),E=0;try{d.forEach(function(T,v){E++;var C=function(M,L){var Q=M||L,Y=u[Q];if(!Y)throw new Error(Q+" is not a valid compression method !");return Y}(v.options.compression,m.compression),S=v.options.compressionOptions||m.compressionOptions||{},R=v.dir,x=v.date;v._compressWorker(C,S).withStreamInfo("file",{name:T,dir:R,date:x,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(y)}),y.entriesCount=E}catch(T){y.error(T)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,a,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new u;for(var d in this)typeof this[d]!="function"&&(h[d]=this[d]);return h}}(u.prototype=n("./object")).loadAsync=n("./load"),u.support=n("./support"),u.defaults=n("./defaults"),u.version="3.10.1",u.loadAsync=function(h,d){return new u().loadAsync(h,d)},u.external=n("./external"),a.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,a,o){var u=n("./utils"),h=n("./external"),d=n("./utf8"),m=n("./zipEntries"),g=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function E(T){return new h.Promise(function(v,C){var S=T.decompressed.getContentWorker().pipe(new g);S.on("error",function(R){C(R)}).on("end",function(){S.streamInfo.crc32!==T.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}a.exports=function(T,v){var C=this;return v=u.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),y.isNode&&y.isStream(T)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",T,!0,v.optimizedBinaryString,v.base64).then(function(S){var R=new m(v);return R.load(S),R}).then(function(S){var R=[h.Promise.resolve(S)],x=S.files;if(v.checkCRC32)for(var M=0;M<x.length;M++)R.push(E(x[M]));return h.Promise.all(R)}).then(function(S){for(var R=S.shift(),x=R.files,M=0;M<x.length;M++){var L=x[M],Q=L.fileNameStr,Y=u.resolve(L.fileNameStr);C.file(Y,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:v.createFolders}),L.dir||(C.file(Y).unsafeOriginalName=Q)}return R.zipComment.length&&(C.comment=R.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,a,o){var u=n("../utils"),h=n("../stream/GenericWorker");function d(m,g){h.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(g)}u.inherits(d,h),d.prototype._bindStream=function(m){var g=this;(this._stream=m).pause(),m.on("data",function(y){g.push({data:y,meta:{percent:0}})}).on("error",function(y){g.isPaused?this.generatedError=y:g.error(y)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},d.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,a,o){var u=n("readable-stream").Readable;function h(d,m,g){u.call(this,m),this._helper=d;var y=this;d.on("data",function(E,T){y.push(E)||y._helper.pause(),g&&g(T)}).on("error",function(E){y.emit("error",E)}).on("end",function(){y.push(null)})}n("../utils").inherits(h,u),h.prototype._read=function(){this._helper.resume()},a.exports=h},{"../utils":32,"readable-stream":16}],14:[function(n,a,o){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,h);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,h)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var h=new Buffer(u);return h.fill(0),h},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(n,a,o){function u(Y,rt,z){var k,O=d.getTypeOf(rt),P=d.extend(z||{},y);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(Y=x(Y)),P.createFolders&&(k=R(Y))&&M.call(this,k,!0);var F=O==="string"&&P.binary===!1&&P.base64===!1;z&&z.binary!==void 0||(P.binary=!F),(rt instanceof E&&rt.uncompressedSize===0||P.dir||!rt||rt.length===0)&&(P.base64=!1,P.binary=!0,rt="",P.compression="STORE",O="string");var I=null;I=rt instanceof E||rt instanceof m?rt:C.isNode&&C.isStream(rt)?new S(Y,rt):d.prepareContent(Y,rt,P.binary,P.optimizedBinaryString,P.base64);var V=new T(Y,I,P);this.files[Y]=V}var h=n("./utf8"),d=n("./utils"),m=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),y=n("./defaults"),E=n("./compressedObject"),T=n("./zipObject"),v=n("./generate"),C=n("./nodejsUtils"),S=n("./nodejs/NodejsStreamInputAdapter"),R=function(Y){Y.slice(-1)==="/"&&(Y=Y.substring(0,Y.length-1));var rt=Y.lastIndexOf("/");return 0<rt?Y.substring(0,rt):""},x=function(Y){return Y.slice(-1)!=="/"&&(Y+="/"),Y},M=function(Y,rt){return rt=rt!==void 0?rt:y.createFolders,Y=x(Y),this.files[Y]||u.call(this,Y,null,{dir:!0,createFolders:rt}),this.files[Y]};function L(Y){return Object.prototype.toString.call(Y)==="[object RegExp]"}var Q={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Y){var rt,z,k;for(rt in this.files)k=this.files[rt],(z=rt.slice(this.root.length,rt.length))&&rt.slice(0,this.root.length)===this.root&&Y(z,k)},filter:function(Y){var rt=[];return this.forEach(function(z,k){Y(z,k)&&rt.push(k)}),rt},file:function(Y,rt,z){if(arguments.length!==1)return Y=this.root+Y,u.call(this,Y,rt,z),this;if(L(Y)){var k=Y;return this.filter(function(P,F){return!F.dir&&k.test(P)})}var O=this.files[this.root+Y];return O&&!O.dir?O:null},folder:function(Y){if(!Y)return this;if(L(Y))return this.filter(function(O,P){return P.dir&&Y.test(O)});var rt=this.root+Y,z=M.call(this,rt),k=this.clone();return k.root=z.name,k},remove:function(Y){Y=this.root+Y;var rt=this.files[Y];if(rt||(Y.slice(-1)!=="/"&&(Y+="/"),rt=this.files[Y]),rt&&!rt.dir)delete this.files[Y];else for(var z=this.filter(function(O,P){return P.name.slice(0,Y.length)===Y}),k=0;k<z.length;k++)delete this.files[z[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Y){var rt,z={};try{if((z=d.extend(Y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");d.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var k=z.comment||this.comment||"";rt=v.generateWorker(this,z,k)}catch(O){(rt=new m("error")).error(O)}return new g(rt,z.type||"string",z.mimeType)},generateAsync:function(Y,rt){return this.generateInternalStream(Y).accumulate(rt)},generateNodeStream:function(Y,rt){return(Y=Y||{}).type||(Y.type="nodebuffer"),this.generateInternalStream(Y).toNodejsStream(rt)}};a.exports=Q},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,a,o){a.exports=n("stream")},{stream:void 0}],17:[function(n,a,o){var u=n("./DataReader");function h(d){u.call(this,d);for(var m=0;m<this.data.length;m++)d[m]=255&d[m]}n("../utils").inherits(h,u),h.prototype.byteAt=function(d){return this.data[this.zero+d]},h.prototype.lastIndexOfSignature=function(d){for(var m=d.charCodeAt(0),g=d.charCodeAt(1),y=d.charCodeAt(2),E=d.charCodeAt(3),T=this.length-4;0<=T;--T)if(this.data[T]===m&&this.data[T+1]===g&&this.data[T+2]===y&&this.data[T+3]===E)return T-this.zero;return-1},h.prototype.readAndCheckSignature=function(d){var m=d.charCodeAt(0),g=d.charCodeAt(1),y=d.charCodeAt(2),E=d.charCodeAt(3),T=this.readData(4);return m===T[0]&&g===T[1]&&y===T[2]&&E===T[3]},h.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},a.exports=h},{"../utils":32,"./DataReader":18}],18:[function(n,a,o){var u=n("../utils");function h(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var m,g=0;for(this.checkOffset(d),m=this.index+d-1;m>=this.index;m--)g=(g<<8)+this.byteAt(m);return this.index+=d,g},readString:function(d){return u.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},a.exports=h},{"../utils":32}],19:[function(n,a,o){var u=n("./Uint8ArrayReader");function h(d){u.call(this,d)}n("../utils").inherits(h,u),h.prototype.readData=function(d){this.checkOffset(d);var m=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},a.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,a,o){var u=n("./DataReader");function h(d){u.call(this,d)}n("../utils").inherits(h,u),h.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},h.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},h.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},h.prototype.readData=function(d){this.checkOffset(d);var m=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},a.exports=h},{"../utils":32,"./DataReader":18}],21:[function(n,a,o){var u=n("./ArrayReader");function h(d){u.call(this,d)}n("../utils").inherits(h,u),h.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},a.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(n,a,o){var u=n("../utils"),h=n("../support"),d=n("./ArrayReader"),m=n("./StringReader"),g=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");a.exports=function(E){var T=u.getTypeOf(E);return u.checkSupport(T),T!=="string"||h.uint8array?T==="nodebuffer"?new g(E):h.uint8array?new y(u.transformTo("uint8array",E)):new d(u.transformTo("array",E)):new m(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,a,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,a,o){var u=n("./GenericWorker"),h=n("../utils");function d(m){u.call(this,"ConvertWorker to "+m),this.destType=m}h.inherits(d,u),d.prototype.processChunk=function(m){this.push({data:h.transformTo(this.destType,m.data),meta:m.meta})},a.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,a,o){var u=n("./GenericWorker"),h=n("../crc32");function d(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,u),d.prototype.processChunk=function(m){this.streamInfo.crc32=h(m.data,this.streamInfo.crc32||0),this.push(m)},a.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,a,o){var u=n("../utils"),h=n("./GenericWorker");function d(m){h.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}u.inherits(d,h),d.prototype.processChunk=function(m){if(m){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+m.data.length}h.prototype.processChunk.call(this,m)},a.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,a,o){var u=n("../utils"),h=n("./GenericWorker");function d(m){h.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(y){g.dataIsReady=!0,g.data=y,g.max=y&&y.length||0,g.type=u.getTypeOf(y),g.isPaused||g._tickAndRepeat()},function(y){g.error(y)})}u.inherits(d,h),d.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,g);break;case"uint8array":m=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":m=this.data.slice(this.index,g)}return this.index=g,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,a,o){function u(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,d){return this._listeners[h].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,d){if(this._listeners[h])for(var m=0;m<this._listeners[h].length;m++)this._listeners[h][m].call(this,d)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var d=this;return h.on("data",function(m){d.processChunk(m)}),h.on("end",function(){d.end()}),h.on("error",function(m){d.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,d){return this.extraStreamInfo[h]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},a.exports=u},{}],29:[function(n,a,o){var u=n("../utils"),h=n("./ConvertWorker"),d=n("./GenericWorker"),m=n("../base64"),g=n("../support"),y=n("../external"),E=null;if(g.nodestream)try{E=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function T(C,S){return new y.Promise(function(R,x){var M=[],L=C._internalType,Q=C._outputType,Y=C._mimeType;C.on("data",function(rt,z){M.push(rt),S&&S(z)}).on("error",function(rt){M=[],x(rt)}).on("end",function(){try{var rt=function(z,k,O){switch(z){case"blob":return u.newBlob(u.transformTo("arraybuffer",k),O);case"base64":return m.encode(k);default:return u.transformTo(z,k)}}(Q,function(z,k){var O,P=0,F=null,I=0;for(O=0;O<k.length;O++)I+=k[O].length;switch(z){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(F=new Uint8Array(I),O=0;O<k.length;O++)F.set(k[O],P),P+=k[O].length;return F;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+z+"'")}}(L,M),Y);R(rt)}catch(z){x(z)}M=[]}).resume()})}function v(C,S,R){var x=S;switch(S){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=S,this._mimeType=R,u.checkSupport(x),this._worker=C.pipe(new h(x)),C.lock()}catch(M){this._worker=new d("error"),this._worker.error(M)}}v.prototype={accumulate:function(C){return T(this,C)},on:function(C,S){var R=this;return C==="data"?this._worker.on(C,function(x){S.call(R,x.data,x.meta)}):this._worker.on(C,function(){u.delay(S,arguments,R)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},C)}},a.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,a,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(u),o.blob=h.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,a,o){for(var u=n("./utils"),h=n("./support"),d=n("./nodejsUtils"),m=n("./stream/GenericWorker"),g=new Array(256),y=0;y<256;y++)g[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;g[254]=g[254]=1;function E(){m.call(this,"utf-8 decode"),this.leftOver=null}function T(){m.call(this,"utf-8 encode")}o.utf8encode=function(v){return h.nodebuffer?d.newBufferFrom(v,"utf-8"):function(C){var S,R,x,M,L,Q=C.length,Y=0;for(M=0;M<Q;M++)(64512&(R=C.charCodeAt(M)))==55296&&M+1<Q&&(64512&(x=C.charCodeAt(M+1)))==56320&&(R=65536+(R-55296<<10)+(x-56320),M++),Y+=R<128?1:R<2048?2:R<65536?3:4;for(S=h.uint8array?new Uint8Array(Y):new Array(Y),M=L=0;L<Y;M++)(64512&(R=C.charCodeAt(M)))==55296&&M+1<Q&&(64512&(x=C.charCodeAt(M+1)))==56320&&(R=65536+(R-55296<<10)+(x-56320),M++),R<128?S[L++]=R:(R<2048?S[L++]=192|R>>>6:(R<65536?S[L++]=224|R>>>12:(S[L++]=240|R>>>18,S[L++]=128|R>>>12&63),S[L++]=128|R>>>6&63),S[L++]=128|63&R);return S}(v)},o.utf8decode=function(v){return h.nodebuffer?u.transformTo("nodebuffer",v).toString("utf-8"):function(C){var S,R,x,M,L=C.length,Q=new Array(2*L);for(S=R=0;S<L;)if((x=C[S++])<128)Q[R++]=x;else if(4<(M=g[x]))Q[R++]=65533,S+=M-1;else{for(x&=M===2?31:M===3?15:7;1<M&&S<L;)x=x<<6|63&C[S++],M--;1<M?Q[R++]=65533:x<65536?Q[R++]=x:(x-=65536,Q[R++]=55296|x>>10&1023,Q[R++]=56320|1023&x)}return Q.length!==R&&(Q.subarray?Q=Q.subarray(0,R):Q.length=R),u.applyFromCharCode(Q)}(v=u.transformTo(h.uint8array?"uint8array":"array",v))},u.inherits(E,m),E.prototype.processChunk=function(v){var C=u.transformTo(h.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var S=C;(C=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),C.set(S,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var R=function(M,L){var Q;for((L=L||M.length)>M.length&&(L=M.length),Q=L-1;0<=Q&&(192&M[Q])==128;)Q--;return Q<0||Q===0?L:Q+g[M[Q]]>L?Q:L}(C),x=C;R!==C.length&&(h.uint8array?(x=C.subarray(0,R),this.leftOver=C.subarray(R,C.length)):(x=C.slice(0,R),this.leftOver=C.slice(R,C.length))),this.push({data:o.utf8decode(x),meta:v.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=E,u.inherits(T,m),T.prototype.processChunk=function(v){this.push({data:o.utf8encode(v.data),meta:v.meta})},o.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,a,o){var u=n("./support"),h=n("./base64"),d=n("./nodejsUtils"),m=n("./external");function g(S){return S}function y(S,R){for(var x=0;x<S.length;++x)R[x]=255&S.charCodeAt(x);return R}n("setimmediate"),o.newBlob=function(S,R){o.checkSupport("blob");try{return new Blob([S],{type:R})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(S),x.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(S,R,x){var M=[],L=0,Q=S.length;if(Q<=x)return String.fromCharCode.apply(null,S);for(;L<Q;)R==="array"||R==="nodebuffer"?M.push(String.fromCharCode.apply(null,S.slice(L,Math.min(L+x,Q)))):M.push(String.fromCharCode.apply(null,S.subarray(L,Math.min(L+x,Q)))),L+=x;return M.join("")},stringifyByChar:function(S){for(var R="",x=0;x<S.length;x++)R+=String.fromCharCode(S[x]);return R},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function T(S){var R=65536,x=o.getTypeOf(S),M=!0;if(x==="uint8array"?M=E.applyCanBeUsed.uint8array:x==="nodebuffer"&&(M=E.applyCanBeUsed.nodebuffer),M)for(;1<R;)try{return E.stringifyByChunk(S,x,R)}catch{R=Math.floor(R/2)}return E.stringifyByChar(S)}function v(S,R){for(var x=0;x<S.length;x++)R[x]=S[x];return R}o.applyFromCharCode=T;var C={};C.string={string:g,array:function(S){return y(S,new Array(S.length))},arraybuffer:function(S){return C.string.uint8array(S).buffer},uint8array:function(S){return y(S,new Uint8Array(S.length))},nodebuffer:function(S){return y(S,d.allocBuffer(S.length))}},C.array={string:T,array:g,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return d.newBufferFrom(S)}},C.arraybuffer={string:function(S){return T(new Uint8Array(S))},array:function(S){return v(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:g,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return d.newBufferFrom(new Uint8Array(S))}},C.uint8array={string:T,array:function(S){return v(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:g,nodebuffer:function(S){return d.newBufferFrom(S)}},C.nodebuffer={string:T,array:function(S){return v(S,new Array(S.length))},arraybuffer:function(S){return C.nodebuffer.uint8array(S).buffer},uint8array:function(S){return v(S,new Uint8Array(S.length))},nodebuffer:g},o.transformTo=function(S,R){if(R=R||"",!S)return R;o.checkSupport(S);var x=o.getTypeOf(R);return C[x][S](R)},o.resolve=function(S){for(var R=S.split("/"),x=[],M=0;M<R.length;M++){var L=R[M];L==="."||L===""&&M!==0&&M!==R.length-1||(L===".."?x.pop():x.push(L))}return x.join("/")},o.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":u.nodebuffer&&d.isBuffer(S)?"nodebuffer":u.uint8array&&S instanceof Uint8Array?"uint8array":u.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(S){if(!u[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(S){var R,x,M="";for(x=0;x<(S||"").length;x++)M+="\\x"+((R=S.charCodeAt(x))<16?"0":"")+R.toString(16).toUpperCase();return M},o.delay=function(S,R,x){setImmediate(function(){S.apply(x||null,R||[])})},o.inherits=function(S,R){function x(){}x.prototype=R.prototype,S.prototype=new x},o.extend=function(){var S,R,x={};for(S=0;S<arguments.length;S++)for(R in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],R)&&x[R]===void 0&&(x[R]=arguments[S][R]);return x},o.prepareContent=function(S,R,x,M,L){return m.Promise.resolve(R).then(function(Q){return u.blob&&(Q instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Q))!==-1)&&typeof FileReader<"u"?new m.Promise(function(Y,rt){var z=new FileReader;z.onload=function(k){Y(k.target.result)},z.onerror=function(k){rt(k.target.error)},z.readAsArrayBuffer(Q)}):Q}).then(function(Q){var Y=o.getTypeOf(Q);return Y?(Y==="arraybuffer"?Q=o.transformTo("uint8array",Q):Y==="string"&&(L?Q=h.decode(Q):x&&M!==!0&&(Q=function(rt){return y(rt,u.uint8array?new Uint8Array(rt.length):new Array(rt.length))}(Q))),Q):m.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,a,o){var u=n("./reader/readerFor"),h=n("./utils"),d=n("./signature"),m=n("./zipEntry"),g=n("./support");function y(E){this.files=[],this.loadOptions=E}y.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(T)+", expected "+h.pretty(E)+")")}},isSignature:function(E,T){var v=this.reader.index;this.reader.setIndex(E);var C=this.reader.readString(4)===T;return this.reader.setIndex(v),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),T=g.uint8array?"uint8array":"array",v=h.transformTo(T,E);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,T,v,C=this.zip64EndOfCentralSize-44;0<C;)E=this.reader.readInt(2),T=this.reader.readInt(4),v=this.reader.readData(T),this.zip64ExtensibleData[E]={id:E,length:T,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,T;for(E=0;E<this.files.length;E++)T=this.files[E],this.reader.setIndex(T.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(E=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var T=E;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var C=T-v;if(0<C)this.isSignature(T,d.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(E){this.reader=u(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,a,o){var u=n("./reader/readerFor"),h=n("./utils"),d=n("./compressedObject"),m=n("./crc32"),g=n("./utf8"),y=n("./compressions"),E=n("./support");function T(v,C){this.options=v,this.loadOptions=C}T.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var C,S;if(v.skip(22),this.fileNameLength=v.readInt(2),S=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((C=function(R){for(var x in y)if(Object.prototype.hasOwnProperty.call(y,x)&&y[x].magic===R)return y[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,C,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var C=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(C),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=u(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var C,S,R,x=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<x;)C=v.readInt(2),S=v.readInt(2),R=v.readData(S),this.extraFields[C]={id:C,length:S,value:R};v.setIndex(x)},handleUTF8:function(){var v=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(C!==null)this.fileNameStr=C;else{var S=h.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var x=h.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var C=u(v.value);return C.readInt(1)!==1||m(this.fileName)!==C.readInt(4)?null:g.utf8decode(C.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var C=u(v.value);return C.readInt(1)!==1||m(this.fileComment)!==C.readInt(4)?null:g.utf8decode(C.readData(v.length-5))}return null}},a.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,a,o){function u(C,S,R){this.name=C,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=S,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var h=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),m=n("./utf8"),g=n("./compressedObject"),y=n("./stream/GenericWorker");u.prototype={internalStream:function(C){var S=null,R="string";try{if(!C)throw new Error("No output type specified.");var x=(R=C.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),S=this._decompressWorker();var M=!this._dataBinary;M&&!x&&(S=S.pipe(new m.Utf8EncodeWorker)),!M&&x&&(S=S.pipe(new m.Utf8DecodeWorker))}catch(L){(S=new y("error")).error(L)}return new h(S,R,"")},async:function(C,S){return this.internalStream(C).accumulate(S)},nodeStream:function(C,S){return this.internalStream(C||"nodebuffer").toNodejsStream(S)},_compressWorker:function(C,S){if(this._data instanceof g&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new m.Utf8EncodeWorker)),g.createWorkerFrom(R,C,S)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof y?this._data:new d(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<E.length;v++)u.prototype[E[v]]=T;a.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,a,o){(function(u){var h,d,m=u.MutationObserver||u.WebKitMutationObserver;if(m){var g=0,y=new m(C),E=u.document.createTextNode("");y.observe(E,{characterData:!0}),h=function(){E.data=g=++g%2}}else if(u.setImmediate||u.MessageChannel===void 0)h="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var S=u.document.createElement("script");S.onreadystatechange=function(){C(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},u.document.documentElement.appendChild(S)}:function(){setTimeout(C,0)};else{var T=new u.MessageChannel;T.port1.onmessage=C,h=function(){T.port2.postMessage(0)}}var v=[];function C(){var S,R;d=!0;for(var x=v.length;x;){for(R=v,v=[],S=-1;++S<x;)R[S]();x=v.length}d=!1}a.exports=function(S){v.push(S)!==1||d||h()}}).call(this,typeof qi<"u"?qi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,a,o){var u=n("immediate");function h(){}var d={},m=["REJECTED"],g=["FULFILLED"],y=["PENDING"];function E(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,x!==h&&S(this,x)}function T(x,M,L){this.promise=x,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function v(x,M,L){u(function(){var Q;try{Q=M(L)}catch(Y){return d.reject(x,Y)}Q===x?d.reject(x,new TypeError("Cannot resolve promise with itself")):d.resolve(x,Q)})}function C(x){var M=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof M=="function")return function(){M.apply(x,arguments)}}function S(x,M){var L=!1;function Q(z){L||(L=!0,d.reject(x,z))}function Y(z){L||(L=!0,d.resolve(x,z))}var rt=R(function(){M(Y,Q)});rt.status==="error"&&Q(rt.value)}function R(x,M){var L={};try{L.value=x(M),L.status="success"}catch(Q){L.status="error",L.value=Q}return L}(a.exports=E).prototype.finally=function(x){if(typeof x!="function")return this;var M=this.constructor;return this.then(function(L){return M.resolve(x()).then(function(){return L})},function(L){return M.resolve(x()).then(function(){throw L})})},E.prototype.catch=function(x){return this.then(null,x)},E.prototype.then=function(x,M){if(typeof x!="function"&&this.state===g||typeof M!="function"&&this.state===m)return this;var L=new this.constructor(h);return this.state!==y?v(L,this.state===g?x:M,this.outcome):this.queue.push(new T(L,x,M)),L},T.prototype.callFulfilled=function(x){d.resolve(this.promise,x)},T.prototype.otherCallFulfilled=function(x){v(this.promise,this.onFulfilled,x)},T.prototype.callRejected=function(x){d.reject(this.promise,x)},T.prototype.otherCallRejected=function(x){v(this.promise,this.onRejected,x)},d.resolve=function(x,M){var L=R(C,M);if(L.status==="error")return d.reject(x,L.value);var Q=L.value;if(Q)S(x,Q);else{x.state=g,x.outcome=M;for(var Y=-1,rt=x.queue.length;++Y<rt;)x.queue[Y].callFulfilled(M)}return x},d.reject=function(x,M){x.state=m,x.outcome=M;for(var L=-1,Q=x.queue.length;++L<Q;)x.queue[L].callRejected(M);return x},E.resolve=function(x){return x instanceof this?x:d.resolve(new this(h),x)},E.reject=function(x){var M=new this(h);return d.reject(M,x)},E.all=function(x){var M=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=x.length,Q=!1;if(!L)return this.resolve([]);for(var Y=new Array(L),rt=0,z=-1,k=new this(h);++z<L;)O(x[z],z);return k;function O(P,F){M.resolve(P).then(function(I){Y[F]=I,++rt!==L||Q||(Q=!0,d.resolve(k,Y))},function(I){Q||(Q=!0,d.reject(k,I))})}},E.race=function(x){var M=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=x.length,Q=!1;if(!L)return this.resolve([]);for(var Y=-1,rt=new this(h);++Y<L;)z=x[Y],M.resolve(z).then(function(k){Q||(Q=!0,d.resolve(rt,k))},function(k){Q||(Q=!0,d.reject(rt,k))});var z;return rt}},{immediate:36}],38:[function(n,a,o){var u={};(0,n("./lib/utils/common").assign)(u,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),a.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,a,o){var u=n("./zlib/deflate"),h=n("./utils/common"),d=n("./utils/strings"),m=n("./zlib/messages"),g=n("./zlib/zstream"),y=Object.prototype.toString,E=0,T=-1,v=0,C=8;function S(x){if(!(this instanceof S))return new S(x);this.options=h.assign({level:T,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},x||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var L=u.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(L!==E)throw new Error(m[L]);if(M.header&&u.deflateSetHeader(this.strm,M.header),M.dictionary){var Q;if(Q=typeof M.dictionary=="string"?d.string2buf(M.dictionary):y.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(L=u.deflateSetDictionary(this.strm,Q))!==E)throw new Error(m[L]);this._dict_set=!0}}function R(x,M){var L=new S(M);if(L.push(x,!0),L.err)throw L.msg||m[L.err];return L.result}S.prototype.push=function(x,M){var L,Q,Y=this.strm,rt=this.options.chunkSize;if(this.ended)return!1;Q=M===~~M?M:M===!0?4:0,typeof x=="string"?Y.input=d.string2buf(x):y.call(x)==="[object ArrayBuffer]"?Y.input=new Uint8Array(x):Y.input=x,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new h.Buf8(rt),Y.next_out=0,Y.avail_out=rt),(L=u.deflate(Y,Q))!==1&&L!==E)return this.onEnd(L),!(this.ended=!0);Y.avail_out!==0&&(Y.avail_in!==0||Q!==4&&Q!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(h.shrinkBuf(Y.output,Y.next_out))):this.onData(h.shrinkBuf(Y.output,Y.next_out)))}while((0<Y.avail_in||Y.avail_out===0)&&L!==1);return Q===4?(L=u.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===E):Q!==2||(this.onEnd(E),!(Y.avail_out=0))},S.prototype.onData=function(x){this.chunks.push(x)},S.prototype.onEnd=function(x){x===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},o.Deflate=S,o.deflate=R,o.deflateRaw=function(x,M){return(M=M||{}).raw=!0,R(x,M)},o.gzip=function(x,M){return(M=M||{}).gzip=!0,R(x,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,a,o){var u=n("./zlib/inflate"),h=n("./utils/common"),d=n("./utils/strings"),m=n("./zlib/constants"),g=n("./zlib/messages"),y=n("./zlib/zstream"),E=n("./zlib/gzheader"),T=Object.prototype.toString;function v(S){if(!(this instanceof v))return new v(S);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},S||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||S&&S.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&(15&R.windowBits)==0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var x=u.inflateInit2(this.strm,R.windowBits);if(x!==m.Z_OK)throw new Error(g[x]);this.header=new E,u.inflateGetHeader(this.strm,this.header)}function C(S,R){var x=new v(R);if(x.push(S,!0),x.err)throw x.msg||g[x.err];return x.result}v.prototype.push=function(S,R){var x,M,L,Q,Y,rt,z=this.strm,k=this.options.chunkSize,O=this.options.dictionary,P=!1;if(this.ended)return!1;M=R===~~R?R:R===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof S=="string"?z.input=d.binstring2buf(S):T.call(S)==="[object ArrayBuffer]"?z.input=new Uint8Array(S):z.input=S,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new h.Buf8(k),z.next_out=0,z.avail_out=k),(x=u.inflate(z,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&O&&(rt=typeof O=="string"?d.string2buf(O):T.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,x=u.inflateSetDictionary(this.strm,rt)),x===m.Z_BUF_ERROR&&P===!0&&(x=m.Z_OK,P=!1),x!==m.Z_STREAM_END&&x!==m.Z_OK)return this.onEnd(x),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&x!==m.Z_STREAM_END&&(z.avail_in!==0||M!==m.Z_FINISH&&M!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=d.utf8border(z.output,z.next_out),Q=z.next_out-L,Y=d.buf2string(z.output,L),z.next_out=Q,z.avail_out=k-Q,Q&&h.arraySet(z.output,z.output,L,Q,0),this.onData(Y)):this.onData(h.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(P=!0)}while((0<z.avail_in||z.avail_out===0)&&x!==m.Z_STREAM_END);return x===m.Z_STREAM_END&&(M=m.Z_FINISH),M===m.Z_FINISH?(x=u.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===m.Z_OK):M!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(z.avail_out=0))},v.prototype.onData=function(S){this.chunks.push(S)},v.prototype.onEnd=function(S){S===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},o.Inflate=v,o.inflate=C,o.inflateRaw=function(S,R){return(R=R||{}).raw=!0,C(S,R)},o.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,a,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(m){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var E in y)y.hasOwnProperty(E)&&(m[E]=y[E])}}return m},o.shrinkBuf=function(m,g){return m.length===g?m:m.subarray?m.subarray(0,g):(m.length=g,m)};var h={arraySet:function(m,g,y,E,T){if(g.subarray&&m.subarray)m.set(g.subarray(y,y+E),T);else for(var v=0;v<E;v++)m[T+v]=g[y+v]},flattenChunks:function(m){var g,y,E,T,v,C;for(g=E=0,y=m.length;g<y;g++)E+=m[g].length;for(C=new Uint8Array(E),g=T=0,y=m.length;g<y;g++)v=m[g],C.set(v,T),T+=v.length;return C}},d={arraySet:function(m,g,y,E,T){for(var v=0;v<E;v++)m[T+v]=g[y+v]},flattenChunks:function(m){return[].concat.apply([],m)}};o.setTyped=function(m){m?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,h)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,d))},o.setTyped(u)},{}],42:[function(n,a,o){var u=n("./common"),h=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var m=new u.Buf8(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function y(E,T){if(T<65537&&(E.subarray&&d||!E.subarray&&h))return String.fromCharCode.apply(null,u.shrinkBuf(E,T));for(var v="",C=0;C<T;C++)v+=String.fromCharCode(E[C]);return v}m[254]=m[254]=1,o.string2buf=function(E){var T,v,C,S,R,x=E.length,M=0;for(S=0;S<x;S++)(64512&(v=E.charCodeAt(S)))==55296&&S+1<x&&(64512&(C=E.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(C-56320),S++),M+=v<128?1:v<2048?2:v<65536?3:4;for(T=new u.Buf8(M),S=R=0;R<M;S++)(64512&(v=E.charCodeAt(S)))==55296&&S+1<x&&(64512&(C=E.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(C-56320),S++),v<128?T[R++]=v:(v<2048?T[R++]=192|v>>>6:(v<65536?T[R++]=224|v>>>12:(T[R++]=240|v>>>18,T[R++]=128|v>>>12&63),T[R++]=128|v>>>6&63),T[R++]=128|63&v);return T},o.buf2binstring=function(E){return y(E,E.length)},o.binstring2buf=function(E){for(var T=new u.Buf8(E.length),v=0,C=T.length;v<C;v++)T[v]=E.charCodeAt(v);return T},o.buf2string=function(E,T){var v,C,S,R,x=T||E.length,M=new Array(2*x);for(v=C=0;v<x;)if((S=E[v++])<128)M[C++]=S;else if(4<(R=m[S]))M[C++]=65533,v+=R-1;else{for(S&=R===2?31:R===3?15:7;1<R&&v<x;)S=S<<6|63&E[v++],R--;1<R?M[C++]=65533:S<65536?M[C++]=S:(S-=65536,M[C++]=55296|S>>10&1023,M[C++]=56320|1023&S)}return y(M,C)},o.utf8border=function(E,T){var v;for((T=T||E.length)>E.length&&(T=E.length),v=T-1;0<=v&&(192&E[v])==128;)v--;return v<0||v===0?T:v+m[E[v]]>T?v:T}},{"./common":41}],43:[function(n,a,o){a.exports=function(u,h,d,m){for(var g=65535&u|0,y=u>>>16&65535|0,E=0;d!==0;){for(d-=E=2e3<d?2e3:d;y=y+(g=g+h[m++]|0)|0,--E;);g%=65521,y%=65521}return g|y<<16|0}},{}],44:[function(n,a,o){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,a,o){var u=function(){for(var h,d=[],m=0;m<256;m++){h=m;for(var g=0;g<8;g++)h=1&h?3988292384^h>>>1:h>>>1;d[m]=h}return d}();a.exports=function(h,d,m,g){var y=u,E=g+m;h^=-1;for(var T=g;T<E;T++)h=h>>>8^y[255&(h^d[T])];return-1^h}},{}],46:[function(n,a,o){var u,h=n("../utils/common"),d=n("./trees"),m=n("./adler32"),g=n("./crc32"),y=n("./messages"),E=0,T=4,v=0,C=-2,S=-1,R=4,x=2,M=8,L=9,Q=286,Y=30,rt=19,z=2*Q+1,k=15,O=3,P=258,F=P+O+1,I=42,V=113,D=1,ct=2,tt=3,W=4;function wt(A,pt){return A.msg=y[pt],pt}function ft(A){return(A<<1)-(4<A?9:0)}function q(A){for(var pt=A.length;0<=--pt;)A[pt]=0}function H(A){var pt=A.state,ut=pt.pending;ut>A.avail_out&&(ut=A.avail_out),ut!==0&&(h.arraySet(A.output,pt.pending_buf,pt.pending_out,ut,A.next_out),A.next_out+=ut,pt.pending_out+=ut,A.total_out+=ut,A.avail_out-=ut,pt.pending-=ut,pt.pending===0&&(pt.pending_out=0))}function K(A,pt){d._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,pt),A.block_start=A.strstart,H(A.strm)}function ot(A,pt){A.pending_buf[A.pending++]=pt}function dt(A,pt){A.pending_buf[A.pending++]=pt>>>8&255,A.pending_buf[A.pending++]=255&pt}function _t(A,pt){var ut,j,B=A.max_chain_length,Z=A.strstart,vt=A.prev_length,Tt=A.nice_match,it=A.strstart>A.w_size-F?A.strstart-(A.w_size-F):0,At=A.window,xt=A.w_mask,St=A.prev,Ct=A.strstart+P,Ut=At[Z+vt-1],jt=At[Z+vt];A.prev_length>=A.good_match&&(B>>=2),Tt>A.lookahead&&(Tt=A.lookahead);do if(At[(ut=pt)+vt]===jt&&At[ut+vt-1]===Ut&&At[ut]===At[Z]&&At[++ut]===At[Z+1]){Z+=2,ut++;do;while(At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&At[++Z]===At[++ut]&&Z<Ct);if(j=P-(Ct-Z),Z=Ct-P,vt<j){if(A.match_start=pt,Tt<=(vt=j))break;Ut=At[Z+vt-1],jt=At[Z+vt]}}while((pt=St[pt&xt])>it&&--B!=0);return vt<=A.lookahead?vt:A.lookahead}function Dt(A){var pt,ut,j,B,Z,vt,Tt,it,At,xt,St=A.w_size;do{if(B=A.window_size-A.lookahead-A.strstart,A.strstart>=St+(St-F)){for(h.arraySet(A.window,A.window,St,St,0),A.match_start-=St,A.strstart-=St,A.block_start-=St,pt=ut=A.hash_size;j=A.head[--pt],A.head[pt]=St<=j?j-St:0,--ut;);for(pt=ut=St;j=A.prev[--pt],A.prev[pt]=St<=j?j-St:0,--ut;);B+=St}if(A.strm.avail_in===0)break;if(vt=A.strm,Tt=A.window,it=A.strstart+A.lookahead,At=B,xt=void 0,xt=vt.avail_in,At<xt&&(xt=At),ut=xt===0?0:(vt.avail_in-=xt,h.arraySet(Tt,vt.input,vt.next_in,xt,it),vt.state.wrap===1?vt.adler=m(vt.adler,Tt,xt,it):vt.state.wrap===2&&(vt.adler=g(vt.adler,Tt,xt,it)),vt.next_in+=xt,vt.total_in+=xt,xt),A.lookahead+=ut,A.lookahead+A.insert>=O)for(Z=A.strstart-A.insert,A.ins_h=A.window[Z],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Z+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Z+O-1])&A.hash_mask,A.prev[Z&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Z,Z++,A.insert--,!(A.lookahead+A.insert<O)););}while(A.lookahead<F&&A.strm.avail_in!==0)}function Jt(A,pt){for(var ut,j;;){if(A.lookahead<F){if(Dt(A),A.lookahead<F&&pt===E)return D;if(A.lookahead===0)break}if(ut=0,A.lookahead>=O&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+O-1])&A.hash_mask,ut=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),ut!==0&&A.strstart-ut<=A.w_size-F&&(A.match_length=_t(A,ut)),A.match_length>=O)if(j=d._tr_tally(A,A.strstart-A.match_start,A.match_length-O),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=O){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+O-1])&A.hash_mask,ut=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else j=d._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(j&&(K(A,!1),A.strm.avail_out===0))return D}return A.insert=A.strstart<O-1?A.strstart:O-1,pt===T?(K(A,!0),A.strm.avail_out===0?tt:W):A.last_lit&&(K(A,!1),A.strm.avail_out===0)?D:ct}function Vt(A,pt){for(var ut,j,B;;){if(A.lookahead<F){if(Dt(A),A.lookahead<F&&pt===E)return D;if(A.lookahead===0)break}if(ut=0,A.lookahead>=O&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+O-1])&A.hash_mask,ut=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=O-1,ut!==0&&A.prev_length<A.max_lazy_match&&A.strstart-ut<=A.w_size-F&&(A.match_length=_t(A,ut),A.match_length<=5&&(A.strategy===1||A.match_length===O&&4096<A.strstart-A.match_start)&&(A.match_length=O-1)),A.prev_length>=O&&A.match_length<=A.prev_length){for(B=A.strstart+A.lookahead-O,j=d._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-O),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=B&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+O-1])&A.hash_mask,ut=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=O-1,A.strstart++,j&&(K(A,!1),A.strm.avail_out===0))return D}else if(A.match_available){if((j=d._tr_tally(A,0,A.window[A.strstart-1]))&&K(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return D}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(j=d._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<O-1?A.strstart:O-1,pt===T?(K(A,!0),A.strm.avail_out===0?tt:W):A.last_lit&&(K(A,!1),A.strm.avail_out===0)?D:ct}function Gt(A,pt,ut,j,B){this.good_length=A,this.max_lazy=pt,this.nice_length=ut,this.max_chain=j,this.func=B}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*z),this.dyn_dtree=new h.Buf16(2*(2*Y+1)),this.bl_tree=new h.Buf16(2*(2*rt+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(k+1),this.heap=new h.Buf16(2*Q+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*Q+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(A){var pt;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=x,(pt=A.state).pending=0,pt.pending_out=0,pt.wrap<0&&(pt.wrap=-pt.wrap),pt.status=pt.wrap?I:V,A.adler=pt.wrap===2?0:1,pt.last_flush=E,d._tr_init(pt),v):wt(A,C)}function Xe(A){var pt=se(A);return pt===v&&function(ut){ut.window_size=2*ut.w_size,q(ut.head),ut.max_lazy_match=u[ut.level].max_lazy,ut.good_match=u[ut.level].good_length,ut.nice_match=u[ut.level].nice_length,ut.max_chain_length=u[ut.level].max_chain,ut.strstart=0,ut.block_start=0,ut.lookahead=0,ut.insert=0,ut.match_length=ut.prev_length=O-1,ut.match_available=0,ut.ins_h=0}(A.state),pt}function je(A,pt,ut,j,B,Z){if(!A)return C;var vt=1;if(pt===S&&(pt=6),j<0?(vt=0,j=-j):15<j&&(vt=2,j-=16),B<1||L<B||ut!==M||j<8||15<j||pt<0||9<pt||Z<0||R<Z)return wt(A,C);j===8&&(j=9);var Tt=new ye;return(A.state=Tt).strm=A,Tt.wrap=vt,Tt.gzhead=null,Tt.w_bits=j,Tt.w_size=1<<Tt.w_bits,Tt.w_mask=Tt.w_size-1,Tt.hash_bits=B+7,Tt.hash_size=1<<Tt.hash_bits,Tt.hash_mask=Tt.hash_size-1,Tt.hash_shift=~~((Tt.hash_bits+O-1)/O),Tt.window=new h.Buf8(2*Tt.w_size),Tt.head=new h.Buf16(Tt.hash_size),Tt.prev=new h.Buf16(Tt.w_size),Tt.lit_bufsize=1<<B+6,Tt.pending_buf_size=4*Tt.lit_bufsize,Tt.pending_buf=new h.Buf8(Tt.pending_buf_size),Tt.d_buf=1*Tt.lit_bufsize,Tt.l_buf=3*Tt.lit_bufsize,Tt.level=pt,Tt.strategy=Z,Tt.method=ut,Xe(A)}u=[new Gt(0,0,0,0,function(A,pt){var ut=65535;for(ut>A.pending_buf_size-5&&(ut=A.pending_buf_size-5);;){if(A.lookahead<=1){if(Dt(A),A.lookahead===0&&pt===E)return D;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var j=A.block_start+ut;if((A.strstart===0||A.strstart>=j)&&(A.lookahead=A.strstart-j,A.strstart=j,K(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-F&&(K(A,!1),A.strm.avail_out===0))return D}return A.insert=0,pt===T?(K(A,!0),A.strm.avail_out===0?tt:W):(A.strstart>A.block_start&&(K(A,!1),A.strm.avail_out),D)}),new Gt(4,4,8,4,Jt),new Gt(4,5,16,8,Jt),new Gt(4,6,32,32,Jt),new Gt(4,4,16,16,Vt),new Gt(8,16,32,32,Vt),new Gt(8,16,128,128,Vt),new Gt(8,32,128,256,Vt),new Gt(32,128,258,1024,Vt),new Gt(32,258,258,4096,Vt)],o.deflateInit=function(A,pt){return je(A,pt,M,15,8,0)},o.deflateInit2=je,o.deflateReset=Xe,o.deflateResetKeep=se,o.deflateSetHeader=function(A,pt){return A&&A.state?A.state.wrap!==2?C:(A.state.gzhead=pt,v):C},o.deflate=function(A,pt){var ut,j,B,Z;if(!A||!A.state||5<pt||pt<0)return A?wt(A,C):C;if(j=A.state,!A.output||!A.input&&A.avail_in!==0||j.status===666&&pt!==T)return wt(A,A.avail_out===0?-5:C);if(j.strm=A,ut=j.last_flush,j.last_flush=pt,j.status===I)if(j.wrap===2)A.adler=0,ot(j,31),ot(j,139),ot(j,8),j.gzhead?(ot(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),ot(j,255&j.gzhead.time),ot(j,j.gzhead.time>>8&255),ot(j,j.gzhead.time>>16&255),ot(j,j.gzhead.time>>24&255),ot(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),ot(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(ot(j,255&j.gzhead.extra.length),ot(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(A.adler=g(A.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(ot(j,0),ot(j,0),ot(j,0),ot(j,0),ot(j,0),ot(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),ot(j,3),j.status=V);else{var vt=M+(j.w_bits-8<<4)<<8;vt|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(vt|=32),vt+=31-vt%31,j.status=V,dt(j,vt),j.strstart!==0&&(dt(j,A.adler>>>16),dt(j,65535&A.adler)),A.adler=1}if(j.status===69)if(j.gzhead.extra){for(B=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>B&&(A.adler=g(A.adler,j.pending_buf,j.pending-B,B)),H(A),B=j.pending,j.pending!==j.pending_buf_size));)ot(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>B&&(A.adler=g(A.adler,j.pending_buf,j.pending-B,B)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){B=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>B&&(A.adler=g(A.adler,j.pending_buf,j.pending-B,B)),H(A),B=j.pending,j.pending===j.pending_buf_size)){Z=1;break}Z=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,ot(j,Z)}while(Z!==0);j.gzhead.hcrc&&j.pending>B&&(A.adler=g(A.adler,j.pending_buf,j.pending-B,B)),Z===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){B=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>B&&(A.adler=g(A.adler,j.pending_buf,j.pending-B,B)),H(A),B=j.pending,j.pending===j.pending_buf_size)){Z=1;break}Z=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,ot(j,Z)}while(Z!==0);j.gzhead.hcrc&&j.pending>B&&(A.adler=g(A.adler,j.pending_buf,j.pending-B,B)),Z===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&H(A),j.pending+2<=j.pending_buf_size&&(ot(j,255&A.adler),ot(j,A.adler>>8&255),A.adler=0,j.status=V)):j.status=V),j.pending!==0){if(H(A),A.avail_out===0)return j.last_flush=-1,v}else if(A.avail_in===0&&ft(pt)<=ft(ut)&&pt!==T)return wt(A,-5);if(j.status===666&&A.avail_in!==0)return wt(A,-5);if(A.avail_in!==0||j.lookahead!==0||pt!==E&&j.status!==666){var Tt=j.strategy===2?function(it,At){for(var xt;;){if(it.lookahead===0&&(Dt(it),it.lookahead===0)){if(At===E)return D;break}if(it.match_length=0,xt=d._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++,xt&&(K(it,!1),it.strm.avail_out===0))return D}return it.insert=0,At===T?(K(it,!0),it.strm.avail_out===0?tt:W):it.last_lit&&(K(it,!1),it.strm.avail_out===0)?D:ct}(j,pt):j.strategy===3?function(it,At){for(var xt,St,Ct,Ut,jt=it.window;;){if(it.lookahead<=P){if(Dt(it),it.lookahead<=P&&At===E)return D;if(it.lookahead===0)break}if(it.match_length=0,it.lookahead>=O&&0<it.strstart&&(St=jt[Ct=it.strstart-1])===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]){Ut=it.strstart+P;do;while(St===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]&&St===jt[++Ct]&&Ct<Ut);it.match_length=P-(Ut-Ct),it.match_length>it.lookahead&&(it.match_length=it.lookahead)}if(it.match_length>=O?(xt=d._tr_tally(it,1,it.match_length-O),it.lookahead-=it.match_length,it.strstart+=it.match_length,it.match_length=0):(xt=d._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++),xt&&(K(it,!1),it.strm.avail_out===0))return D}return it.insert=0,At===T?(K(it,!0),it.strm.avail_out===0?tt:W):it.last_lit&&(K(it,!1),it.strm.avail_out===0)?D:ct}(j,pt):u[j.level].func(j,pt);if(Tt!==tt&&Tt!==W||(j.status=666),Tt===D||Tt===tt)return A.avail_out===0&&(j.last_flush=-1),v;if(Tt===ct&&(pt===1?d._tr_align(j):pt!==5&&(d._tr_stored_block(j,0,0,!1),pt===3&&(q(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),H(A),A.avail_out===0))return j.last_flush=-1,v}return pt!==T?v:j.wrap<=0?1:(j.wrap===2?(ot(j,255&A.adler),ot(j,A.adler>>8&255),ot(j,A.adler>>16&255),ot(j,A.adler>>24&255),ot(j,255&A.total_in),ot(j,A.total_in>>8&255),ot(j,A.total_in>>16&255),ot(j,A.total_in>>24&255)):(dt(j,A.adler>>>16),dt(j,65535&A.adler)),H(A),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?v:1)},o.deflateEnd=function(A){var pt;return A&&A.state?(pt=A.state.status)!==I&&pt!==69&&pt!==73&&pt!==91&&pt!==103&&pt!==V&&pt!==666?wt(A,C):(A.state=null,pt===V?wt(A,-3):v):C},o.deflateSetDictionary=function(A,pt){var ut,j,B,Z,vt,Tt,it,At,xt=pt.length;if(!A||!A.state||(Z=(ut=A.state).wrap)===2||Z===1&&ut.status!==I||ut.lookahead)return C;for(Z===1&&(A.adler=m(A.adler,pt,xt,0)),ut.wrap=0,xt>=ut.w_size&&(Z===0&&(q(ut.head),ut.strstart=0,ut.block_start=0,ut.insert=0),At=new h.Buf8(ut.w_size),h.arraySet(At,pt,xt-ut.w_size,ut.w_size,0),pt=At,xt=ut.w_size),vt=A.avail_in,Tt=A.next_in,it=A.input,A.avail_in=xt,A.next_in=0,A.input=pt,Dt(ut);ut.lookahead>=O;){for(j=ut.strstart,B=ut.lookahead-(O-1);ut.ins_h=(ut.ins_h<<ut.hash_shift^ut.window[j+O-1])&ut.hash_mask,ut.prev[j&ut.w_mask]=ut.head[ut.ins_h],ut.head[ut.ins_h]=j,j++,--B;);ut.strstart=j,ut.lookahead=O-1,Dt(ut)}return ut.strstart+=ut.lookahead,ut.block_start=ut.strstart,ut.insert=ut.lookahead,ut.lookahead=0,ut.match_length=ut.prev_length=O-1,ut.match_available=0,A.next_in=Tt,A.input=it,A.avail_in=vt,ut.wrap=Z,v},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,a,o){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,a,o){a.exports=function(u,h){var d,m,g,y,E,T,v,C,S,R,x,M,L,Q,Y,rt,z,k,O,P,F,I,V,D,ct;d=u.state,m=u.next_in,D=u.input,g=m+(u.avail_in-5),y=u.next_out,ct=u.output,E=y-(h-u.avail_out),T=y+(u.avail_out-257),v=d.dmax,C=d.wsize,S=d.whave,R=d.wnext,x=d.window,M=d.hold,L=d.bits,Q=d.lencode,Y=d.distcode,rt=(1<<d.lenbits)-1,z=(1<<d.distbits)-1;t:do{L<15&&(M+=D[m++]<<L,L+=8,M+=D[m++]<<L,L+=8),k=Q[M&rt];e:for(;;){if(M>>>=O=k>>>24,L-=O,(O=k>>>16&255)===0)ct[y++]=65535&k;else{if(!(16&O)){if((64&O)==0){k=Q[(65535&k)+(M&(1<<O)-1)];continue e}if(32&O){d.mode=12;break t}u.msg="invalid literal/length code",d.mode=30;break t}P=65535&k,(O&=15)&&(L<O&&(M+=D[m++]<<L,L+=8),P+=M&(1<<O)-1,M>>>=O,L-=O),L<15&&(M+=D[m++]<<L,L+=8,M+=D[m++]<<L,L+=8),k=Y[M&z];n:for(;;){if(M>>>=O=k>>>24,L-=O,!(16&(O=k>>>16&255))){if((64&O)==0){k=Y[(65535&k)+(M&(1<<O)-1)];continue n}u.msg="invalid distance code",d.mode=30;break t}if(F=65535&k,L<(O&=15)&&(M+=D[m++]<<L,(L+=8)<O&&(M+=D[m++]<<L,L+=8)),v<(F+=M&(1<<O)-1)){u.msg="invalid distance too far back",d.mode=30;break t}if(M>>>=O,L-=O,(O=y-E)<F){if(S<(O=F-O)&&d.sane){u.msg="invalid distance too far back",d.mode=30;break t}if(V=x,(I=0)===R){if(I+=C-O,O<P){for(P-=O;ct[y++]=x[I++],--O;);I=y-F,V=ct}}else if(R<O){if(I+=C+R-O,(O-=R)<P){for(P-=O;ct[y++]=x[I++],--O;);if(I=0,R<P){for(P-=O=R;ct[y++]=x[I++],--O;);I=y-F,V=ct}}}else if(I+=R-O,O<P){for(P-=O;ct[y++]=x[I++],--O;);I=y-F,V=ct}for(;2<P;)ct[y++]=V[I++],ct[y++]=V[I++],ct[y++]=V[I++],P-=3;P&&(ct[y++]=V[I++],1<P&&(ct[y++]=V[I++]))}else{for(I=y-F;ct[y++]=ct[I++],ct[y++]=ct[I++],ct[y++]=ct[I++],2<(P-=3););P&&(ct[y++]=ct[I++],1<P&&(ct[y++]=ct[I++]))}break}}break}}while(m<g&&y<T);m-=P=L>>3,M&=(1<<(L-=P<<3))-1,u.next_in=m,u.next_out=y,u.avail_in=m<g?g-m+5:5-(m-g),u.avail_out=y<T?T-y+257:257-(y-T),d.hold=M,d.bits=L}},{}],49:[function(n,a,o){var u=n("../utils/common"),h=n("./adler32"),d=n("./crc32"),m=n("./inffast"),g=n("./inftrees"),y=1,E=2,T=0,v=-2,C=1,S=852,R=592;function x(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(I){var V;return I&&I.state?(V=I.state,I.total_in=I.total_out=V.total=0,I.msg="",V.wrap&&(I.adler=1&V.wrap),V.mode=C,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new u.Buf32(S),V.distcode=V.distdyn=new u.Buf32(R),V.sane=1,V.back=-1,T):v}function Q(I){var V;return I&&I.state?((V=I.state).wsize=0,V.whave=0,V.wnext=0,L(I)):v}function Y(I,V){var D,ct;return I&&I.state?(ct=I.state,V<0?(D=0,V=-V):(D=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?v:(ct.window!==null&&ct.wbits!==V&&(ct.window=null),ct.wrap=D,ct.wbits=V,Q(I))):v}function rt(I,V){var D,ct;return I?(ct=new M,(I.state=ct).window=null,(D=Y(I,V))!==T&&(I.state=null),D):v}var z,k,O=!0;function P(I){if(O){var V;for(z=new u.Buf32(512),k=new u.Buf32(32),V=0;V<144;)I.lens[V++]=8;for(;V<256;)I.lens[V++]=9;for(;V<280;)I.lens[V++]=7;for(;V<288;)I.lens[V++]=8;for(g(y,I.lens,0,288,z,0,I.work,{bits:9}),V=0;V<32;)I.lens[V++]=5;g(E,I.lens,0,32,k,0,I.work,{bits:5}),O=!1}I.lencode=z,I.lenbits=9,I.distcode=k,I.distbits=5}function F(I,V,D,ct){var tt,W=I.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new u.Buf8(W.wsize)),ct>=W.wsize?(u.arraySet(W.window,V,D-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(ct<(tt=W.wsize-W.wnext)&&(tt=ct),u.arraySet(W.window,V,D-ct,tt,W.wnext),(ct-=tt)?(u.arraySet(W.window,V,D-ct,ct,0),W.wnext=ct,W.whave=W.wsize):(W.wnext+=tt,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=tt))),0}o.inflateReset=Q,o.inflateReset2=Y,o.inflateResetKeep=L,o.inflateInit=function(I){return rt(I,15)},o.inflateInit2=rt,o.inflate=function(I,V){var D,ct,tt,W,wt,ft,q,H,K,ot,dt,_t,Dt,Jt,Vt,Gt,ye,se,Xe,je,A,pt,ut,j,B=0,Z=new u.Buf8(4),vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return v;(D=I.state).mode===12&&(D.mode=13),wt=I.next_out,tt=I.output,q=I.avail_out,W=I.next_in,ct=I.input,ft=I.avail_in,H=D.hold,K=D.bits,ot=ft,dt=q,pt=T;t:for(;;)switch(D.mode){case C:if(D.wrap===0){D.mode=13;break}for(;K<16;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(2&D.wrap&&H===35615){Z[D.check=0]=255&H,Z[1]=H>>>8&255,D.check=d(D.check,Z,2,0),K=H=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&H)<<8)+(H>>8))%31){I.msg="incorrect header check",D.mode=30;break}if((15&H)!=8){I.msg="unknown compression method",D.mode=30;break}if(K-=4,A=8+(15&(H>>>=4)),D.wbits===0)D.wbits=A;else if(A>D.wbits){I.msg="invalid window size",D.mode=30;break}D.dmax=1<<A,I.adler=D.check=1,D.mode=512&H?10:12,K=H=0;break;case 2:for(;K<16;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(D.flags=H,(255&D.flags)!=8){I.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){I.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=H>>8&1),512&D.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,D.check=d(D.check,Z,2,0)),K=H=0,D.mode=3;case 3:for(;K<32;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}D.head&&(D.head.time=H),512&D.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,Z[2]=H>>>16&255,Z[3]=H>>>24&255,D.check=d(D.check,Z,4,0)),K=H=0,D.mode=4;case 4:for(;K<16;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}D.head&&(D.head.xflags=255&H,D.head.os=H>>8),512&D.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,D.check=d(D.check,Z,2,0)),K=H=0,D.mode=5;case 5:if(1024&D.flags){for(;K<16;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}D.length=H,D.head&&(D.head.extra_len=H),512&D.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,D.check=d(D.check,Z,2,0)),K=H=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(ft<(_t=D.length)&&(_t=ft),_t&&(D.head&&(A=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),u.arraySet(D.head.extra,ct,W,_t,A)),512&D.flags&&(D.check=d(D.check,ct,_t,W)),ft-=_t,W+=_t,D.length-=_t),D.length))break t;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(ft===0)break t;for(_t=0;A=ct[W+_t++],D.head&&A&&D.length<65536&&(D.head.name+=String.fromCharCode(A)),A&&_t<ft;);if(512&D.flags&&(D.check=d(D.check,ct,_t,W)),ft-=_t,W+=_t,A)break t}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(ft===0)break t;for(_t=0;A=ct[W+_t++],D.head&&A&&D.length<65536&&(D.head.comment+=String.fromCharCode(A)),A&&_t<ft;);if(512&D.flags&&(D.check=d(D.check,ct,_t,W)),ft-=_t,W+=_t,A)break t}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;K<16;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(H!==(65535&D.check)){I.msg="header crc mismatch",D.mode=30;break}K=H=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),I.adler=D.check=0,D.mode=12;break;case 10:for(;K<32;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}I.adler=D.check=x(H),K=H=0,D.mode=11;case 11:if(D.havedict===0)return I.next_out=wt,I.avail_out=q,I.next_in=W,I.avail_in=ft,D.hold=H,D.bits=K,2;I.adler=D.check=1,D.mode=12;case 12:if(V===5||V===6)break t;case 13:if(D.last){H>>>=7&K,K-=7&K,D.mode=27;break}for(;K<3;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}switch(D.last=1&H,K-=1,3&(H>>>=1)){case 0:D.mode=14;break;case 1:if(P(D),D.mode=20,V!==6)break;H>>>=2,K-=2;break t;case 2:D.mode=17;break;case 3:I.msg="invalid block type",D.mode=30}H>>>=2,K-=2;break;case 14:for(H>>>=7&K,K-=7&K;K<32;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if((65535&H)!=(H>>>16^65535)){I.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&H,K=H=0,D.mode=15,V===6)break t;case 15:D.mode=16;case 16:if(_t=D.length){if(ft<_t&&(_t=ft),q<_t&&(_t=q),_t===0)break t;u.arraySet(tt,ct,W,_t,wt),ft-=_t,W+=_t,q-=_t,wt+=_t,D.length-=_t;break}D.mode=12;break;case 17:for(;K<14;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(D.nlen=257+(31&H),H>>>=5,K-=5,D.ndist=1+(31&H),H>>>=5,K-=5,D.ncode=4+(15&H),H>>>=4,K-=4,286<D.nlen||30<D.ndist){I.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;K<3;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}D.lens[vt[D.have++]]=7&H,H>>>=3,K-=3}for(;D.have<19;)D.lens[vt[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,ut={bits:D.lenbits},pt=g(0,D.lens,0,19,D.lencode,0,D.work,ut),D.lenbits=ut.bits,pt){I.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;Gt=(B=D.lencode[H&(1<<D.lenbits)-1])>>>16&255,ye=65535&B,!((Vt=B>>>24)<=K);){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(ye<16)H>>>=Vt,K-=Vt,D.lens[D.have++]=ye;else{if(ye===16){for(j=Vt+2;K<j;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(H>>>=Vt,K-=Vt,D.have===0){I.msg="invalid bit length repeat",D.mode=30;break}A=D.lens[D.have-1],_t=3+(3&H),H>>>=2,K-=2}else if(ye===17){for(j=Vt+3;K<j;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}K-=Vt,A=0,_t=3+(7&(H>>>=Vt)),H>>>=3,K-=3}else{for(j=Vt+7;K<j;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}K-=Vt,A=0,_t=11+(127&(H>>>=Vt)),H>>>=7,K-=7}if(D.have+_t>D.nlen+D.ndist){I.msg="invalid bit length repeat",D.mode=30;break}for(;_t--;)D.lens[D.have++]=A}}if(D.mode===30)break;if(D.lens[256]===0){I.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,ut={bits:D.lenbits},pt=g(y,D.lens,0,D.nlen,D.lencode,0,D.work,ut),D.lenbits=ut.bits,pt){I.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,ut={bits:D.distbits},pt=g(E,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,ut),D.distbits=ut.bits,pt){I.msg="invalid distances set",D.mode=30;break}if(D.mode=20,V===6)break t;case 20:D.mode=21;case 21:if(6<=ft&&258<=q){I.next_out=wt,I.avail_out=q,I.next_in=W,I.avail_in=ft,D.hold=H,D.bits=K,m(I,dt),wt=I.next_out,tt=I.output,q=I.avail_out,W=I.next_in,ct=I.input,ft=I.avail_in,H=D.hold,K=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;Gt=(B=D.lencode[H&(1<<D.lenbits)-1])>>>16&255,ye=65535&B,!((Vt=B>>>24)<=K);){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(Gt&&(240&Gt)==0){for(se=Vt,Xe=Gt,je=ye;Gt=(B=D.lencode[je+((H&(1<<se+Xe)-1)>>se)])>>>16&255,ye=65535&B,!(se+(Vt=B>>>24)<=K);){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}H>>>=se,K-=se,D.back+=se}if(H>>>=Vt,K-=Vt,D.back+=Vt,D.length=ye,Gt===0){D.mode=26;break}if(32&Gt){D.back=-1,D.mode=12;break}if(64&Gt){I.msg="invalid literal/length code",D.mode=30;break}D.extra=15&Gt,D.mode=22;case 22:if(D.extra){for(j=D.extra;K<j;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}D.length+=H&(1<<D.extra)-1,H>>>=D.extra,K-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;Gt=(B=D.distcode[H&(1<<D.distbits)-1])>>>16&255,ye=65535&B,!((Vt=B>>>24)<=K);){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if((240&Gt)==0){for(se=Vt,Xe=Gt,je=ye;Gt=(B=D.distcode[je+((H&(1<<se+Xe)-1)>>se)])>>>16&255,ye=65535&B,!(se+(Vt=B>>>24)<=K);){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}H>>>=se,K-=se,D.back+=se}if(H>>>=Vt,K-=Vt,D.back+=Vt,64&Gt){I.msg="invalid distance code",D.mode=30;break}D.offset=ye,D.extra=15&Gt,D.mode=24;case 24:if(D.extra){for(j=D.extra;K<j;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}D.offset+=H&(1<<D.extra)-1,H>>>=D.extra,K-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){I.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(q===0)break t;if(_t=dt-q,D.offset>_t){if((_t=D.offset-_t)>D.whave&&D.sane){I.msg="invalid distance too far back",D.mode=30;break}Dt=_t>D.wnext?(_t-=D.wnext,D.wsize-_t):D.wnext-_t,_t>D.length&&(_t=D.length),Jt=D.window}else Jt=tt,Dt=wt-D.offset,_t=D.length;for(q<_t&&(_t=q),q-=_t,D.length-=_t;tt[wt++]=Jt[Dt++],--_t;);D.length===0&&(D.mode=21);break;case 26:if(q===0)break t;tt[wt++]=D.length,q--,D.mode=21;break;case 27:if(D.wrap){for(;K<32;){if(ft===0)break t;ft--,H|=ct[W++]<<K,K+=8}if(dt-=q,I.total_out+=dt,D.total+=dt,dt&&(I.adler=D.check=D.flags?d(D.check,tt,dt,wt-dt):h(D.check,tt,dt,wt-dt)),dt=q,(D.flags?H:x(H))!==D.check){I.msg="incorrect data check",D.mode=30;break}K=H=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;K<32;){if(ft===0)break t;ft--,H+=ct[W++]<<K,K+=8}if(H!==(4294967295&D.total)){I.msg="incorrect length check",D.mode=30;break}K=H=0}D.mode=29;case 29:pt=1;break t;case 30:pt=-3;break t;case 31:return-4;case 32:default:return v}return I.next_out=wt,I.avail_out=q,I.next_in=W,I.avail_in=ft,D.hold=H,D.bits=K,(D.wsize||dt!==I.avail_out&&D.mode<30&&(D.mode<27||V!==4))&&F(I,I.output,I.next_out,dt-I.avail_out)?(D.mode=31,-4):(ot-=I.avail_in,dt-=I.avail_out,I.total_in+=ot,I.total_out+=dt,D.total+=dt,D.wrap&&dt&&(I.adler=D.check=D.flags?d(D.check,tt,dt,I.next_out-dt):h(D.check,tt,dt,I.next_out-dt)),I.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(ot==0&&dt===0||V===4)&&pt===T&&(pt=-5),pt)},o.inflateEnd=function(I){if(!I||!I.state)return v;var V=I.state;return V.window&&(V.window=null),I.state=null,T},o.inflateGetHeader=function(I,V){var D;return I&&I.state?(2&(D=I.state).wrap)==0?v:((D.head=V).done=!1,T):v},o.inflateSetDictionary=function(I,V){var D,ct=V.length;return I&&I.state?(D=I.state).wrap!==0&&D.mode!==11?v:D.mode===11&&h(1,V,ct,0)!==D.check?-3:F(I,V,ct,ct)?(D.mode=31,-4):(D.havedict=1,T):v},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,a,o){var u=n("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(y,E,T,v,C,S,R,x){var M,L,Q,Y,rt,z,k,O,P,F=x.bits,I=0,V=0,D=0,ct=0,tt=0,W=0,wt=0,ft=0,q=0,H=0,K=null,ot=0,dt=new u.Buf16(16),_t=new u.Buf16(16),Dt=null,Jt=0;for(I=0;I<=15;I++)dt[I]=0;for(V=0;V<v;V++)dt[E[T+V]]++;for(tt=F,ct=15;1<=ct&&dt[ct]===0;ct--);if(ct<tt&&(tt=ct),ct===0)return C[S++]=20971520,C[S++]=20971520,x.bits=1,0;for(D=1;D<ct&&dt[D]===0;D++);for(tt<D&&(tt=D),I=ft=1;I<=15;I++)if(ft<<=1,(ft-=dt[I])<0)return-1;if(0<ft&&(y===0||ct!==1))return-1;for(_t[1]=0,I=1;I<15;I++)_t[I+1]=_t[I]+dt[I];for(V=0;V<v;V++)E[T+V]!==0&&(R[_t[E[T+V]]++]=V);if(z=y===0?(K=Dt=R,19):y===1?(K=h,ot-=257,Dt=d,Jt-=257,256):(K=m,Dt=g,-1),I=D,rt=S,wt=V=H=0,Q=-1,Y=(q=1<<(W=tt))-1,y===1&&852<q||y===2&&592<q)return 1;for(;;){for(k=I-wt,P=R[V]<z?(O=0,R[V]):R[V]>z?(O=Dt[Jt+R[V]],K[ot+R[V]]):(O=96,0),M=1<<I-wt,D=L=1<<W;C[rt+(H>>wt)+(L-=M)]=k<<24|O<<16|P|0,L!==0;);for(M=1<<I-1;H&M;)M>>=1;if(M!==0?(H&=M-1,H+=M):H=0,V++,--dt[I]==0){if(I===ct)break;I=E[T+R[V]]}if(tt<I&&(H&Y)!==Q){for(wt===0&&(wt=tt),rt+=D,ft=1<<(W=I-wt);W+wt<ct&&!((ft-=dt[W+wt])<=0);)W++,ft<<=1;if(q+=1<<W,y===1&&852<q||y===2&&592<q)return 1;C[Q=H&Y]=tt<<24|W<<16|rt-S|0}}return H!==0&&(C[rt+H]=I-wt<<24|64<<16|0),x.bits=tt,0}},{"../utils/common":41}],51:[function(n,a,o){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,a,o){var u=n("../utils/common"),h=0,d=1;function m(B){for(var Z=B.length;0<=--Z;)B[Z]=0}var g=0,y=29,E=256,T=E+1+y,v=30,C=19,S=2*T+1,R=15,x=16,M=7,L=256,Q=16,Y=17,rt=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(T+2));m(F);var I=new Array(2*v);m(I);var V=new Array(512);m(V);var D=new Array(256);m(D);var ct=new Array(y);m(ct);var tt,W,wt,ft=new Array(v);function q(B,Z,vt,Tt,it){this.static_tree=B,this.extra_bits=Z,this.extra_base=vt,this.elems=Tt,this.max_length=it,this.has_stree=B&&B.length}function H(B,Z){this.dyn_tree=B,this.max_code=0,this.stat_desc=Z}function K(B){return B<256?V[B]:V[256+(B>>>7)]}function ot(B,Z){B.pending_buf[B.pending++]=255&Z,B.pending_buf[B.pending++]=Z>>>8&255}function dt(B,Z,vt){B.bi_valid>x-vt?(B.bi_buf|=Z<<B.bi_valid&65535,ot(B,B.bi_buf),B.bi_buf=Z>>x-B.bi_valid,B.bi_valid+=vt-x):(B.bi_buf|=Z<<B.bi_valid&65535,B.bi_valid+=vt)}function _t(B,Z,vt){dt(B,vt[2*Z],vt[2*Z+1])}function Dt(B,Z){for(var vt=0;vt|=1&B,B>>>=1,vt<<=1,0<--Z;);return vt>>>1}function Jt(B,Z,vt){var Tt,it,At=new Array(R+1),xt=0;for(Tt=1;Tt<=R;Tt++)At[Tt]=xt=xt+vt[Tt-1]<<1;for(it=0;it<=Z;it++){var St=B[2*it+1];St!==0&&(B[2*it]=Dt(At[St]++,St))}}function Vt(B){var Z;for(Z=0;Z<T;Z++)B.dyn_ltree[2*Z]=0;for(Z=0;Z<v;Z++)B.dyn_dtree[2*Z]=0;for(Z=0;Z<C;Z++)B.bl_tree[2*Z]=0;B.dyn_ltree[2*L]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function Gt(B){8<B.bi_valid?ot(B,B.bi_buf):0<B.bi_valid&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function ye(B,Z,vt,Tt){var it=2*Z,At=2*vt;return B[it]<B[At]||B[it]===B[At]&&Tt[Z]<=Tt[vt]}function se(B,Z,vt){for(var Tt=B.heap[vt],it=vt<<1;it<=B.heap_len&&(it<B.heap_len&&ye(Z,B.heap[it+1],B.heap[it],B.depth)&&it++,!ye(Z,Tt,B.heap[it],B.depth));)B.heap[vt]=B.heap[it],vt=it,it<<=1;B.heap[vt]=Tt}function Xe(B,Z,vt){var Tt,it,At,xt,St=0;if(B.last_lit!==0)for(;Tt=B.pending_buf[B.d_buf+2*St]<<8|B.pending_buf[B.d_buf+2*St+1],it=B.pending_buf[B.l_buf+St],St++,Tt===0?_t(B,it,Z):(_t(B,(At=D[it])+E+1,Z),(xt=z[At])!==0&&dt(B,it-=ct[At],xt),_t(B,At=K(--Tt),vt),(xt=k[At])!==0&&dt(B,Tt-=ft[At],xt)),St<B.last_lit;);_t(B,L,Z)}function je(B,Z){var vt,Tt,it,At=Z.dyn_tree,xt=Z.stat_desc.static_tree,St=Z.stat_desc.has_stree,Ct=Z.stat_desc.elems,Ut=-1;for(B.heap_len=0,B.heap_max=S,vt=0;vt<Ct;vt++)At[2*vt]!==0?(B.heap[++B.heap_len]=Ut=vt,B.depth[vt]=0):At[2*vt+1]=0;for(;B.heap_len<2;)At[2*(it=B.heap[++B.heap_len]=Ut<2?++Ut:0)]=1,B.depth[it]=0,B.opt_len--,St&&(B.static_len-=xt[2*it+1]);for(Z.max_code=Ut,vt=B.heap_len>>1;1<=vt;vt--)se(B,At,vt);for(it=Ct;vt=B.heap[1],B.heap[1]=B.heap[B.heap_len--],se(B,At,1),Tt=B.heap[1],B.heap[--B.heap_max]=vt,B.heap[--B.heap_max]=Tt,At[2*it]=At[2*vt]+At[2*Tt],B.depth[it]=(B.depth[vt]>=B.depth[Tt]?B.depth[vt]:B.depth[Tt])+1,At[2*vt+1]=At[2*Tt+1]=it,B.heap[1]=it++,se(B,At,1),2<=B.heap_len;);B.heap[--B.heap_max]=B.heap[1],function(jt,ce){var ur,An,In,he,Bn,_n,hn=ce.dyn_tree,cr=ce.max_code,na=ce.stat_desc.static_tree,ra=ce.stat_desc.has_stree,ia=ce.stat_desc.extra_bits,jn=ce.stat_desc.extra_base,yn=ce.stat_desc.max_length,hr=0;for(he=0;he<=R;he++)jt.bl_count[he]=0;for(hn[2*jt.heap[jt.heap_max]+1]=0,ur=jt.heap_max+1;ur<S;ur++)yn<(he=hn[2*hn[2*(An=jt.heap[ur])+1]+1]+1)&&(he=yn,hr++),hn[2*An+1]=he,cr<An||(jt.bl_count[he]++,Bn=0,jn<=An&&(Bn=ia[An-jn]),_n=hn[2*An],jt.opt_len+=_n*(he+Bn),ra&&(jt.static_len+=_n*(na[2*An+1]+Bn)));if(hr!==0){do{for(he=yn-1;jt.bl_count[he]===0;)he--;jt.bl_count[he]--,jt.bl_count[he+1]+=2,jt.bl_count[yn]--,hr-=2}while(0<hr);for(he=yn;he!==0;he--)for(An=jt.bl_count[he];An!==0;)cr<(In=jt.heap[--ur])||(hn[2*In+1]!==he&&(jt.opt_len+=(he-hn[2*In+1])*hn[2*In],hn[2*In+1]=he),An--)}}(B,Z),Jt(At,Ut,B.bl_count)}function A(B,Z,vt){var Tt,it,At=-1,xt=Z[1],St=0,Ct=7,Ut=4;for(xt===0&&(Ct=138,Ut=3),Z[2*(vt+1)+1]=65535,Tt=0;Tt<=vt;Tt++)it=xt,xt=Z[2*(Tt+1)+1],++St<Ct&&it===xt||(St<Ut?B.bl_tree[2*it]+=St:it!==0?(it!==At&&B.bl_tree[2*it]++,B.bl_tree[2*Q]++):St<=10?B.bl_tree[2*Y]++:B.bl_tree[2*rt]++,At=it,Ut=(St=0)===xt?(Ct=138,3):it===xt?(Ct=6,3):(Ct=7,4))}function pt(B,Z,vt){var Tt,it,At=-1,xt=Z[1],St=0,Ct=7,Ut=4;for(xt===0&&(Ct=138,Ut=3),Tt=0;Tt<=vt;Tt++)if(it=xt,xt=Z[2*(Tt+1)+1],!(++St<Ct&&it===xt)){if(St<Ut)for(;_t(B,it,B.bl_tree),--St!=0;);else it!==0?(it!==At&&(_t(B,it,B.bl_tree),St--),_t(B,Q,B.bl_tree),dt(B,St-3,2)):St<=10?(_t(B,Y,B.bl_tree),dt(B,St-3,3)):(_t(B,rt,B.bl_tree),dt(B,St-11,7));At=it,Ut=(St=0)===xt?(Ct=138,3):it===xt?(Ct=6,3):(Ct=7,4)}}m(ft);var ut=!1;function j(B,Z,vt,Tt){dt(B,(g<<1)+(Tt?1:0),3),function(it,At,xt,St){Gt(it),ot(it,xt),ot(it,~xt),u.arraySet(it.pending_buf,it.window,At,xt,it.pending),it.pending+=xt}(B,Z,vt)}o._tr_init=function(B){ut||(function(){var Z,vt,Tt,it,At,xt=new Array(R+1);for(it=Tt=0;it<y-1;it++)for(ct[it]=Tt,Z=0;Z<1<<z[it];Z++)D[Tt++]=it;for(D[Tt-1]=it,it=At=0;it<16;it++)for(ft[it]=At,Z=0;Z<1<<k[it];Z++)V[At++]=it;for(At>>=7;it<v;it++)for(ft[it]=At<<7,Z=0;Z<1<<k[it]-7;Z++)V[256+At++]=it;for(vt=0;vt<=R;vt++)xt[vt]=0;for(Z=0;Z<=143;)F[2*Z+1]=8,Z++,xt[8]++;for(;Z<=255;)F[2*Z+1]=9,Z++,xt[9]++;for(;Z<=279;)F[2*Z+1]=7,Z++,xt[7]++;for(;Z<=287;)F[2*Z+1]=8,Z++,xt[8]++;for(Jt(F,T+1,xt),Z=0;Z<v;Z++)I[2*Z+1]=5,I[2*Z]=Dt(Z,5);tt=new q(F,z,E+1,T,R),W=new q(I,k,0,v,R),wt=new q(new Array(0),O,0,C,M)}(),ut=!0),B.l_desc=new H(B.dyn_ltree,tt),B.d_desc=new H(B.dyn_dtree,W),B.bl_desc=new H(B.bl_tree,wt),B.bi_buf=0,B.bi_valid=0,Vt(B)},o._tr_stored_block=j,o._tr_flush_block=function(B,Z,vt,Tt){var it,At,xt=0;0<B.level?(B.strm.data_type===2&&(B.strm.data_type=function(St){var Ct,Ut=4093624447;for(Ct=0;Ct<=31;Ct++,Ut>>>=1)if(1&Ut&&St.dyn_ltree[2*Ct]!==0)return h;if(St.dyn_ltree[18]!==0||St.dyn_ltree[20]!==0||St.dyn_ltree[26]!==0)return d;for(Ct=32;Ct<E;Ct++)if(St.dyn_ltree[2*Ct]!==0)return d;return h}(B)),je(B,B.l_desc),je(B,B.d_desc),xt=function(St){var Ct;for(A(St,St.dyn_ltree,St.l_desc.max_code),A(St,St.dyn_dtree,St.d_desc.max_code),je(St,St.bl_desc),Ct=C-1;3<=Ct&&St.bl_tree[2*P[Ct]+1]===0;Ct--);return St.opt_len+=3*(Ct+1)+5+5+4,Ct}(B),it=B.opt_len+3+7>>>3,(At=B.static_len+3+7>>>3)<=it&&(it=At)):it=At=vt+5,vt+4<=it&&Z!==-1?j(B,Z,vt,Tt):B.strategy===4||At===it?(dt(B,2+(Tt?1:0),3),Xe(B,F,I)):(dt(B,4+(Tt?1:0),3),function(St,Ct,Ut,jt){var ce;for(dt(St,Ct-257,5),dt(St,Ut-1,5),dt(St,jt-4,4),ce=0;ce<jt;ce++)dt(St,St.bl_tree[2*P[ce]+1],3);pt(St,St.dyn_ltree,Ct-1),pt(St,St.dyn_dtree,Ut-1)}(B,B.l_desc.max_code+1,B.d_desc.max_code+1,xt+1),Xe(B,B.dyn_ltree,B.dyn_dtree)),Vt(B),Tt&&Gt(B)},o._tr_tally=function(B,Z,vt){return B.pending_buf[B.d_buf+2*B.last_lit]=Z>>>8&255,B.pending_buf[B.d_buf+2*B.last_lit+1]=255&Z,B.pending_buf[B.l_buf+B.last_lit]=255&vt,B.last_lit++,Z===0?B.dyn_ltree[2*vt]++:(B.matches++,Z--,B.dyn_ltree[2*(D[vt]+E+1)]++,B.dyn_dtree[2*K(Z)]++),B.last_lit===B.lit_bufsize-1},o._tr_align=function(B){dt(B,2,3),_t(B,L,F),function(Z){Z.bi_valid===16?(ot(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(B)}},{"../utils/common":41}],53:[function(n,a,o){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,a,o){(function(u){(function(h,d){if(!h.setImmediate){var m,g,y,E,T=1,v={},C=!1,S=h.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(h);R=R&&R.setTimeout?R:h,m={}.toString.call(h.process)==="[object process]"?function(Q){process.nextTick(function(){M(Q)})}:function(){if(h.postMessage&&!h.importScripts){var Q=!0,Y=h.onmessage;return h.onmessage=function(){Q=!1},h.postMessage("","*"),h.onmessage=Y,Q}}()?(E="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",L,!1):h.attachEvent("onmessage",L),function(Q){h.postMessage(E+Q,"*")}):h.MessageChannel?((y=new MessageChannel).port1.onmessage=function(Q){M(Q.data)},function(Q){y.port2.postMessage(Q)}):S&&"onreadystatechange"in S.createElement("script")?(g=S.documentElement,function(Q){var Y=S.createElement("script");Y.onreadystatechange=function(){M(Q),Y.onreadystatechange=null,g.removeChild(Y),Y=null},g.appendChild(Y)}):function(Q){setTimeout(M,0,Q)},R.setImmediate=function(Q){typeof Q!="function"&&(Q=new Function(""+Q));for(var Y=new Array(arguments.length-1),rt=0;rt<Y.length;rt++)Y[rt]=arguments[rt+1];var z={callback:Q,args:Y};return v[T]=z,m(T),T++},R.clearImmediate=x}function x(Q){delete v[Q]}function M(Q){if(C)setTimeout(M,0,Q);else{var Y=v[Q];if(Y){C=!0;try{(function(rt){var z=rt.callback,k=rt.args;switch(k.length){case 0:z();break;case 1:z(k[0]);break;case 2:z(k[0],k[1]);break;case 3:z(k[0],k[1],k[2]);break;default:z.apply(d,k)}})(Y)}finally{x(Q),C=!1}}}}function L(Q){Q.source===h&&typeof Q.data=="string"&&Q.data.indexOf(E)===0&&M(+Q.data.slice(E.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof qi<"u"?qi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(wd)),wd.exports}var Lx=zx();const Px=Xd(Lx);var Cc={exports:{}},Bx=Cc.exports,Vv;function jx(){return Vv||(Vv=1,function(i,t){(function(n,a){a()})(Bx,function(){function n(g,y){return typeof y>"u"?y={autoBom:!1}:typeof y!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),y={autoBom:!y}),y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function a(g,y,E){var T=new XMLHttpRequest;T.open("GET",g),T.responseType="blob",T.onload=function(){m(T.response,y,E)},T.onerror=function(){console.error("could not download file")},T.send()}function o(g){var y=new XMLHttpRequest;y.open("HEAD",g,!1);try{y.send()}catch{}return 200<=y.status&&299>=y.status}function u(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(y)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof qi=="object"&&qi.global===qi?qi:void 0,d=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,y,E){var T=h.URL||h.webkitURL,v=document.createElement("a");y=y||g.name||"download",v.download=y,v.rel="noopener",typeof g=="string"?(v.href=g,v.origin===location.origin?u(v):o(v.href)?a(g,y,E):u(v,v.target="_blank")):(v.href=T.createObjectURL(g),setTimeout(function(){T.revokeObjectURL(v.href)},4e4),setTimeout(function(){u(v)},0))}:"msSaveOrOpenBlob"in navigator?function(g,y,E){if(y=y||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,E),y);else if(o(g))a(g,y,E);else{var T=document.createElement("a");T.href=g,T.target="_blank",setTimeout(function(){u(T)})}}:function(g,y,E,T){if(T=T||open("","_blank"),T&&(T.document.title=T.document.body.innerText="downloading..."),typeof g=="string")return a(g,y,E);var v=g.type==="application/octet-stream",C=/constructor/i.test(h.HTMLElement)||h.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||v&&C||d)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var L=R.result;L=S?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=L:location=L,T=null},R.readAsDataURL(g)}else{var x=h.URL||h.webkitURL,M=x.createObjectURL(g);T?T.location=M:location.href=M,T=null,setTimeout(function(){x.revokeObjectURL(M)},4e4)}});h.saveAs=m.saveAs=m,i.exports=m})}(Cc)),Cc.exports}var qx=jx();function Hx(){var d;const[i,t]=mt.useState([]),[n,a]=mt.useState(null),[o,u]=mt.useState(!0);mt.useEffect(()=>{(async()=>{const g=Ex(tb(fb,"uploads"),bx("createdAt","desc")),E=(await xx(g)).docs.map(T=>T.data());t(E),u(!1)})()},[]);const h=async()=>{const m=new Px,g=m.folder("wedding-uploads");for(let E=0;E<i.length;E++){const T=i[E];try{const C=await(await fetch(T.url)).blob();g.file(T.name||`file-${E}`,C)}catch{console.error("Failed to fetch:",T.url)}}const y=await m.generateAsync({type:"blob"});qx.saveAs(y,"wedding-uploads.zip")};return Ot.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-300 via-white to-blue-200 p-6",children:[Ot.jsxs(Hs,{to:"/",className:"md:fixed md:top-6 md:left-6 z-50 animate-fade-in inline-flex items-center gap-2 bg-white text-blue-600 border border-blue-300 hover:bg-blue-50 hover:border-blue-500 font-medium px-4 py-2 rounded-full shadow transition mb-4",children:[Ot.jsx("span",{className:"text-lg",children:"←"}),"Home"]}),Ot.jsx("h1",{className:"text-4xl font-heading text-center mb-8",children:"🖼️ Guest Gallery"}),Ot.jsx("div",{className:"text-center mb-6",children:Ot.jsx("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"⬇ Download All Uploads"})}),o&&Ot.jsx("p",{className:"text-center text-gray-500",children:"Loading gallery..."}),Ot.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map((m,g)=>{var y;return Ot.jsxs("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition transform",onClick:()=>a(m),children:[(y=m.type)!=null&&y.startsWith("image")?Ot.jsx("img",{src:m.url,alt:m.name,className:"w-full h-60 object-cover"}):Ot.jsx("video",{src:m.url,className:"w-full h-60 object-cover"}),Ot.jsxs("div",{className:"p-3 text-center space-y-1",children:[m.guestName&&Ot.jsx("p",{className:"text-sm font-semibold text-pink-700",children:m.guestName}),m.caption&&Ot.jsxs("p",{className:"text-xs italic text-gray-500",children:["“",m.caption,"”"]}),m.createdAt&&Ot.jsx("p",{className:"text-xs text-gray-400",children:new Date(m.createdAt.seconds*1e3).toLocaleString()}),Ot.jsx("a",{href:m.url,download:!0,className:"inline-block mt-1 text-blue-500 hover:underline text-xs",children:"⬇ Download"})]})]},g)})}),!o&&i.length===0&&Ot.jsx("p",{className:"text-center text-gray-600 mt-10",children:"No uploads yet. Be the first to share!"}),n&&Ot.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:()=>a(null),children:Ot.jsxs("div",{className:"relative max-w-screen-md w-full p-4 bg-white rounded-xl shadow-lg",children:[Ot.jsx("button",{onClick:()=>a(null),className:"absolute top-2 right-4 text-gray-600 text-2xl font-bold",children:"×"}),(d=n.type)!=null&&d.startsWith("image")?Ot.jsx("img",{src:n.url,alt:n.name,className:"w-full rounded-lg"}):Ot.jsx("video",{src:n.url,controls:!0,autoPlay:!0,className:"w-full rounded-lg"}),Ot.jsxs("div",{className:"text-center mt-4",children:[n.guestName&&Ot.jsx("p",{className:"text-base font-semibold text-pink-700",children:n.guestName}),n.caption&&Ot.jsxs("p",{className:"text-sm italic text-gray-600 mt-1",children:["“",n.caption,"”"]}),n.createdAt&&Ot.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Uploaded on ",new Date(n.createdAt.seconds*1e3).toLocaleString()]}),Ot.jsx("a",{href:n.url,download:!0,className:"inline-block mt-2 text-blue-500 hover:underline text-sm",children:"⬇ Download File"})]})]})})]})}function Fx(){return Ot.jsx(uw,{children:Ot.jsxs(PT,{children:[Ot.jsx(yc,{path:"/",element:Ot.jsx(vw,{})}),Ot.jsx(yc,{path:"/upload",element:Ot.jsx(Ux,{})}),Ot.jsx(yc,{path:"/gallery",element:Ot.jsx(Hx,{})})]})})}K1.createRoot(document.getElementById("root")).render(Ot.jsx(B1.StrictMode,{children:Ot.jsx(Fx,{})}));
